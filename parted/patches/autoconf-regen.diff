Index: parted/parted-3.6/configure
===================================================================
--- parted.orig/parted-3.6/configure
+++ parted/parted-3.6/configure
@@ -1,11 +1,11 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.71 for GNU parted 3.6.
+# Generated by GNU Autoconf 2.72 for GNU parted 3.6.
 #
 # Report bugs to <bug-parted@gnu.org>.
 #
 #
-# Copyright (C) 1992-1996, 1998-2017, 2020-2021 Free Software Foundation,
+# Copyright (C) 1992-1996, 1998-2017, 2020-2023 Free Software Foundation,
 # Inc.
 #
 #
@@ -17,7 +17,6 @@
 
 # Be more Bourne compatible
 DUALCASE=1; export DUALCASE # for MKS sh
-as_nop=:
 if test ${ZSH_VERSION+y} && (emulate sh) >/dev/null 2>&1
 then :
   emulate sh
@@ -26,12 +25,13 @@ then :
   # is contrary to our usage.  Disable this feature.
   alias -g '${1+"$@"}'='"$@"'
   setopt NO_GLOB_SUBST
-else $as_nop
-  case `(set -o) 2>/dev/null` in #(
+else case e in #(
+  e) case `(set -o) 2>/dev/null` in #(
   *posix*) :
     set -o posix ;; #(
   *) :
      ;;
+esac ;;
 esac
 fi
 
@@ -103,7 +103,7 @@ IFS=$as_save_IFS
 
      ;;
 esac
-# We did not find ourselves, most probably we were run as `sh COMMAND'
+# We did not find ourselves, most probably we were run as 'sh COMMAND'
 # in which case we are not to be found in the path.
 if test "x$as_myself" = x; then
   as_myself=$0
@@ -133,15 +133,14 @@ case $- in # ((((
 esac
 exec $CONFIG_SHELL $as_opts "$as_myself" ${1+"$@"}
 # Admittedly, this is quite paranoid, since all the known shells bail
-# out after a failed `exec'.
+# out after a failed 'exec'.
 printf "%s\n" "$0: could not re-execute with $CONFIG_SHELL" >&2
 exit 255
   fi
   # We don't want this to propagate to other subprocesses.
           { _as_can_reexec=; unset _as_can_reexec;}
 if test "x$CONFIG_SHELL" = x; then
-  as_bourne_compatible="as_nop=:
-if test \${ZSH_VERSION+y} && (emulate sh) >/dev/null 2>&1
+  as_bourne_compatible="if test \${ZSH_VERSION+y} && (emulate sh) >/dev/null 2>&1
 then :
   emulate sh
   NULLCMD=:
@@ -149,12 +148,13 @@ then :
   # is contrary to our usage.  Disable this feature.
   alias -g '\${1+\"\$@\"}'='\"\$@\"'
   setopt NO_GLOB_SUBST
-else \$as_nop
-  case \`(set -o) 2>/dev/null\` in #(
+else case e in #(
+  e) case \`(set -o) 2>/dev/null\` in #(
   *posix*) :
     set -o posix ;; #(
   *) :
      ;;
+esac ;;
 esac
 fi
 "
@@ -172,8 +172,9 @@ as_fn_ret_failure && { exitcode=1; echo
 if ( set x; as_fn_ret_success y && test x = \"\$1\" )
 then :
 
-else \$as_nop
-  exitcode=1; echo positional parameters were not saved.
+else case e in #(
+  e) exitcode=1; echo positional parameters were not saved. ;;
+esac
 fi
 test x\$exitcode = x0 || exit 1
 blah=\$(echo \$(echo blah))
@@ -195,14 +196,15 @@ test \$(( 1 + 1 )) = 2 || exit 1
   if (eval "$as_required") 2>/dev/null
 then :
   as_have_required=yes
-else $as_nop
-  as_have_required=no
+else case e in #(
+  e) as_have_required=no ;;
+esac
 fi
   if test x$as_have_required = xyes && (eval "$as_suggested") 2>/dev/null
 then :
 
-else $as_nop
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+else case e in #(
+  e) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
 as_found=false
 for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
 do
@@ -235,12 +237,13 @@ IFS=$as_save_IFS
 if $as_found
 then :
 
-else $as_nop
-  if { test -f "$SHELL" || test -f "$SHELL.exe"; } &&
+else case e in #(
+  e) if { test -f "$SHELL" || test -f "$SHELL.exe"; } &&
 	      as_run=a "$SHELL" -c "$as_bourne_compatible""$as_required" 2>/dev/null
 then :
   CONFIG_SHELL=$SHELL as_have_required=yes
-fi
+fi ;;
+esac
 fi
 
 
@@ -262,7 +265,7 @@ case $- in # ((((
 esac
 exec $CONFIG_SHELL $as_opts "$as_myself" ${1+"$@"}
 # Admittedly, this is quite paranoid, since all the known shells bail
-# out after a failed `exec'.
+# out after a failed 'exec'.
 printf "%s\n" "$0: could not re-execute with $CONFIG_SHELL" >&2
 exit 255
 fi
@@ -282,7 +285,8 @@ $0: manually run the script under such a
 $0: have one."
   fi
   exit 1
-fi
+fi ;;
+esac
 fi
 fi
 SHELL=${CONFIG_SHELL-/bin/sh}
@@ -321,14 +325,6 @@ as_fn_exit ()
   as_fn_set_status $1
   exit $1
 } # as_fn_exit
-# as_fn_nop
-# ---------
-# Do nothing but, unlike ":", preserve the value of $?.
-as_fn_nop ()
-{
-  return $?
-}
-as_nop=as_fn_nop
 
 # as_fn_mkdir_p
 # -------------
@@ -397,11 +393,12 @@ then :
   {
     eval $1+=\$2
   }'
-else $as_nop
-  as_fn_append ()
+else case e in #(
+  e) as_fn_append ()
   {
     eval $1=\$$1\$2
-  }
+  } ;;
+esac
 fi # as_fn_append
 
 # as_fn_arith ARG...
@@ -415,21 +412,14 @@ then :
   {
     as_val=$(( $* ))
   }'
-else $as_nop
-  as_fn_arith ()
+else case e in #(
+  e) as_fn_arith ()
   {
     as_val=`expr "$@" || test $? -eq 1`
-  }
+  } ;;
+esac
 fi # as_fn_arith
 
-# as_fn_nop
-# ---------
-# Do nothing but, unlike ":", preserve the value of $?.
-as_fn_nop ()
-{
-  return $?
-}
-as_nop=as_fn_nop
 
 # as_fn_error STATUS ERROR [LINENO LOG_FD]
 # ----------------------------------------
@@ -503,6 +493,8 @@ as_cr_alnum=$as_cr_Letters$as_cr_digits
     /[$]LINENO/=
   ' <$as_myself |
     sed '
+      t clear
+      :clear
       s/[$]LINENO.*/&-/
       t lineno
       b
@@ -551,7 +543,6 @@ esac
 as_echo='printf %s\n'
 as_echo_n='printf %s'
 
-
 rm -f conf$$ conf$$.exe conf$$.file
 if test -d conf$$.dir; then
   rm -f conf$$.dir/conf$$.file
@@ -563,9 +554,9 @@ if (echo >conf$$.file) 2>/dev/null; then
   if ln -s conf$$.file conf$$ 2>/dev/null; then
     as_ln_s='ln -s'
     # ... but there are two gotchas:
-    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
-    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
-    # In both cases, we have to default to `cp -pR'.
+    # 1) On MSYS, both 'ln -s file dir' and 'ln file dir' fail.
+    # 2) DJGPP < 2.04 has no symlinks; 'ln -s' creates a wrapper executable.
+    # In both cases, we have to default to 'cp -pR'.
     ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
       as_ln_s='cp -pR'
   elif ln conf$$.file conf$$ 2>/dev/null; then
@@ -590,10 +581,12 @@ as_test_x='test -x'
 as_executable_p=as_fn_executable_p
 
 # Sed expression to map a string onto a valid CPP name.
-as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
+as_sed_cpp="y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g"
+as_tr_cpp="eval sed '$as_sed_cpp'" # deprecated
 
 # Sed expression to map a string onto a valid variable name.
-as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
+as_sed_sh="y%*+%pp%;s%[^_$as_cr_alnum]%_%g"
+as_tr_sh="eval sed '$as_sed_sh'" # deprecated
 
 SHELL=${CONFIG_SHELL-/bin/sh}
 
@@ -666,7 +659,7 @@ ac_func_c_list=
 gl_getopt_required=POSIX
 gt_needs=
 enable_year2038=no
-enable_largefile=yes
+enable_year2038=no
 ac_subst_vars='gltests_LIBOBJDEPS
 gltests_LTLIBOBJS
 gltests_LIBOBJS
@@ -725,6 +718,7 @@ ac_ct_DUMPBIN
 DUMPBIN
 LD
 FGREP
+EGREP
 LIBTOOL
 WARN_CFLAGS
 LIBTESTS_LIBDEPS
@@ -1393,6 +1387,7 @@ MBRTOWC_LIB
 LOCALE_ZH_CN
 LOCALE_FR_UTF8
 LOCALE_JA
+GREP
 SED
 GL_COND_OBJ_LSTAT_FALSE
 GL_COND_OBJ_LSTAT_TRUE
@@ -2138,8 +2133,6 @@ PARTED_USABLE_TEST_DIR
 RANLIB
 ARFLAGS
 AR
-EGREP
-GREP
 CPP
 am__fastdepCC_FALSE
 am__fastdepCC_TRUE
@@ -2255,6 +2248,7 @@ enable_read_only
 enable_pc98
 enable_hfs_extract_fs
 enable_dependency_tracking
+enable_largefile
 enable_threads
 enable_cross_guesses
 enable_assert
@@ -2276,7 +2270,6 @@ with_libiconv_prefix
 enable_nls
 with_libintl_prefix
 enable_year2038
-enable_largefile
 '
       ac_precious_vars='build_alias
 host_alias
@@ -2401,7 +2394,7 @@ do
     ac_useropt=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error $? "invalid feature name: \`$ac_useropt'"
+      as_fn_error $? "invalid feature name: '$ac_useropt'"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
@@ -2427,7 +2420,7 @@ do
     ac_useropt=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error $? "invalid feature name: \`$ac_useropt'"
+      as_fn_error $? "invalid feature name: '$ac_useropt'"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
@@ -2640,7 +2633,7 @@ do
     ac_useropt=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error $? "invalid package name: \`$ac_useropt'"
+      as_fn_error $? "invalid package name: '$ac_useropt'"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
@@ -2656,7 +2649,7 @@ do
     ac_useropt=`expr "x$ac_option" : 'x-*without-\(.*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error $? "invalid package name: \`$ac_useropt'"
+      as_fn_error $? "invalid package name: '$ac_useropt'"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
@@ -2686,8 +2679,8 @@ do
   | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
     x_libraries=$ac_optarg ;;
 
-  -*) as_fn_error $? "unrecognized option: \`$ac_option'
-Try \`$0 --help' for more information"
+  -*) as_fn_error $? "unrecognized option: '$ac_option'
+Try '$0 --help' for more information"
     ;;
 
   *=*)
@@ -2695,7 +2688,7 @@ Try \`$0 --help' for more information"
     # Reject names that are not valid shell variable names.
     case $ac_envvar in #(
       '' | [0-9]* | *[!_$as_cr_alnum]* )
-      as_fn_error $? "invalid variable name: \`$ac_envvar'" ;;
+      as_fn_error $? "invalid variable name: '$ac_envvar'" ;;
     esac
     eval $ac_envvar=\$ac_optarg
     export $ac_envvar ;;
@@ -2745,7 +2738,7 @@ do
   as_fn_error $? "expected an absolute directory name for --$ac_var: $ac_val"
 done
 
-# There might be people who depend on the old broken behavior: `$host'
+# There might be people who depend on the old broken behavior: '$host'
 # used to hold the argument of --host etc.
 # FIXME: To remove some day.
 build=$build_alias
@@ -2813,7 +2806,7 @@ if test ! -r "$srcdir/$ac_unique_file";
   test "$ac_srcdir_defaulted" = yes && srcdir="$ac_confdir or .."
   as_fn_error $? "cannot find sources ($ac_unique_file) in $srcdir"
 fi
-ac_msg="sources are in $srcdir, but \`cd $srcdir' does not work"
+ac_msg="sources are in $srcdir, but 'cd $srcdir' does not work"
 ac_abs_confdir=`(
 	cd "$srcdir" && test -r "./$ac_unique_file" || as_fn_error $? "$ac_msg"
 	pwd)`
@@ -2841,7 +2834,7 @@ if test "$ac_init_help" = "long"; then
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat <<_ACEOF
-\`configure' configures GNU parted 3.6 to adapt to many kinds of systems.
+'configure' configures GNU parted 3.6 to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
@@ -2855,11 +2848,11 @@ Configuration:
       --help=short        display options specific to this package
       --help=recursive    display the short help of all the included packages
   -V, --version           display version information and exit
-  -q, --quiet, --silent   do not print \`checking ...' messages
+  -q, --quiet, --silent   do not print 'checking ...' messages
       --cache-file=FILE   cache test results in FILE [disabled]
-  -C, --config-cache      alias for \`--cache-file=config.cache'
+  -C, --config-cache      alias for '--cache-file=config.cache'
   -n, --no-create         do not create output files
-      --srcdir=DIR        find the sources in DIR [configure dir or \`..']
+      --srcdir=DIR        find the sources in DIR [configure dir or '..']
 
 Installation directories:
   --prefix=PREFIX         install architecture-independent files in PREFIX
@@ -2867,10 +2860,10 @@ Installation directories:
   --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
                           [PREFIX]
 
-By default, \`make install' will install all the files in
-\`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
-an installation prefix other than \`$ac_default_prefix' using \`--prefix',
-for instance \`--prefix=\$HOME'.
+By default, 'make install' will install all the files in
+'$ac_default_prefix/bin', '$ac_default_prefix/lib' etc.  You can specify
+an installation prefix other than '$ac_default_prefix' using '--prefix',
+for instance '--prefix=\$HOME'.
 
 For better control, use the options below.
 
@@ -2934,6 +2927,7 @@ Optional Features:
                           do not reject slow dependency extractors
   --disable-dependency-tracking
                           speeds up one-time build
+  --disable-largefile     omit support for large files
   --enable-threads={isoc|posix|isoc+posix|windows}
                           specify multithreading API
   --disable-threads       build without multithread safety
@@ -2949,7 +2943,6 @@ Optional Features:
   --disable-rpath         do not hardcode runtime library paths
   --disable-nls           do not use Native Language Support
   --enable-year2038       support timestamps after 2038
-  --disable-largefile     omit support for large files
 
 Optional Packages:
   --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
@@ -2997,7 +2990,7 @@ Some influential environment variables:
               C compiler flags for CHECK, overriding pkg-config
   CHECK_LIBS  linker flags for CHECK, overriding pkg-config
 
-Use these variables to override the choices made by `configure' or to help
+Use these variables to override the choices made by 'configure' or to help
 it to find libraries and programs with nonstandard names/locations.
 
 Report bugs to <bug-parted@gnu.org>.
@@ -3067,9 +3060,9 @@ test -n "$ac_init_help" && exit $ac_stat
 if $ac_init_version; then
   cat <<\_ACEOF
 GNU parted configure 3.6
-generated by GNU Autoconf 2.71
+generated by GNU Autoconf 2.72
 
-Copyright (C) 2021 Free Software Foundation, Inc.
+Copyright (C) 2023 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
 _ACEOF
@@ -3108,11 +3101,12 @@ printf "%s\n" "$ac_try_echo"; } >&5
        } && test -s conftest.$ac_objext
 then :
   ac_retval=0
-else $as_nop
-  printf "%s\n" "$as_me: failed program was:" >&5
+else case e in #(
+  e) printf "%s\n" "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_retval=1
+	ac_retval=1 ;;
+esac
 fi
   eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
   as_fn_set_status $ac_retval
@@ -3150,11 +3144,12 @@ printf "%s\n" "$ac_try_echo"; } >&5
        }
 then :
   ac_retval=0
-else $as_nop
-  printf "%s\n" "$as_me: failed program was:" >&5
+else case e in #(
+  e) printf "%s\n" "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_retval=1
+	ac_retval=1 ;;
+esac
 fi
   # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information
   # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would
@@ -3166,6 +3161,41 @@ fi
 
 } # ac_fn_c_try_link
 
+# ac_fn_c_check_header_compile LINENO HEADER VAR INCLUDES
+# -------------------------------------------------------
+# Tests whether HEADER exists and can be compiled using the include files in
+# INCLUDES, setting the cache variable VAR accordingly.
+ac_fn_c_check_header_compile ()
+{
+  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
+printf %s "checking for $2... " >&6; }
+if eval test \${$3+y}
+then :
+  printf %s "(cached) " >&6
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+$4
+#include <$2>
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  eval "$3=yes"
+else case e in #(
+  e) eval "$3=no" ;;
+esac
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
+fi
+eval ac_res=\$$3
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+
+} # ac_fn_c_check_header_compile
+
 # ac_fn_c_try_cpp LINENO
 # ----------------------
 # Try to preprocess conftest.$ac_ext, and return whether this succeeded.
@@ -3193,50 +3223,18 @@ printf "%s\n" "$ac_try_echo"; } >&5
        }
 then :
   ac_retval=0
-else $as_nop
-  printf "%s\n" "$as_me: failed program was:" >&5
+else case e in #(
+  e) printf "%s\n" "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-    ac_retval=1
+    ac_retval=1 ;;
+esac
 fi
   eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
   as_fn_set_status $ac_retval
 
 } # ac_fn_c_try_cpp
 
-# ac_fn_c_check_header_compile LINENO HEADER VAR INCLUDES
-# -------------------------------------------------------
-# Tests whether HEADER exists and can be compiled using the include files in
-# INCLUDES, setting the cache variable VAR accordingly.
-ac_fn_c_check_header_compile ()
-{
-  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
-printf %s "checking for $2... " >&6; }
-if eval test \${$3+y}
-then :
-  printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
-/* end confdefs.h.  */
-$4
-#include <$2>
-_ACEOF
-if ac_fn_c_try_compile "$LINENO"
-then :
-  eval "$3=yes"
-else $as_nop
-  eval "$3=no"
-fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-fi
-eval ac_res=\$$3
-	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
-printf "%s\n" "$ac_res" >&6; }
-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
-
-} # ac_fn_c_check_header_compile
-
 # ac_fn_c_try_run LINENO
 # ----------------------
 # Try to run conftest.$ac_ext, and return whether this succeeded. Assumes that
@@ -3267,12 +3265,13 @@ printf "%s\n" "$ac_try_echo"; } >&5
   test $ac_status = 0; }; }
 then :
   ac_retval=0
-else $as_nop
-  printf "%s\n" "$as_me: program exited with status $ac_status" >&5
+else case e in #(
+  e) printf "%s\n" "$as_me: program exited with status $ac_status" >&5
        printf "%s\n" "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-       ac_retval=$ac_status
+       ac_retval=$ac_status ;;
+esac
 fi
   rm -rf conftest.dSYM conftest_ipa8_conftest.oo
   eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
@@ -3292,8 +3291,8 @@ printf %s "checking for $2... " >&6; }
 if eval test \${$3+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  eval "$3=no"
+else case e in #(
+  e) eval "$3=no"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $4
@@ -3323,12 +3322,14 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
 
-else $as_nop
-  eval "$3=yes"
+else case e in #(
+  e) eval "$3=yes" ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 eval ac_res=\$$3
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -3348,15 +3349,15 @@ printf %s "checking for $2... " >&6; }
 if eval test \${$3+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 /* Define $2 to an innocuous variant, in case <limits.h> declares $2.
    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
 #define $2 innocuous_$2
 
 /* System header to define __stub macros and hopefully few prototypes,
-   which can conflict with char $2 (); below.  */
+   which can conflict with char $2 (void); below.  */
 
 #include <limits.h>
 #undef $2
@@ -3367,7 +3368,7 @@ else $as_nop
 #ifdef __cplusplus
 extern "C"
 #endif
-char $2 ();
+char $2 (void);
 /* The GNU C library defines this for functions which it implements
     to always fail with ENOSYS.  Some functions are actually named
     something starting with __ and the normal name is an alias.  */
@@ -3386,11 +3387,13 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   eval "$3=yes"
-else $as_nop
-  eval "$3=no"
+else case e in #(
+  e) eval "$3=no" ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext
+    conftest$ac_exeext conftest.$ac_ext ;;
+esac
 fi
 eval ac_res=\$$3
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -3416,8 +3419,8 @@ printf %s "checking whether $as_decl_nam
 if eval test \${$3+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  as_decl_use=`echo $2|sed -e 's/(/((/' -e 's/)/) 0&/' -e 's/,/) 0& (/g'`
+else case e in #(
+  e) as_decl_use=`echo $2|sed -e 's/(/((/' -e 's/)/) 0&/' -e 's/,/) 0& (/g'`
   eval ac_save_FLAGS=\$$6
   as_fn_append $6 " $5"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -3441,12 +3444,14 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   eval "$3=yes"
-else $as_nop
-  eval "$3=no"
+else case e in #(
+  e) eval "$3=no" ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
   eval $6=\$ac_save_FLAGS
-
+ ;;
+esac
 fi
 eval ac_res=\$$3
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -3501,18 +3506,19 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_hi=$ac_mid; break
-else $as_nop
-  as_fn_arith $ac_mid + 1 && ac_lo=$as_val
+else case e in #(
+  e) as_fn_arith $ac_mid + 1 && ac_lo=$as_val
 			if test $ac_lo -le $ac_mid; then
 			  ac_lo= ac_hi=
 			  break
 			fi
-			as_fn_arith 2 '*' $ac_mid + 1 && ac_mid=$as_val
+			as_fn_arith 2 '*' $ac_mid + 1 && ac_mid=$as_val ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
   done
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $4
 int
@@ -3547,20 +3553,23 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_lo=$ac_mid; break
-else $as_nop
-  as_fn_arith '(' $ac_mid ')' - 1 && ac_hi=$as_val
+else case e in #(
+  e) as_fn_arith '(' $ac_mid ')' - 1 && ac_hi=$as_val
 			if test $ac_mid -le $ac_hi; then
 			  ac_lo= ac_hi=
 			  break
 			fi
-			as_fn_arith 2 '*' $ac_mid && ac_mid=$as_val
+			as_fn_arith 2 '*' $ac_mid && ac_mid=$as_val ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
   done
-else $as_nop
-  ac_lo= ac_hi=
+else case e in #(
+  e) ac_lo= ac_hi= ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 # Binary search between lo and hi bounds.
@@ -3583,8 +3592,9 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_hi=$ac_mid
-else $as_nop
-  as_fn_arith '(' $ac_mid ')' + 1 && ac_lo=$as_val
+else case e in #(
+  e) as_fn_arith '(' $ac_mid ')' + 1 && ac_lo=$as_val ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 done
@@ -3632,8 +3642,9 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   echo >>conftest.val; read $3 <conftest.val; ac_retval=0
-else $as_nop
-  ac_retval=1
+else case e in #(
+  e) ac_retval=1 ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
   conftest.$ac_objext conftest.beam conftest.$ac_ext
@@ -3657,8 +3668,8 @@ printf %s "checking for $2.$3... " >&6;
 if eval test \${$4+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $5
 int
@@ -3674,8 +3685,8 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   eval "$4=yes"
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $5
 int
@@ -3691,12 +3702,15 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   eval "$4=yes"
-else $as_nop
-  eval "$4=no"
+else case e in #(
+  e) eval "$4=no" ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 eval ac_res=\$$4
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -3729,7 +3743,7 @@ This file contains any messages produced
 running configure, to aid debugging if configure makes a mistake.
 
 It was created by GNU parted $as_me 3.6, which was
-generated by GNU Autoconf 2.71.  Invocation command line was
+generated by GNU Autoconf 2.72.  Invocation command line was
 
   $ $0$ac_configure_args_raw
 
@@ -3975,10 +3989,10 @@ esac
 printf "%s\n" "$as_me: loading site script $ac_site_file" >&6;}
     sed 's/^/| /' "$ac_site_file" >&5
     . "$ac_site_file" \
-      || { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+      || { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
 as_fn_error $? "failed to load site script $ac_site_file
-See \`config.log' for more details" "$LINENO" 5; }
+See 'config.log' for more details" "$LINENO" 5; }
   fi
 done
 
@@ -4014,9 +4028,7 @@ struct stat;
 /* Most of the following tests are stolen from RCS 5.7 src/conf.sh.  */
 struct buf { int x; };
 struct buf * (*rcsopen) (struct buf *, struct stat *, int);
-static char *e (p, i)
-     char **p;
-     int i;
+static char *e (char **p, int i)
 {
   return p[i];
 }
@@ -4030,6 +4042,21 @@ static char *f (char * (*g) (char **, in
   return s;
 }
 
+/* C89 style stringification. */
+#define noexpand_stringify(a) #a
+const char *stringified = noexpand_stringify(arbitrary+token=sequence);
+
+/* C89 style token pasting.  Exercises some of the corner cases that
+   e.g. old MSVC gets wrong, but not very hard. */
+#define noexpand_concat(a,b) a##b
+#define expand_concat(a,b) noexpand_concat(a,b)
+extern int vA;
+extern int vbee;
+#define aye A
+#define bee B
+int *pvA = &expand_concat(v,aye);
+int *pvbee = &noexpand_concat(v,bee);
+
 /* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has
    function prototypes and stuff, but not \xHH hex character constants.
    These do not provoke an error unfortunately, instead are silently treated
@@ -4057,16 +4084,19 @@ ok |= (argc == 0 || f (e, argv, 0) != ar
 
 # Test code for whether the C compiler supports C99 (global declarations)
 ac_c_conftest_c99_globals='
-// Does the compiler advertise C99 conformance?
+/* Does the compiler advertise C99 conformance? */
 #if !defined __STDC_VERSION__ || __STDC_VERSION__ < 199901L
 # error "Compiler does not advertise C99 conformance"
 #endif
 
+// See if C++-style comments work.
+
 #include <stdbool.h>
 extern int puts (const char *);
 extern int printf (const char *, ...);
 extern int dprintf (int, const char *, ...);
 extern void *malloc (size_t);
+extern void free (void *);
 
 // Check varargs macros.  These examples are taken from C99 6.10.3.5.
 // dprintf is used instead of fprintf to avoid needing to declare
@@ -4116,7 +4146,6 @@ typedef const char *ccp;
 static inline int
 test_restrict (ccp restrict text)
 {
-  // See if C++-style comments work.
   // Iterate through items via the restricted pointer.
   // Also check for declarations in for loops.
   for (unsigned int i = 0; *(text+i) != '\''\0'\''; ++i)
@@ -4182,6 +4211,8 @@ ac_c_conftest_c99_main='
   ia->datasize = 10;
   for (int i = 0; i < ia->datasize; ++i)
     ia->data[i] = i * 1.234;
+  // Work around memory leak warnings.
+  free (ia);
 
   // Check named initializers.
   struct named_init ni = {
@@ -4203,7 +4234,7 @@ ac_c_conftest_c99_main='
 
 # Test code for whether the C compiler supports C11 (global declarations)
 ac_c_conftest_c11_globals='
-// Does the compiler advertise C11 conformance?
+/* Does the compiler advertise C11 conformance? */
 #if !defined __STDC_VERSION__ || __STDC_VERSION__ < 201112L
 # error "Compiler does not advertise C11 conformance"
 #endif
@@ -4459,8 +4490,9 @@ IFS=$as_save_IFS
 if $as_found
 then :
 
-else $as_nop
-  as_fn_error $? "cannot find required auxiliary files:$ac_missing_aux_files" "$LINENO" 5
+else case e in #(
+  e) as_fn_error $? "cannot find required auxiliary files:$ac_missing_aux_files" "$LINENO" 5 ;;
+esac
 fi
 
 
@@ -4488,12 +4520,12 @@ for ac_var in $ac_precious_vars; do
   eval ac_new_val=\$ac_env_${ac_var}_value
   case $ac_old_set,$ac_new_set in
     set,)
-      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&5
-printf "%s\n" "$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&2;}
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: '$ac_var' was set to '$ac_old_val' in the previous run" >&5
+printf "%s\n" "$as_me: error: '$ac_var' was set to '$ac_old_val' in the previous run" >&2;}
       ac_cache_corrupted=: ;;
     ,set)
-      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' was not set in the previous run" >&5
-printf "%s\n" "$as_me: error: \`$ac_var' was not set in the previous run" >&2;}
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: '$ac_var' was not set in the previous run" >&5
+printf "%s\n" "$as_me: error: '$ac_var' was not set in the previous run" >&2;}
       ac_cache_corrupted=: ;;
     ,);;
     *)
@@ -4502,18 +4534,18 @@ printf "%s\n" "$as_me: error: \`$ac_var'
 	ac_old_val_w=`echo x $ac_old_val`
 	ac_new_val_w=`echo x $ac_new_val`
 	if test "$ac_old_val_w" != "$ac_new_val_w"; then
-	  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' has changed since the previous run:" >&5
-printf "%s\n" "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
+	  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: '$ac_var' has changed since the previous run:" >&5
+printf "%s\n" "$as_me: error: '$ac_var' has changed since the previous run:" >&2;}
 	  ac_cache_corrupted=:
 	else
-	  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: warning: ignoring whitespace changes in \`$ac_var' since the previous run:" >&5
-printf "%s\n" "$as_me: warning: ignoring whitespace changes in \`$ac_var' since the previous run:" >&2;}
+	  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: warning: ignoring whitespace changes in '$ac_var' since the previous run:" >&5
+printf "%s\n" "$as_me: warning: ignoring whitespace changes in '$ac_var' since the previous run:" >&2;}
 	  eval $ac_var=\$ac_old_val
 	fi
-	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}:   former value:  \`$ac_old_val'" >&5
-printf "%s\n" "$as_me:   former value:  \`$ac_old_val'" >&2;}
-	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}:   current value: \`$ac_new_val'" >&5
-printf "%s\n" "$as_me:   current value: \`$ac_new_val'" >&2;}
+	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}:   former value:  '$ac_old_val'" >&5
+printf "%s\n" "$as_me:   former value:  '$ac_old_val'" >&2;}
+	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}:   current value: '$ac_new_val'" >&5
+printf "%s\n" "$as_me:   current value: '$ac_new_val'" >&2;}
       fi;;
   esac
   # Pass precious variables to config.status.
@@ -4529,11 +4561,11 @@ printf "%s\n" "$as_me:   current value:
   fi
 done
 if $ac_cache_corrupted; then
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: changes in the environment can compromise the build" >&5
 printf "%s\n" "$as_me: error: changes in the environment can compromise the build" >&2;}
-  as_fn_error $? "run \`${MAKE-make} distclean' and/or \`rm $cache_file'
+  as_fn_error $? "run '${MAKE-make} distclean' and/or 'rm $cache_file'
 	    and start over" "$LINENO" 5
 fi
 ## -------------------- ##
@@ -4609,8 +4641,8 @@ if test -z "$INSTALL"; then
 if test ${ac_cv_path_install+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+else case e in #(
+  e) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
 for as_dir in $PATH
 do
   IFS=$as_save_IFS
@@ -4664,7 +4696,8 @@ esac
 IFS=$as_save_IFS
 
 rm -rf conftest.one conftest.two conftest.dir
-
+ ;;
+esac
 fi
   if test ${ac_cv_path_install+y}; then
     INSTALL=$ac_cv_path_install
@@ -4760,7 +4793,7 @@ test "$program_prefix" != NONE &&
 test "$program_suffix" != NONE &&
   program_transform_name="s&\$&$program_suffix&;$program_transform_name"
 # Double any \ or $.
-# By default was `s,x,x', remove it if useless.
+# By default was 's,x,x', remove it if useless.
 ac_script='s/[\\$]/&&/g;s/;s,x,x,$//'
 program_transform_name=`printf "%s\n" "$program_transform_name" | sed "$ac_script"`
 
@@ -4803,8 +4836,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_STRIP+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$STRIP"; then
+else case e in #(
+  e) if test -n "$STRIP"; then
   ac_cv_prog_STRIP="$STRIP" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -4826,7 +4859,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 STRIP=$ac_cv_prog_STRIP
 if test -n "$STRIP"; then
@@ -4848,8 +4882,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_STRIP+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_STRIP"; then
+else case e in #(
+  e) if test -n "$ac_ct_STRIP"; then
   ac_cv_prog_ac_ct_STRIP="$ac_ct_STRIP" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -4871,7 +4905,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_STRIP=$ac_cv_prog_ac_ct_STRIP
 if test -n "$ac_ct_STRIP"; then
@@ -4907,8 +4942,8 @@ if test -z "$MKDIR_P"; then
   if test ${ac_cv_path_mkdir+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+else case e in #(
+  e) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
 for as_dir in $PATH$PATH_SEPARATOR/opt/sfw/bin
 do
   IFS=$as_save_IFS
@@ -4922,7 +4957,7 @@ do
 	   as_fn_executable_p "$as_dir$ac_prog$ac_exec_ext" || continue
 	   case `"$as_dir$ac_prog$ac_exec_ext" --version 2>&1` in #(
 	     'mkdir ('*'coreutils) '* | \
-	     'BusyBox '* | \
+	     *'BusyBox '* | \
 	     'mkdir (fileutils) '4.1*)
 	       ac_cv_path_mkdir=$as_dir$ac_prog$ac_exec_ext
 	       break 3;;
@@ -4931,18 +4966,17 @@ do
        done
   done
 IFS=$as_save_IFS
-
+ ;;
+esac
 fi
 
   test -d ./--version && rmdir ./--version
   if test ${ac_cv_path_mkdir+y}; then
     MKDIR_P="$ac_cv_path_mkdir -p"
   else
-    # As a last resort, use the slow shell script.  Don't cache a
-    # value for MKDIR_P within a source directory, because that will
-    # break other packages using the cache if that directory is
-    # removed, or if the value is a relative name.
-    MKDIR_P="$ac_install_sh -d"
+    # As a last resort, use plain mkdir -p,
+    # in the hope it doesn't have the bugs of ancient mkdir.
+    MKDIR_P='mkdir -p'
   fi
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $MKDIR_P" >&5
@@ -4957,8 +4991,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_AWK+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$AWK"; then
+else case e in #(
+  e) if test -n "$AWK"; then
   ac_cv_prog_AWK="$AWK" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -4980,7 +5014,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 AWK=$ac_cv_prog_AWK
 if test -n "$AWK"; then
@@ -5002,8 +5037,8 @@ ac_make=`printf "%s\n" "$2" | sed 's/+/p
 if eval test \${ac_cv_prog_make_${ac_make}_set+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat >conftest.make <<\_ACEOF
+else case e in #(
+  e) cat >conftest.make <<\_ACEOF
 SHELL = /bin/sh
 all:
 	@echo '@@@%%%=$(MAKE)=@@@%%%'
@@ -5015,7 +5050,8 @@ case `${MAKE-make} -f conftest.make 2>/d
   *)
     eval ac_cv_prog_make_${ac_make}_set=no;;
 esac
-rm -f conftest.make
+rm -f conftest.make ;;
+esac
 fi
 if eval test \$ac_cv_prog_make_${ac_make}_set = yes; then
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
@@ -5053,8 +5089,8 @@ printf %s "checking whether $am_make sup
 if test ${am_cv_make_support_nested_variables+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if printf "%s\n" 'TRUE=$(BAR$(V))
+else case e in #(
+  e) if printf "%s\n" 'TRUE=$(BAR$(V))
 BAR0=false
 BAR1=true
 V=1
@@ -5064,7 +5100,8 @@ am__doit:
   am_cv_make_support_nested_variables=yes
 else
   am_cv_make_support_nested_variables=no
-fi
+fi ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_make_support_nested_variables" >&5
 printf "%s\n" "$am_cv_make_support_nested_variables" >&6; }
@@ -5219,8 +5256,8 @@ printf %s "checking whether $am_make sup
 if test ${am_cv_make_support_nested_variables+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if printf "%s\n" 'TRUE=$(BAR$(V))
+else case e in #(
+  e) if printf "%s\n" 'TRUE=$(BAR$(V))
 BAR0=false
 BAR1=true
 V=1
@@ -5230,7 +5267,8 @@ am__doit:
   am_cv_make_support_nested_variables=yes
 else
   am_cv_make_support_nested_variables=no
-fi
+fi ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_make_support_nested_variables" >&5
 printf "%s\n" "$am_cv_make_support_nested_variables" >&6; }
@@ -5255,15 +5293,16 @@ printf %s "checking build system type...
 if test ${ac_cv_build+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_build_alias=$build_alias
+else case e in #(
+  e) ac_build_alias=$build_alias
 test "x$ac_build_alias" = x &&
   ac_build_alias=`$SHELL "${ac_aux_dir}config.guess"`
 test "x$ac_build_alias" = x &&
   as_fn_error $? "cannot guess build type; you must specify one" "$LINENO" 5
 ac_cv_build=`$SHELL "${ac_aux_dir}config.sub" $ac_build_alias` ||
   as_fn_error $? "$SHELL ${ac_aux_dir}config.sub $ac_build_alias failed" "$LINENO" 5
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_build" >&5
 printf "%s\n" "$ac_cv_build" >&6; }
@@ -5290,14 +5329,15 @@ printf %s "checking host system type...
 if test ${ac_cv_host+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "x$host_alias" = x; then
+else case e in #(
+  e) if test "x$host_alias" = x; then
   ac_cv_host=$ac_cv_build
 else
   ac_cv_host=`$SHELL "${ac_aux_dir}config.sub" $host_alias` ||
     as_fn_error $? "$SHELL ${ac_aux_dir}config.sub $host_alias failed" "$LINENO" 5
 fi
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_host" >&5
 printf "%s\n" "$ac_cv_host" >&6; }
@@ -5323,6 +5363,7 @@ case "$host_os" in
 	linux*|uclinux*) OS=linux ;;
 	gnu*)	OS=gnu ;;
 	beos*)	OS=beos ;;
+	onyx*)  OS=onyx ;;
 	*)	as_fn_error $? "Unknown or unsupported OS \"$host_os\".  Only \"linux\", \"uclinux\", \"gnu\" and \"beos\" are supported in this version of GNU Parted." "$LINENO" 5 ;;
 esac
 
@@ -5332,9 +5373,10 @@ esac
 if test ${with_readline+y}
 then :
   withval=$with_readline;
-else $as_nop
-  with_readline=yes
-
+else case e in #(
+  e) with_readline=yes
+ ;;
+esac
 fi
 
 
@@ -5342,9 +5384,10 @@ fi
 if test ${enable_mtrace+y}
 then :
   enableval=$enable_mtrace;
-else $as_nop
-  enable_mtrace=no
-
+else case e in #(
+  e) enable_mtrace=no
+ ;;
+esac
 fi
 
 if test "$enable_mtrace" = yes; then
@@ -5371,9 +5414,10 @@ fi
 if test ${enable_discover_only+y}
 then :
   enableval=$enable_discover_only;
-else $as_nop
-  enable_discover_only=no
-
+else case e in #(
+  e) enable_discover_only=no
+ ;;
+esac
 fi
 
 if test "$enable_discover_only" = yes; then
@@ -5388,9 +5432,10 @@ PARTED_LIBS=""
 if test ${enable_debug+y}
 then :
   enableval=$enable_debug;
-else $as_nop
-  enable_debug=yes
-
+else case e in #(
+  e) enable_debug=yes
+ ;;
+esac
 fi
 
 
@@ -5404,9 +5449,10 @@ fi
 if test ${enable_read_only+y}
 then :
   enableval=$enable_read_only;
-else $as_nop
-  enable_read_only=no
-
+else case e in #(
+  e) enable_read_only=no
+ ;;
+esac
 fi
 
 if test "$enable_read_only" = yes; then
@@ -5422,9 +5468,10 @@ PARTEDLDFLAGS=
 if test ${enable_pc98+y}
 then :
   enableval=$enable_pc98;
-else $as_nop
-  enable_pc98=yes
-
+else case e in #(
+  e) enable_pc98=yes
+ ;;
+esac
 fi
 
 if test "$enable_pc98" = yes; then
@@ -5437,9 +5484,10 @@ fi
 if test ${enable_hfs_extract_fs+y}
 then :
   enableval=$enable_hfs_extract_fs;
-else $as_nop
-  enable_hfs_extract_fs=no
-
+else case e in #(
+  e) enable_hfs_extract_fs=no
+ ;;
+esac
 fi
 
 if test "$enable_hfs_extract_fs" = yes; then
@@ -5536,8 +5584,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_CC+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$CC"; then
+else case e in #(
+  e) if test -n "$CC"; then
   ac_cv_prog_CC="$CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -5559,7 +5607,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
@@ -5581,8 +5630,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_CC+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_CC"; then
+else case e in #(
+  e) if test -n "$ac_ct_CC"; then
   ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -5604,7 +5653,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_CC=$ac_cv_prog_ac_ct_CC
 if test -n "$ac_ct_CC"; then
@@ -5639,8 +5689,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_CC+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$CC"; then
+else case e in #(
+  e) if test -n "$CC"; then
   ac_cv_prog_CC="$CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -5662,7 +5712,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
@@ -5684,8 +5735,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_CC+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$CC"; then
+else case e in #(
+  e) if test -n "$CC"; then
   ac_cv_prog_CC="$CC" # Let the user override the test.
 else
   ac_prog_rejected=no
@@ -5724,7 +5775,8 @@ if test $ac_prog_rejected = yes; then
     ac_cv_prog_CC="$as_dir$ac_word${1+' '}$@"
   fi
 fi
-fi
+fi ;;
+esac
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
@@ -5748,8 +5800,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_CC+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$CC"; then
+else case e in #(
+  e) if test -n "$CC"; then
   ac_cv_prog_CC="$CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -5771,7 +5823,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
@@ -5797,8 +5850,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_CC+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_CC"; then
+else case e in #(
+  e) if test -n "$ac_ct_CC"; then
   ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -5820,7 +5873,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_CC=$ac_cv_prog_ac_ct_CC
 if test -n "$ac_ct_CC"; then
@@ -5858,8 +5912,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_CC+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$CC"; then
+else case e in #(
+  e) if test -n "$CC"; then
   ac_cv_prog_CC="$CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -5881,7 +5935,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
@@ -5903,8 +5958,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_CC+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_CC"; then
+else case e in #(
+  e) if test -n "$ac_ct_CC"; then
   ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -5926,7 +5981,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_CC=$ac_cv_prog_ac_ct_CC
 if test -n "$ac_ct_CC"; then
@@ -5955,10 +6011,10 @@ fi
 fi
 
 
-test -z "$CC" && { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+test -z "$CC" && { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
 as_fn_error $? "no acceptable C compiler found in \$PATH
-See \`config.log' for more details" "$LINENO" 5; }
+See 'config.log' for more details" "$LINENO" 5; }
 
 # Provide some information about the compiler.
 printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for C compiler version" >&5
@@ -6030,8 +6086,8 @@ printf "%s\n" "$ac_try_echo"; } >&5
   printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
   test $ac_status = 0; }
 then :
-  # Autoconf-2.13 could set the ac_cv_exeext variable to `no'.
-# So ignore a value of `no', otherwise this would lead to `EXEEXT = no'
+  # Autoconf-2.13 could set the ac_cv_exeext variable to 'no'.
+# So ignore a value of 'no', otherwise this would lead to 'EXEEXT = no'
 # in a Makefile.  We should not override ac_cv_exeext if it was cached,
 # so that the user can short-circuit this test for compilers unknown to
 # Autoconf.
@@ -6051,7 +6107,7 @@ do
 	   ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
 	fi
 	# We set ac_cv_exeext here because the later test for it is not
-	# safe: cross compilers may not add the suffix if given an `-o'
+	# safe: cross compilers may not add the suffix if given an '-o'
 	# argument, so we may need to know it at that point already.
 	# Even if this section looks crufty: it has the advantage of
 	# actually working.
@@ -6062,8 +6118,9 @@ do
 done
 test "$ac_cv_exeext" = no && ac_cv_exeext=
 
-else $as_nop
-  ac_file=''
+else case e in #(
+  e) ac_file='' ;;
+esac
 fi
 if test -z "$ac_file"
 then :
@@ -6072,13 +6129,14 @@ printf "%s\n" "no" >&6; }
 printf "%s\n" "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
 as_fn_error 77 "C compiler cannot create executables
-See \`config.log' for more details" "$LINENO" 5; }
-else $as_nop
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
-printf "%s\n" "yes" >&6; }
+See 'config.log' for more details" "$LINENO" 5; }
+else case e in #(
+  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; } ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for C compiler default output file name" >&5
 printf %s "checking for C compiler default output file name... " >&6; }
@@ -6102,10 +6160,10 @@ printf "%s\n" "$ac_try_echo"; } >&5
   printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
   test $ac_status = 0; }
 then :
-  # If both `conftest.exe' and `conftest' are `present' (well, observable)
-# catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will
-# work properly (i.e., refer to `conftest.exe'), while it won't with
-# `rm'.
+  # If both 'conftest.exe' and 'conftest' are 'present' (well, observable)
+# catch 'conftest.exe'.  For instance with Cygwin, 'ls conftest' will
+# work properly (i.e., refer to 'conftest.exe'), while it won't with
+# 'rm'.
 for ac_file in conftest.exe conftest conftest.*; do
   test -f "$ac_file" || continue
   case $ac_file in
@@ -6115,11 +6173,12 @@ for ac_file in conftest.exe conftest con
     * ) break;;
   esac
 done
-else $as_nop
-  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+else case e in #(
+  e) { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
 as_fn_error $? "cannot compute suffix of executables: cannot compile and link
-See \`config.log' for more details" "$LINENO" 5; }
+See 'config.log' for more details" "$LINENO" 5; } ;;
+esac
 fi
 rm -f conftest conftest$ac_cv_exeext
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_exeext" >&5
@@ -6135,6 +6194,8 @@ int
 main (void)
 {
 FILE *f = fopen ("conftest.out", "w");
+ if (!f)
+  return 1;
  return ferror (f) || fclose (f) != 0;
 
   ;
@@ -6174,26 +6235,27 @@ printf "%s\n" "$ac_try_echo"; } >&5
     if test "$cross_compiling" = maybe; then
 	cross_compiling=yes
     else
-	{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+	{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
 as_fn_error 77 "cannot run C compiled programs.
-If you meant to cross compile, use \`--host'.
-See \`config.log' for more details" "$LINENO" 5; }
+If you meant to cross compile, use '--host'.
+See 'config.log' for more details" "$LINENO" 5; }
     fi
   fi
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $cross_compiling" >&5
 printf "%s\n" "$cross_compiling" >&6; }
 
-rm -f conftest.$ac_ext conftest$ac_cv_exeext conftest.out
+rm -f conftest.$ac_ext conftest$ac_cv_exeext \
+  conftest.o conftest.obj conftest.out
 ac_clean_files=$ac_clean_files_save
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for suffix of object files" >&5
 printf %s "checking for suffix of object files... " >&6; }
 if test ${ac_cv_objext+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 int
@@ -6225,16 +6287,18 @@ then :
        break;;
   esac
 done
-else $as_nop
-  printf "%s\n" "$as_me: failed program was:" >&5
+else case e in #(
+  e) printf "%s\n" "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
 as_fn_error $? "cannot compute suffix of object files: cannot compile
-See \`config.log' for more details" "$LINENO" 5; }
+See 'config.log' for more details" "$LINENO" 5; } ;;
+esac
 fi
-rm -f conftest.$ac_cv_objext conftest.$ac_ext
+rm -f conftest.$ac_cv_objext conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_objext" >&5
 printf "%s\n" "$ac_cv_objext" >&6; }
@@ -6245,8 +6309,8 @@ printf %s "checking whether the compiler
 if test ${ac_cv_c_compiler_gnu+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 int
@@ -6263,12 +6327,14 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_compiler_gnu=yes
-else $as_nop
-  ac_compiler_gnu=no
+else case e in #(
+  e) ac_compiler_gnu=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 ac_cv_c_compiler_gnu=$ac_compiler_gnu
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_compiler_gnu" >&5
 printf "%s\n" "$ac_cv_c_compiler_gnu" >&6; }
@@ -6286,8 +6352,8 @@ printf %s "checking whether $CC accepts
 if test ${ac_cv_prog_cc_g+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_save_c_werror_flag=$ac_c_werror_flag
+else case e in #(
+  e) ac_save_c_werror_flag=$ac_c_werror_flag
    ac_c_werror_flag=yes
    ac_cv_prog_cc_g=no
    CFLAGS="-g"
@@ -6305,8 +6371,8 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_prog_cc_g=yes
-else $as_nop
-  CFLAGS=""
+else case e in #(
+  e) CFLAGS=""
       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -6321,8 +6387,8 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
 
-else $as_nop
-  ac_c_werror_flag=$ac_save_c_werror_flag
+else case e in #(
+  e) ac_c_werror_flag=$ac_save_c_werror_flag
 	 CFLAGS="-g"
 	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -6339,12 +6405,15 @@ if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_prog_cc_g=yes
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-   ac_c_werror_flag=$ac_save_c_werror_flag
+   ac_c_werror_flag=$ac_save_c_werror_flag ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_g" >&5
 printf "%s\n" "$ac_cv_prog_cc_g" >&6; }
@@ -6371,8 +6440,8 @@ printf %s "checking for $CC option to en
 if test ${ac_cv_prog_cc_c11+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_cv_prog_cc_c11=no
+else case e in #(
+  e) ac_cv_prog_cc_c11=no
 ac_save_CC=$CC
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -6389,25 +6458,28 @@ rm -f core conftest.err conftest.$ac_obj
   test "x$ac_cv_prog_cc_c11" != "xno" && break
 done
 rm -f conftest.$ac_ext
-CC=$ac_save_CC
+CC=$ac_save_CC ;;
+esac
 fi
 
 if test "x$ac_cv_prog_cc_c11" = xno
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
 printf "%s\n" "unsupported" >&6; }
-else $as_nop
-  if test "x$ac_cv_prog_cc_c11" = x
+else case e in #(
+  e) if test "x$ac_cv_prog_cc_c11" = x
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
 printf "%s\n" "none needed" >&6; }
-else $as_nop
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c11" >&5
+else case e in #(
+  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c11" >&5
 printf "%s\n" "$ac_cv_prog_cc_c11" >&6; }
-     CC="$CC $ac_cv_prog_cc_c11"
+     CC="$CC $ac_cv_prog_cc_c11" ;;
+esac
 fi
   ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c11
-  ac_prog_cc_stdc=c11
+  ac_prog_cc_stdc=c11 ;;
+esac
 fi
 fi
 if test x$ac_prog_cc_stdc = xno
@@ -6417,8 +6489,8 @@ printf %s "checking for $CC option to en
 if test ${ac_cv_prog_cc_c99+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_cv_prog_cc_c99=no
+else case e in #(
+  e) ac_cv_prog_cc_c99=no
 ac_save_CC=$CC
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -6435,25 +6507,28 @@ rm -f core conftest.err conftest.$ac_obj
   test "x$ac_cv_prog_cc_c99" != "xno" && break
 done
 rm -f conftest.$ac_ext
-CC=$ac_save_CC
+CC=$ac_save_CC ;;
+esac
 fi
 
 if test "x$ac_cv_prog_cc_c99" = xno
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
 printf "%s\n" "unsupported" >&6; }
-else $as_nop
-  if test "x$ac_cv_prog_cc_c99" = x
+else case e in #(
+  e) if test "x$ac_cv_prog_cc_c99" = x
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
 printf "%s\n" "none needed" >&6; }
-else $as_nop
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c99" >&5
+else case e in #(
+  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c99" >&5
 printf "%s\n" "$ac_cv_prog_cc_c99" >&6; }
-     CC="$CC $ac_cv_prog_cc_c99"
+     CC="$CC $ac_cv_prog_cc_c99" ;;
+esac
 fi
   ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c99
-  ac_prog_cc_stdc=c99
+  ac_prog_cc_stdc=c99 ;;
+esac
 fi
 fi
 if test x$ac_prog_cc_stdc = xno
@@ -6463,8 +6538,8 @@ printf %s "checking for $CC option to en
 if test ${ac_cv_prog_cc_c89+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_cv_prog_cc_c89=no
+else case e in #(
+  e) ac_cv_prog_cc_c89=no
 ac_save_CC=$CC
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -6481,25 +6556,28 @@ rm -f core conftest.err conftest.$ac_obj
   test "x$ac_cv_prog_cc_c89" != "xno" && break
 done
 rm -f conftest.$ac_ext
-CC=$ac_save_CC
+CC=$ac_save_CC ;;
+esac
 fi
 
 if test "x$ac_cv_prog_cc_c89" = xno
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
 printf "%s\n" "unsupported" >&6; }
-else $as_nop
-  if test "x$ac_cv_prog_cc_c89" = x
+else case e in #(
+  e) if test "x$ac_cv_prog_cc_c89" = x
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
 printf "%s\n" "none needed" >&6; }
-else $as_nop
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c89" >&5
+else case e in #(
+  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c89" >&5
 printf "%s\n" "$ac_cv_prog_cc_c89" >&6; }
-     CC="$CC $ac_cv_prog_cc_c89"
+     CC="$CC $ac_cv_prog_cc_c89" ;;
+esac
 fi
   ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c89
-  ac_prog_cc_stdc=c89
+  ac_prog_cc_stdc=c89 ;;
+esac
 fi
 fi
 
@@ -6520,8 +6598,8 @@ printf %s "checking whether $CC understa
 if test ${am_cv_prog_cc_c_o+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 int
@@ -6551,7 +6629,8 @@ _ACEOF
     fi
   done
   rm -f core conftest*
-  unset am_i
+  unset am_i ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_prog_cc_c_o" >&5
 printf "%s\n" "$am_cv_prog_cc_c_o" >&6; }
@@ -6576,8 +6655,8 @@ printf %s "checking whether the compiler
 if test ${gl_cv_compiler_clang+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-                 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e)                cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
            #ifdef __clang__
@@ -6596,11 +6675,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_compiler_clang=no
-else $as_nop
-  gl_cv_compiler_clang=yes
+else case e in #(
+  e) gl_cv_compiler_clang=yes ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_compiler_clang" >&5
 printf "%s\n" "$gl_cv_compiler_clang" >&6; }
@@ -6611,8 +6692,8 @@ printf %s "checking for compiler option
 if test ${gl_cv_compiler_check_decl_option+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test $gl_cv_compiler_clang = yes; then
+else case e in #(
+  e) if test $gl_cv_compiler_clang = yes; then
                      save_ac_compile="$ac_compile"
        ac_compile="$ac_compile -Werror=implicit-function-declaration"
                      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -6629,15 +6710,17 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_compiler_check_decl_option='-Werror=implicit-function-declaration'
-else $as_nop
-  gl_cv_compiler_check_decl_option=none
+else case e in #(
+  e) gl_cv_compiler_check_decl_option=none ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
        ac_compile="$save_ac_compile"
      else
        gl_cv_compiler_check_decl_option=none
      fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_compiler_check_decl_option" >&5
 printf "%s\n" "$gl_cv_compiler_check_decl_option" >&6; }
@@ -6655,8 +6738,8 @@ printf %s "checking dependency style of
 if test ${am_cv_CC_dependencies_compiler_type+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
+else case e in #(
+  e) if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
   # We make a subdir and do the tests there.  Otherwise we can end up
   # making bogus files that we don't know about and never remove.  For
   # instance it was reported that on HP-UX the gcc test will end up
@@ -6760,7 +6843,8 @@ else $as_nop
 else
   am_cv_CC_dependencies_compiler_type=none
 fi
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_CC_dependencies_compiler_type" >&5
 printf "%s\n" "$am_cv_CC_dependencies_compiler_type" >&6; }
@@ -6783,15 +6867,21 @@ printf %s "checking for library containi
 if test ${ac_cv_search_strerror+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_func_search_save_LIBS=$LIBS
+else case e in #(
+  e) ac_func_search_save_LIBS=$LIBS
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char strerror ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char strerror (void);
 int
 main (void)
 {
@@ -6822,11 +6912,13 @@ done
 if test ${ac_cv_search_strerror+y}
 then :
 
-else $as_nop
-  ac_cv_search_strerror=no
+else case e in #(
+  e) ac_cv_search_strerror=no ;;
+esac
 fi
 rm conftest.$ac_ext
-LIBS=$ac_func_search_save_LIBS
+LIBS=$ac_func_search_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_strerror" >&5
 printf "%s\n" "$ac_cv_search_strerror" >&6; }
@@ -6850,8 +6942,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_CC+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$CC"; then
+else case e in #(
+  e) if test -n "$CC"; then
   ac_cv_prog_CC="$CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -6873,7 +6965,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
@@ -6895,8 +6988,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_CC+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_CC"; then
+else case e in #(
+  e) if test -n "$ac_ct_CC"; then
   ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -6918,7 +7011,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_CC=$ac_cv_prog_ac_ct_CC
 if test -n "$ac_ct_CC"; then
@@ -6953,8 +7047,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_CC+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$CC"; then
+else case e in #(
+  e) if test -n "$CC"; then
   ac_cv_prog_CC="$CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -6976,7 +7070,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
@@ -6998,8 +7093,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_CC+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$CC"; then
+else case e in #(
+  e) if test -n "$CC"; then
   ac_cv_prog_CC="$CC" # Let the user override the test.
 else
   ac_prog_rejected=no
@@ -7038,7 +7133,8 @@ if test $ac_prog_rejected = yes; then
     ac_cv_prog_CC="$as_dir$ac_word${1+' '}$@"
   fi
 fi
-fi
+fi ;;
+esac
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
@@ -7062,8 +7158,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_CC+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$CC"; then
+else case e in #(
+  e) if test -n "$CC"; then
   ac_cv_prog_CC="$CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -7085,7 +7181,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
@@ -7111,8 +7208,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_CC+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_CC"; then
+else case e in #(
+  e) if test -n "$ac_ct_CC"; then
   ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -7134,7 +7231,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_CC=$ac_cv_prog_ac_ct_CC
 if test -n "$ac_ct_CC"; then
@@ -7172,8 +7270,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_CC+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$CC"; then
+else case e in #(
+  e) if test -n "$CC"; then
   ac_cv_prog_CC="$CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -7195,7 +7293,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
@@ -7217,8 +7316,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_CC+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_CC"; then
+else case e in #(
+  e) if test -n "$ac_ct_CC"; then
   ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -7240,7 +7339,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_CC=$ac_cv_prog_ac_ct_CC
 if test -n "$ac_ct_CC"; then
@@ -7269,10 +7369,10 @@ fi
 fi
 
 
-test -z "$CC" && { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+test -z "$CC" && { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
 as_fn_error $? "no acceptable C compiler found in \$PATH
-See \`config.log' for more details" "$LINENO" 5; }
+See 'config.log' for more details" "$LINENO" 5; }
 
 # Provide some information about the compiler.
 printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for C compiler version" >&5
@@ -7304,8 +7404,8 @@ printf %s "checking whether the compiler
 if test ${ac_cv_c_compiler_gnu+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 int
@@ -7322,12 +7422,14 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_compiler_gnu=yes
-else $as_nop
-  ac_compiler_gnu=no
+else case e in #(
+  e) ac_compiler_gnu=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 ac_cv_c_compiler_gnu=$ac_compiler_gnu
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_compiler_gnu" >&5
 printf "%s\n" "$ac_cv_c_compiler_gnu" >&6; }
@@ -7345,8 +7447,8 @@ printf %s "checking whether $CC accepts
 if test ${ac_cv_prog_cc_g+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_save_c_werror_flag=$ac_c_werror_flag
+else case e in #(
+  e) ac_save_c_werror_flag=$ac_c_werror_flag
    ac_c_werror_flag=yes
    ac_cv_prog_cc_g=no
    CFLAGS="-g"
@@ -7364,8 +7466,8 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_prog_cc_g=yes
-else $as_nop
-  CFLAGS=""
+else case e in #(
+  e) CFLAGS=""
       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -7380,8 +7482,8 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
 
-else $as_nop
-  ac_c_werror_flag=$ac_save_c_werror_flag
+else case e in #(
+  e) ac_c_werror_flag=$ac_save_c_werror_flag
 	 CFLAGS="-g"
 	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -7398,12 +7500,15 @@ if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_prog_cc_g=yes
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-   ac_c_werror_flag=$ac_save_c_werror_flag
+   ac_c_werror_flag=$ac_save_c_werror_flag ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_g" >&5
 printf "%s\n" "$ac_cv_prog_cc_g" >&6; }
@@ -7430,8 +7535,8 @@ printf %s "checking for $CC option to en
 if test ${ac_cv_prog_cc_c11+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_cv_prog_cc_c11=no
+else case e in #(
+  e) ac_cv_prog_cc_c11=no
 ac_save_CC=$CC
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -7448,25 +7553,28 @@ rm -f core conftest.err conftest.$ac_obj
   test "x$ac_cv_prog_cc_c11" != "xno" && break
 done
 rm -f conftest.$ac_ext
-CC=$ac_save_CC
+CC=$ac_save_CC ;;
+esac
 fi
 
 if test "x$ac_cv_prog_cc_c11" = xno
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
 printf "%s\n" "unsupported" >&6; }
-else $as_nop
-  if test "x$ac_cv_prog_cc_c11" = x
+else case e in #(
+  e) if test "x$ac_cv_prog_cc_c11" = x
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
 printf "%s\n" "none needed" >&6; }
-else $as_nop
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c11" >&5
+else case e in #(
+  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c11" >&5
 printf "%s\n" "$ac_cv_prog_cc_c11" >&6; }
-     CC="$CC $ac_cv_prog_cc_c11"
+     CC="$CC $ac_cv_prog_cc_c11" ;;
+esac
 fi
   ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c11
-  ac_prog_cc_stdc=c11
+  ac_prog_cc_stdc=c11 ;;
+esac
 fi
 fi
 if test x$ac_prog_cc_stdc = xno
@@ -7476,8 +7584,8 @@ printf %s "checking for $CC option to en
 if test ${ac_cv_prog_cc_c99+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_cv_prog_cc_c99=no
+else case e in #(
+  e) ac_cv_prog_cc_c99=no
 ac_save_CC=$CC
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -7494,25 +7602,28 @@ rm -f core conftest.err conftest.$ac_obj
   test "x$ac_cv_prog_cc_c99" != "xno" && break
 done
 rm -f conftest.$ac_ext
-CC=$ac_save_CC
+CC=$ac_save_CC ;;
+esac
 fi
 
 if test "x$ac_cv_prog_cc_c99" = xno
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
 printf "%s\n" "unsupported" >&6; }
-else $as_nop
-  if test "x$ac_cv_prog_cc_c99" = x
+else case e in #(
+  e) if test "x$ac_cv_prog_cc_c99" = x
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
 printf "%s\n" "none needed" >&6; }
-else $as_nop
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c99" >&5
+else case e in #(
+  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c99" >&5
 printf "%s\n" "$ac_cv_prog_cc_c99" >&6; }
-     CC="$CC $ac_cv_prog_cc_c99"
+     CC="$CC $ac_cv_prog_cc_c99" ;;
+esac
 fi
   ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c99
-  ac_prog_cc_stdc=c99
+  ac_prog_cc_stdc=c99 ;;
+esac
 fi
 fi
 if test x$ac_prog_cc_stdc = xno
@@ -7522,8 +7633,8 @@ printf %s "checking for $CC option to en
 if test ${ac_cv_prog_cc_c89+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_cv_prog_cc_c89=no
+else case e in #(
+  e) ac_cv_prog_cc_c89=no
 ac_save_CC=$CC
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -7540,25 +7651,28 @@ rm -f core conftest.err conftest.$ac_obj
   test "x$ac_cv_prog_cc_c89" != "xno" && break
 done
 rm -f conftest.$ac_ext
-CC=$ac_save_CC
+CC=$ac_save_CC ;;
+esac
 fi
 
 if test "x$ac_cv_prog_cc_c89" = xno
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
 printf "%s\n" "unsupported" >&6; }
-else $as_nop
-  if test "x$ac_cv_prog_cc_c89" = x
+else case e in #(
+  e) if test "x$ac_cv_prog_cc_c89" = x
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
 printf "%s\n" "none needed" >&6; }
-else $as_nop
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c89" >&5
+else case e in #(
+  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c89" >&5
 printf "%s\n" "$ac_cv_prog_cc_c89" >&6; }
-     CC="$CC $ac_cv_prog_cc_c89"
+     CC="$CC $ac_cv_prog_cc_c89" ;;
+esac
 fi
   ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c89
-  ac_prog_cc_stdc=c89
+  ac_prog_cc_stdc=c89 ;;
+esac
 fi
 fi
 
@@ -7579,8 +7693,8 @@ printf %s "checking whether $CC understa
 if test ${am_cv_prog_cc_c_o+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 int
@@ -7610,7 +7724,8 @@ _ACEOF
     fi
   done
   rm -f core conftest*
-  unset am_i
+  unset am_i ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_prog_cc_c_o" >&5
 printf "%s\n" "$am_cv_prog_cc_c_o" >&6; }
@@ -7635,8 +7750,8 @@ printf %s "checking whether the compiler
 if test ${gl_cv_compiler_clang+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-                 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e)                cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
            #ifdef __clang__
@@ -7655,11 +7770,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_compiler_clang=no
-else $as_nop
-  gl_cv_compiler_clang=yes
+else case e in #(
+  e) gl_cv_compiler_clang=yes ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_compiler_clang" >&5
 printf "%s\n" "$gl_cv_compiler_clang" >&6; }
@@ -7670,8 +7787,8 @@ printf %s "checking for compiler option
 if test ${gl_cv_compiler_check_decl_option+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test $gl_cv_compiler_clang = yes; then
+else case e in #(
+  e) if test $gl_cv_compiler_clang = yes; then
                      save_ac_compile="$ac_compile"
        ac_compile="$ac_compile -Werror=implicit-function-declaration"
                      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -7688,15 +7805,17 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_compiler_check_decl_option='-Werror=implicit-function-declaration'
-else $as_nop
-  gl_cv_compiler_check_decl_option=none
+else case e in #(
+  e) gl_cv_compiler_check_decl_option=none ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
        ac_compile="$save_ac_compile"
      else
        gl_cv_compiler_check_decl_option=none
      fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_compiler_check_decl_option" >&5
 printf "%s\n" "$gl_cv_compiler_check_decl_option" >&6; }
@@ -7714,8 +7833,8 @@ printf %s "checking dependency style of
 if test ${am_cv_CC_dependencies_compiler_type+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
+else case e in #(
+  e) if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
   # We make a subdir and do the tests there.  Otherwise we can end up
   # making bogus files that we don't know about and never remove.  For
   # instance it was reported that on HP-UX the gcc test will end up
@@ -7819,7 +7938,8 @@ else $as_nop
 else
   am_cv_CC_dependencies_compiler_type=none
 fi
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_CC_dependencies_compiler_type" >&5
 printf "%s\n" "$am_cv_CC_dependencies_compiler_type" >&6; }
@@ -7836,6 +7956,198 @@ else
 fi
 
 
+
+
+
+ac_header= ac_cache=
+for ac_item in $ac_header_c_list
+do
+  if test $ac_cache; then
+    ac_fn_c_check_header_compile "$LINENO" $ac_header ac_cv_header_$ac_cache "$ac_includes_default"
+    if eval test \"x\$ac_cv_header_$ac_cache\" = xyes; then
+      printf "%s\n" "#define $ac_item 1" >> confdefs.h
+    fi
+    ac_header= ac_cache=
+  elif test $ac_header; then
+    ac_cache=$ac_item
+  else
+    ac_header=$ac_item
+  fi
+done
+
+
+
+
+
+
+
+
+if test $ac_cv_header_stdlib_h = yes && test $ac_cv_header_string_h = yes
+then :
+
+printf "%s\n" "#define STDC_HEADERS 1" >>confdefs.h
+
+fi
+
+
+
+
+
+
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether it is safe to define __EXTENSIONS__" >&5
+printf %s "checking whether it is safe to define __EXTENSIONS__... " >&6; }
+if test ${ac_cv_safe_to_define___extensions__+y}
+then :
+  printf %s "(cached) " >&6
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#         define __EXTENSIONS__ 1
+          $ac_includes_default
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_cv_safe_to_define___extensions__=yes
+else case e in #(
+  e) ac_cv_safe_to_define___extensions__=no ;;
+esac
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_safe_to_define___extensions__" >&5
+printf "%s\n" "$ac_cv_safe_to_define___extensions__" >&6; }
+
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether _XOPEN_SOURCE should be defined" >&5
+printf %s "checking whether _XOPEN_SOURCE should be defined... " >&6; }
+if test ${ac_cv_should_define__xopen_source+y}
+then :
+  printf %s "(cached) " >&6
+else case e in #(
+  e) ac_cv_should_define__xopen_source=no
+    if test $ac_cv_header_wchar_h = yes
+then :
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+          #include <wchar.h>
+          mbstate_t x;
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #define _XOPEN_SOURCE 500
+            #include <wchar.h>
+            mbstate_t x;
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_cv_should_define__xopen_source=yes
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi ;;
+esac
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_should_define__xopen_source" >&5
+printf "%s\n" "$ac_cv_should_define__xopen_source" >&6; }
+
+  printf "%s\n" "#define _ALL_SOURCE 1" >>confdefs.h
+
+  printf "%s\n" "#define _DARWIN_C_SOURCE 1" >>confdefs.h
+
+  printf "%s\n" "#define _GNU_SOURCE 1" >>confdefs.h
+
+  printf "%s\n" "#define _HPUX_ALT_XOPEN_SOCKET_API 1" >>confdefs.h
+
+  printf "%s\n" "#define _NETBSD_SOURCE 1" >>confdefs.h
+
+  printf "%s\n" "#define _OPENBSD_SOURCE 1" >>confdefs.h
+
+  printf "%s\n" "#define _POSIX_PTHREAD_SEMANTICS 1" >>confdefs.h
+
+  printf "%s\n" "#define __STDC_WANT_IEC_60559_ATTRIBS_EXT__ 1" >>confdefs.h
+
+  printf "%s\n" "#define __STDC_WANT_IEC_60559_BFP_EXT__ 1" >>confdefs.h
+
+  printf "%s\n" "#define __STDC_WANT_IEC_60559_DFP_EXT__ 1" >>confdefs.h
+
+  printf "%s\n" "#define __STDC_WANT_IEC_60559_EXT__ 1" >>confdefs.h
+
+  printf "%s\n" "#define __STDC_WANT_IEC_60559_FUNCS_EXT__ 1" >>confdefs.h
+
+  printf "%s\n" "#define __STDC_WANT_IEC_60559_TYPES_EXT__ 1" >>confdefs.h
+
+  printf "%s\n" "#define __STDC_WANT_LIB_EXT2__ 1" >>confdefs.h
+
+  printf "%s\n" "#define __STDC_WANT_MATH_SPEC_FUNCS__ 1" >>confdefs.h
+
+  printf "%s\n" "#define _TANDEM_SOURCE 1" >>confdefs.h
+
+  if test $ac_cv_header_minix_config_h = yes
+then :
+  MINIX=yes
+    printf "%s\n" "#define _MINIX 1" >>confdefs.h
+
+    printf "%s\n" "#define _POSIX_SOURCE 1" >>confdefs.h
+
+    printf "%s\n" "#define _POSIX_1_SOURCE 2" >>confdefs.h
+
+else case e in #(
+  e) MINIX= ;;
+esac
+fi
+  if test $ac_cv_safe_to_define___extensions__ = yes
+then :
+  printf "%s\n" "#define __EXTENSIONS__ 1" >>confdefs.h
+
+fi
+  if test $ac_cv_should_define__xopen_source = yes
+then :
+  printf "%s\n" "#define _XOPEN_SOURCE 500" >>confdefs.h
+
+fi
+
+
+
+
+
+  case "$host_os" in
+    openbsd*)
+
+printf "%s\n" "#define _ISOC11_SOURCE 1" >>confdefs.h
+
+      ;;
+  esac
+
 ac_ext=c
 ac_cpp='$CPP $CPPFLAGS'
 ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
@@ -7851,8 +8163,8 @@ if test -z "$CPP"; then
   if test ${ac_cv_prog_CPP+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-      # Double quotes because $CC needs to be expanded
+else case e in #(
+  e)     # Double quotes because $CC needs to be expanded
     for CPP in "$CC -E" "$CC -E -traditional-cpp" cpp /lib/cpp
     do
       ac_preproc_ok=false
@@ -7870,9 +8182,10 @@ _ACEOF
 if ac_fn_c_try_cpp "$LINENO"
 then :
 
-else $as_nop
-  # Broken: fails on valid input.
-continue
+else case e in #(
+  e) # Broken: fails on valid input.
+continue ;;
+esac
 fi
 rm -f conftest.err conftest.i conftest.$ac_ext
 
@@ -7886,15 +8199,16 @@ if ac_fn_c_try_cpp "$LINENO"
 then :
   # Broken: success on invalid input.
 continue
-else $as_nop
-  # Passes both tests.
+else case e in #(
+  e) # Passes both tests.
 ac_preproc_ok=:
-break
+break ;;
+esac
 fi
 rm -f conftest.err conftest.i conftest.$ac_ext
 
 done
-# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
+# Because of 'break', _AC_PREPROC_IFELSE's cleaning code was skipped.
 rm -f conftest.i conftest.err conftest.$ac_ext
 if $ac_preproc_ok
 then :
@@ -7903,7 +8217,8 @@ fi
 
     done
     ac_cv_prog_CPP=$CPP
-
+   ;;
+esac
 fi
   CPP=$ac_cv_prog_CPP
 else
@@ -7926,9 +8241,10 @@ _ACEOF
 if ac_fn_c_try_cpp "$LINENO"
 then :
 
-else $as_nop
-  # Broken: fails on valid input.
-continue
+else case e in #(
+  e) # Broken: fails on valid input.
+continue ;;
+esac
 fi
 rm -f conftest.err conftest.i conftest.$ac_ext
 
@@ -7942,24 +8258,26 @@ if ac_fn_c_try_cpp "$LINENO"
 then :
   # Broken: success on invalid input.
 continue
-else $as_nop
-  # Passes both tests.
+else case e in #(
+  e) # Passes both tests.
 ac_preproc_ok=:
-break
+break ;;
+esac
 fi
 rm -f conftest.err conftest.i conftest.$ac_ext
 
 done
-# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
+# Because of 'break', _AC_PREPROC_IFELSE's cleaning code was skipped.
 rm -f conftest.i conftest.err conftest.$ac_ext
 if $ac_preproc_ok
 then :
 
-else $as_nop
-  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+else case e in #(
+  e) { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
 as_fn_error $? "C preprocessor \"$CPP\" fails sanity check
-See \`config.log' for more details" "$LINENO" 5; }
+See 'config.log' for more details" "$LINENO" 5; } ;;
+esac
 fi
 
 ac_ext=c
@@ -7969,14 +8287,14 @@ ac_link='$CC -o conftest$ac_exeext $CFLA
 ac_compiler_gnu=$ac_cv_c_compiler_gnu
 
 
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e" >&5
-printf %s "checking for grep that handles long lines and -e... " >&6; }
-if test ${ac_cv_path_GREP+y}
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for egrep -e" >&5
+printf %s "checking for egrep -e... " >&6; }
+if test ${ac_cv_path_EGREP_TRADITIONAL+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -z "$GREP"; then
-  ac_path_GREP_found=false
+else case e in #(
+  e) if test -z "$EGREP_TRADITIONAL"; then
+  ac_path_EGREP_TRADITIONAL_found=false
   # Loop through the user's path and test for each of PROGNAME-LIST
   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
 for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
@@ -7990,13 +8308,14 @@ do
     for ac_prog in grep ggrep
    do
     for ac_exec_ext in '' $ac_executable_extensions; do
-      ac_path_GREP="$as_dir$ac_prog$ac_exec_ext"
-      as_fn_executable_p "$ac_path_GREP" || continue
-# Check for GNU ac_path_GREP and select it if it is found.
-  # Check for GNU $ac_path_GREP
-case `"$ac_path_GREP" --version 2>&1` in
+      ac_path_EGREP_TRADITIONAL="$as_dir$ac_prog$ac_exec_ext"
+      as_fn_executable_p "$ac_path_EGREP_TRADITIONAL" || continue
+# Check for GNU ac_path_EGREP_TRADITIONAL and select it if it is found.
+  # Check for GNU $ac_path_EGREP_TRADITIONAL
+case `"$ac_path_EGREP_TRADITIONAL" --version 2>&1` in #(
 *GNU*)
-  ac_cv_path_GREP="$ac_path_GREP" ac_path_GREP_found=:;;
+  ac_cv_path_EGREP_TRADITIONAL="$ac_path_EGREP_TRADITIONAL" ac_path_EGREP_TRADITIONAL_found=:;;
+#(
 *)
   ac_count=0
   printf %s 0123456789 >"conftest.in"
@@ -8005,14 +8324,14 @@ case `"$ac_path_GREP" --version 2>&1` in
     cat "conftest.in" "conftest.in" >"conftest.tmp"
     mv "conftest.tmp" "conftest.in"
     cp "conftest.in" "conftest.nl"
-    printf "%s\n" 'GREP' >> "conftest.nl"
-    "$ac_path_GREP" -e 'GREP$' -e '-(cannot match)-' < "conftest.nl" >"conftest.out" 2>/dev/null || break
+    printf "%s\n" 'EGREP_TRADITIONAL' >> "conftest.nl"
+    "$ac_path_EGREP_TRADITIONAL" -E 'EGR(EP|AC)_TRADITIONAL$' < "conftest.nl" >"conftest.out" 2>/dev/null || break
     diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
     as_fn_arith $ac_count + 1 && ac_count=$as_val
-    if test $ac_count -gt ${ac_path_GREP_max-0}; then
+    if test $ac_count -gt ${ac_path_EGREP_TRADITIONAL_max-0}; then
       # Best one so far, save it but keep looking for a better one
-      ac_cv_path_GREP="$ac_path_GREP"
-      ac_path_GREP_max=$ac_count
+      ac_cv_path_EGREP_TRADITIONAL="$ac_path_EGREP_TRADITIONAL"
+      ac_path_EGREP_TRADITIONAL_max=$ac_count
     fi
     # 10*(2^10) chars as input seems more than enough
     test $ac_count -gt 10 && break
@@ -8020,35 +8339,24 @@ case `"$ac_path_GREP" --version 2>&1` in
   rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
 esac
 
-      $ac_path_GREP_found && break 3
+      $ac_path_EGREP_TRADITIONAL_found && break 3
     done
   done
   done
 IFS=$as_save_IFS
-  if test -z "$ac_cv_path_GREP"; then
-    as_fn_error $? "no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
+  if test -z "$ac_cv_path_EGREP_TRADITIONAL"; then
+    :
   fi
 else
-  ac_cv_path_GREP=$GREP
+  ac_cv_path_EGREP_TRADITIONAL=$EGREP_TRADITIONAL
 fi
 
-fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_GREP" >&5
-printf "%s\n" "$ac_cv_path_GREP" >&6; }
- GREP="$ac_cv_path_GREP"
-
-
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for egrep" >&5
-printf %s "checking for egrep... " >&6; }
-if test ${ac_cv_path_EGREP+y}
+    if test "$ac_cv_path_EGREP_TRADITIONAL"
 then :
-  printf %s "(cached) " >&6
-else $as_nop
-  if echo a | $GREP -E '(a|b)' >/dev/null 2>&1
-   then ac_cv_path_EGREP="$GREP -E"
-   else
-     if test -z "$EGREP"; then
-  ac_path_EGREP_found=false
+  ac_cv_path_EGREP_TRADITIONAL="$ac_cv_path_EGREP_TRADITIONAL -E"
+else case e in #(
+  e) if test -z "$EGREP_TRADITIONAL"; then
+  ac_path_EGREP_TRADITIONAL_found=false
   # Loop through the user's path and test for each of PROGNAME-LIST
   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
 for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
@@ -8062,13 +8370,14 @@ do
     for ac_prog in egrep
    do
     for ac_exec_ext in '' $ac_executable_extensions; do
-      ac_path_EGREP="$as_dir$ac_prog$ac_exec_ext"
-      as_fn_executable_p "$ac_path_EGREP" || continue
-# Check for GNU ac_path_EGREP and select it if it is found.
-  # Check for GNU $ac_path_EGREP
-case `"$ac_path_EGREP" --version 2>&1` in
+      ac_path_EGREP_TRADITIONAL="$as_dir$ac_prog$ac_exec_ext"
+      as_fn_executable_p "$ac_path_EGREP_TRADITIONAL" || continue
+# Check for GNU ac_path_EGREP_TRADITIONAL and select it if it is found.
+  # Check for GNU $ac_path_EGREP_TRADITIONAL
+case `"$ac_path_EGREP_TRADITIONAL" --version 2>&1` in #(
 *GNU*)
-  ac_cv_path_EGREP="$ac_path_EGREP" ac_path_EGREP_found=:;;
+  ac_cv_path_EGREP_TRADITIONAL="$ac_path_EGREP_TRADITIONAL" ac_path_EGREP_TRADITIONAL_found=:;;
+#(
 *)
   ac_count=0
   printf %s 0123456789 >"conftest.in"
@@ -8077,14 +8386,14 @@ case `"$ac_path_EGREP" --version 2>&1` i
     cat "conftest.in" "conftest.in" >"conftest.tmp"
     mv "conftest.tmp" "conftest.in"
     cp "conftest.in" "conftest.nl"
-    printf "%s\n" 'EGREP' >> "conftest.nl"
-    "$ac_path_EGREP" 'EGREP$' < "conftest.nl" >"conftest.out" 2>/dev/null || break
+    printf "%s\n" 'EGREP_TRADITIONAL' >> "conftest.nl"
+    "$ac_path_EGREP_TRADITIONAL" 'EGR(EP|AC)_TRADITIONAL$' < "conftest.nl" >"conftest.out" 2>/dev/null || break
     diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
     as_fn_arith $ac_count + 1 && ac_count=$as_val
-    if test $ac_count -gt ${ac_path_EGREP_max-0}; then
+    if test $ac_count -gt ${ac_path_EGREP_TRADITIONAL_max-0}; then
       # Best one so far, save it but keep looking for a better one
-      ac_cv_path_EGREP="$ac_path_EGREP"
-      ac_path_EGREP_max=$ac_count
+      ac_cv_path_EGREP_TRADITIONAL="$ac_path_EGREP_TRADITIONAL"
+      ac_path_EGREP_TRADITIONAL_max=$ac_count
     fi
     # 10*(2^10) chars as input seems more than enough
     test $ac_count -gt 10 && break
@@ -8092,255 +8401,25 @@ case `"$ac_path_EGREP" --version 2>&1` i
   rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
 esac
 
-      $ac_path_EGREP_found && break 3
+      $ac_path_EGREP_TRADITIONAL_found && break 3
     done
   done
   done
 IFS=$as_save_IFS
-  if test -z "$ac_cv_path_EGREP"; then
+  if test -z "$ac_cv_path_EGREP_TRADITIONAL"; then
     as_fn_error $? "no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
   fi
 else
-  ac_cv_path_EGREP=$EGREP
-fi
-
-   fi
-fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP" >&5
-printf "%s\n" "$ac_cv_path_EGREP" >&6; }
- EGREP="$ac_cv_path_EGREP"
-
-
-if test $ac_cv_c_compiler_gnu = yes; then
-    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC needs -traditional" >&5
-printf %s "checking whether $CC needs -traditional... " >&6; }
-if test ${ac_cv_prog_gcc_traditional+y}
-then :
-  printf %s "(cached) " >&6
-else $as_nop
-    ac_pattern="Autoconf.*'x'"
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
-/* end confdefs.h.  */
-#include <sgtty.h>
-Autoconf TIOCGETP
-_ACEOF
-if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "$ac_pattern" >/dev/null 2>&1
-then :
-  ac_cv_prog_gcc_traditional=yes
-else $as_nop
-  ac_cv_prog_gcc_traditional=no
-fi
-rm -rf conftest*
-
-
-  if test $ac_cv_prog_gcc_traditional = no; then
-    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
-/* end confdefs.h.  */
-#include <termio.h>
-Autoconf TCGETA
-_ACEOF
-if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "$ac_pattern" >/dev/null 2>&1
-then :
-  ac_cv_prog_gcc_traditional=yes
-fi
-rm -rf conftest*
-
-  fi
-fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_gcc_traditional" >&5
-printf "%s\n" "$ac_cv_prog_gcc_traditional" >&6; }
-  if test $ac_cv_prog_gcc_traditional = yes; then
-    CC="$CC -traditional"
-  fi
-fi
-
-
-
-ac_header= ac_cache=
-for ac_item in $ac_header_c_list
-do
-  if test $ac_cache; then
-    ac_fn_c_check_header_compile "$LINENO" $ac_header ac_cv_header_$ac_cache "$ac_includes_default"
-    if eval test \"x\$ac_cv_header_$ac_cache\" = xyes; then
-      printf "%s\n" "#define $ac_item 1" >> confdefs.h
-    fi
-    ac_header= ac_cache=
-  elif test $ac_header; then
-    ac_cache=$ac_item
-  else
-    ac_header=$ac_item
-  fi
-done
-
-
-
-
-
-
-
-
-if test $ac_cv_header_stdlib_h = yes && test $ac_cv_header_string_h = yes
-then :
-
-printf "%s\n" "#define STDC_HEADERS 1" >>confdefs.h
-
-fi
-
-
-
-
-
-
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether it is safe to define __EXTENSIONS__" >&5
-printf %s "checking whether it is safe to define __EXTENSIONS__... " >&6; }
-if test ${ac_cv_safe_to_define___extensions__+y}
-then :
-  printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
-/* end confdefs.h.  */
-
-#         define __EXTENSIONS__ 1
-          $ac_includes_default
-int
-main (void)
-{
-
-  ;
-  return 0;
-}
-_ACEOF
-if ac_fn_c_try_compile "$LINENO"
-then :
-  ac_cv_safe_to_define___extensions__=yes
-else $as_nop
-  ac_cv_safe_to_define___extensions__=no
-fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+  ac_cv_path_EGREP_TRADITIONAL=$EGREP_TRADITIONAL
 fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_safe_to_define___extensions__" >&5
-printf "%s\n" "$ac_cv_safe_to_define___extensions__" >&6; }
-
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether _XOPEN_SOURCE should be defined" >&5
-printf %s "checking whether _XOPEN_SOURCE should be defined... " >&6; }
-if test ${ac_cv_should_define__xopen_source+y}
-then :
-  printf %s "(cached) " >&6
-else $as_nop
-  ac_cv_should_define__xopen_source=no
-    if test $ac_cv_header_wchar_h = yes
-then :
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
-/* end confdefs.h.  */
-
-          #include <wchar.h>
-          mbstate_t x;
-int
-main (void)
-{
-
-  ;
-  return 0;
-}
-_ACEOF
-if ac_fn_c_try_compile "$LINENO"
-then :
-
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
-/* end confdefs.h.  */
-
-            #define _XOPEN_SOURCE 500
-            #include <wchar.h>
-            mbstate_t x;
-int
-main (void)
-{
-
-  ;
-  return 0;
-}
-_ACEOF
-if ac_fn_c_try_compile "$LINENO"
-then :
-  ac_cv_should_define__xopen_source=yes
-fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-fi
-fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_should_define__xopen_source" >&5
-printf "%s\n" "$ac_cv_should_define__xopen_source" >&6; }
-
-  printf "%s\n" "#define _ALL_SOURCE 1" >>confdefs.h
-
-  printf "%s\n" "#define _DARWIN_C_SOURCE 1" >>confdefs.h
-
-  printf "%s\n" "#define _GNU_SOURCE 1" >>confdefs.h
-
-  printf "%s\n" "#define _HPUX_ALT_XOPEN_SOCKET_API 1" >>confdefs.h
-
-  printf "%s\n" "#define _NETBSD_SOURCE 1" >>confdefs.h
-
-  printf "%s\n" "#define _OPENBSD_SOURCE 1" >>confdefs.h
-
-  printf "%s\n" "#define _POSIX_PTHREAD_SEMANTICS 1" >>confdefs.h
-
-  printf "%s\n" "#define __STDC_WANT_IEC_60559_ATTRIBS_EXT__ 1" >>confdefs.h
-
-  printf "%s\n" "#define __STDC_WANT_IEC_60559_BFP_EXT__ 1" >>confdefs.h
-
-  printf "%s\n" "#define __STDC_WANT_IEC_60559_DFP_EXT__ 1" >>confdefs.h
-
-  printf "%s\n" "#define __STDC_WANT_IEC_60559_EXT__ 1" >>confdefs.h
-
-  printf "%s\n" "#define __STDC_WANT_IEC_60559_FUNCS_EXT__ 1" >>confdefs.h
-
-  printf "%s\n" "#define __STDC_WANT_IEC_60559_TYPES_EXT__ 1" >>confdefs.h
-
-  printf "%s\n" "#define __STDC_WANT_LIB_EXT2__ 1" >>confdefs.h
-
-  printf "%s\n" "#define __STDC_WANT_MATH_SPEC_FUNCS__ 1" >>confdefs.h
-
-  printf "%s\n" "#define _TANDEM_SOURCE 1" >>confdefs.h
-
-  if test $ac_cv_header_minix_config_h = yes
-then :
-  MINIX=yes
-    printf "%s\n" "#define _MINIX 1" >>confdefs.h
-
-    printf "%s\n" "#define _POSIX_SOURCE 1" >>confdefs.h
-
-    printf "%s\n" "#define _POSIX_1_SOURCE 2" >>confdefs.h
-
-else $as_nop
-  MINIX=
-fi
-  if test $ac_cv_safe_to_define___extensions__ = yes
-then :
-  printf "%s\n" "#define __EXTENSIONS__ 1" >>confdefs.h
-
-fi
-  if test $ac_cv_should_define__xopen_source = yes
-then :
-  printf "%s\n" "#define _XOPEN_SOURCE 500" >>confdefs.h
-
+ ;;
+esac
+fi ;;
+esac
 fi
-
-
-
-
-
-  case "$host_os" in
-    openbsd*)
-
-printf "%s\n" "#define _ISOC11_SOURCE 1" >>confdefs.h
-
-      ;;
-  esac
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP_TRADITIONAL" >&5
+printf "%s\n" "$ac_cv_path_EGREP_TRADITIONAL" >&6; }
+ EGREP_TRADITIONAL=$ac_cv_path_EGREP_TRADITIONAL
 
 
 
@@ -8350,8 +8429,8 @@ printf %s "checking for Minix Amsterdam
 if test ${gl_cv_c_amsterdam_compiler+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -8361,15 +8440,17 @@ Amsterdam
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "Amsterdam" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "Amsterdam" >/dev/null 2>&1
 then :
   gl_cv_c_amsterdam_compiler=yes
-else $as_nop
-  gl_cv_c_amsterdam_compiler=no
+else case e in #(
+  e) gl_cv_c_amsterdam_compiler=no ;;
+esac
 fi
 rm -rf conftest*
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_c_amsterdam_compiler" >&5
 printf "%s\n" "$gl_cv_c_amsterdam_compiler" >&6; }
@@ -8393,8 +8474,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_AR+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$AR"; then
+else case e in #(
+  e) if test -n "$AR"; then
   ac_cv_prog_AR="$AR" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -8416,7 +8497,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 AR=$ac_cv_prog_AR
 if test -n "$AR"; then
@@ -8438,8 +8520,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_AR+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_AR"; then
+else case e in #(
+  e) if test -n "$ac_ct_AR"; then
   ac_cv_prog_ac_ct_AR="$ac_ct_AR" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -8461,7 +8543,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_AR=$ac_cv_prog_ac_ct_AR
 if test -n "$ac_ct_AR"; then
@@ -8505,8 +8588,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_RANLIB+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$RANLIB"; then
+else case e in #(
+  e) if test -n "$RANLIB"; then
   ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -8528,7 +8611,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 RANLIB=$ac_cv_prog_RANLIB
 if test -n "$RANLIB"; then
@@ -8550,8 +8634,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_RANLIB+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_RANLIB"; then
+else case e in #(
+  e) if test -n "$ac_ct_RANLIB"; then
   ac_cv_prog_ac_ct_RANLIB="$ac_ct_RANLIB" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -8573,7 +8657,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
 if test -n "$ac_ct_RANLIB"; then
@@ -8603,15 +8688,20 @@ fi
   fi
 
 
-  if test "$enable_largefile" != no
+# Check whether --enable-largefile was given.
+if test ${enable_largefile+y}
+then :
+  enableval=$enable_largefile;
+fi
+if test "$enable_largefile,$enable_year2038" != no,no
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option to enable large file support" >&5
 printf %s "checking for $CC option to enable large file support... " >&6; }
 if test ${ac_cv_sys_largefile_opts+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_save_CC="$CC"
+else case e in #(
+  e) ac_save_CC="$CC"
   ac_opt_found=no
   for ac_opt in "none needed" "-D_FILE_OFFSET_BITS=64" "-D_LARGE_FILES=1" "-n32"; do
     if test x"$ac_opt" != x"none needed"
@@ -8621,13 +8711,16 @@ fi
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/types.h>
- /* Check that off_t can represent 2**63 - 1 correctly.
-    We can't simply define LARGE_OFF_T to be 9223372036854775807,
+#ifndef FTYPE
+# define FTYPE off_t
+#endif
+ /* Check that FTYPE can represent 2**63 - 1 correctly.
+    We can't simply define LARGE_FTYPE to be 9223372036854775807,
     since some C++ compilers masquerading as C compilers
     incorrectly reject 9223372036854775807.  */
-#define LARGE_OFF_T (((off_t) 1 << 31 << 31) - 1 + ((off_t) 1 << 31 << 31))
-  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721
-		       && LARGE_OFF_T % 2147483647 == 1)
+#define LARGE_FTYPE (((FTYPE) 1 << 31 << 31) - 1 + ((FTYPE) 1 << 31 << 31))
+  int FTYPE_is_large[(LARGE_FTYPE % 2147483629 == 721
+		       && LARGE_FTYPE % 2147483647 == 1)
 		      ? 1 : -1];
 int
 main (void)
@@ -8639,14 +8732,46 @@ main (void)
 _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
-  ac_cv_sys_largefile_opts="$ac_opt"
+  if test x"$ac_opt" = x"none needed"
+then :
+  # GNU/Linux s390x and alpha need _FILE_OFFSET_BITS=64 for wide ino_t.
+	 CC="$CC -DFTYPE=ino_t"
+	 if ac_fn_c_try_compile "$LINENO"
+then :
+
+else case e in #(
+  e) CC="$CC -D_FILE_OFFSET_BITS=64"
+	    if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_opt='-D_FILE_OFFSET_BITS=64'
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam ;;
+esac
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam
+fi
+      ac_cv_sys_largefile_opts=$ac_opt
       ac_opt_found=yes
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
     test $ac_opt_found = no || break
   done
   CC="$ac_save_CC"
-  test $ac_opt_found = yes || ac_cv_sys_largefile_opts="support not detected"
+
+
+    if test $ac_opt_found != yes; then
+      case $host_os in #(
+  mingw* | windows*) :
+    ac_cv_sys_largefile_opts="supported through gnulib"
+           ac_opt_found=yes
+       ;; #(
+  *) :
+     ;;
+esac
+    fi
+
+  test $ac_opt_found = yes || ac_cv_sys_largefile_opts="support not detected" ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_largefile_opts" >&5
 printf "%s\n" "$ac_cv_sys_largefile_opts" >&6; }
@@ -8655,6 +8780,8 @@ ac_have_largefile=yes
 case $ac_cv_sys_largefile_opts in #(
   "none needed") :
      ;; #(
+  "supported through gnulib") :
+     ;; #(
   "support not detected") :
     ac_have_largefile=no ;; #(
   "-D_FILE_OFFSET_BITS=64") :
@@ -8671,15 +8798,15 @@ printf "%s\n" "#define _LARGE_FILES 1" >
     as_fn_error $? "internal error: bad value for \$ac_cv_sys_largefile_opts" "$LINENO" 5 ;;
 esac
 
-  if test "$enable_year2038" != no
+if test "$enable_year2038" != no
 then :
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option to enable timestamps after Jan 2038" >&5
-printf %s "checking for $CC option to enable timestamps after Jan 2038... " >&6; }
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option for timestamps after 2038" >&5
+printf %s "checking for $CC option for timestamps after 2038... " >&6; }
 if test ${ac_cv_sys_year2038_opts+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_save_CPPFLAGS="$CPPFLAGS"
+else case e in #(
+  e) ac_save_CPPFLAGS="$CPPFLAGS"
   ac_opt_found=no
   for ac_opt in "none needed" "-D_TIME_BITS=64" "-D__MINGW_USE_VC2005_COMPAT" "-U_USE_32_BIT_TIME_T -D__MINGW_USE_VC2005_COMPAT"; do
     if test x"$ac_opt" != x"none needed"
@@ -8714,7 +8841,8 @@ rm -f core conftest.err conftest.$ac_obj
     test $ac_opt_found = no || break
   done
   CPPFLAGS="$ac_save_CPPFLAGS"
-  test $ac_opt_found = yes || ac_cv_sys_year2038_opts="support not detected"
+  test $ac_opt_found = yes || ac_cv_sys_year2038_opts="support not detected" ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_year2038_opts" >&5
 printf "%s\n" "$ac_cv_sys_year2038_opts" >&6; }
@@ -8724,62 +8852,28 @@ case $ac_cv_sys_year2038_opts in #(
   "none needed") :
      ;; #(
   "support not detected") :
-    ac_have_year2038=no
-     case $enable_year2038 in #(
-  yes) :
-    # If we're not cross compiling and 'touch' works with a large
-        # timestamp, then we can presume the system supports wider time_t
-        # *somehow* and we just weren't able to detect it.  One common
-        # case that we deliberately *don't* probe for is a system that
-        # supports both 32- and 64-bit ABIs but only the 64-bit ABI offers
-        # wide time_t.  (It would be inappropriate for us to override an
-        # intentional use of -m32.)  Error out, demanding use of
-        # --disable-year2038 if this is intentional.
-        if test $cross_compiling = no
-then :
-  if TZ=UTC0 touch -t 210602070628.15 conftest.time 2>/dev/null
-then :
-  case `TZ=UTC0 LC_ALL=C ls -l conftest.time 2>/dev/null` in #(
-  *'Feb  7  2106'* | *'Feb  7 17:10'*) :
-    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error $? "this system appears to support timestamps after
-January 2038, but no mechanism for enabling wide
-'time_t' was detected. Did you mean to build a 64-bit
-binary? (e.g. 'CC=\"${CC} -m64\"'.) To proceed with
-32-bit time_t, configure with '--disable-year2038'.
-See \`config.log' for more details" "$LINENO" 5; } ;; #(
-  *) :
-     ;;
-esac
-fi
-fi ;; #(
-  *) :
-     ;;
-esac ;; #(
+    ac_have_year2038=no ;; #(
   "-D_TIME_BITS=64") :
 
 printf "%s\n" "#define _TIME_BITS 64" >>confdefs.h
  ;; #(
-  "-D__MINGW_USE_VC2005_COMPAT=1") :
+  "-D__MINGW_USE_VC2005_COMPAT") :
 
 printf "%s\n" "#define __MINGW_USE_VC2005_COMPAT 1" >>confdefs.h
  ;; #(
   "-U_USE_32_BIT_TIME_T"*) :
-    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
 as_fn_error $? "the 'time_t' type is currently forced to be 32-bit. It
-will stop working after January 2038. Remove
+will stop working after mid-January 2038. Remove
 _USE_32BIT_TIME_T from the compiler flags.
-See \`config.log' for more details" "$LINENO" 5; } ;; #(
+See 'config.log' for more details" "$LINENO" 5; } ;; #(
   *) :
     as_fn_error $? "internal error: bad value for \$ac_cv_sys_year2038_opts" "$LINENO" 5 ;;
 esac
 
 fi
 
-
-
 fi
 
 
@@ -8787,14 +8881,12 @@ fi
 
 
 
-
-
   # Check whether --enable-threads was given.
 if test ${enable_threads+y}
 then :
   enableval=$enable_threads; gl_use_threads=$enableval
-else $as_nop
-  if test -n "$gl_use_threads_default"; then
+else case e in #(
+  e) if test -n "$gl_use_threads_default"; then
        gl_use_threads="$gl_use_threads_default"
      else
        case "$host_os" in
@@ -8815,7 +8907,8 @@ else $as_nop
          *)    gl_use_threads=yes ;;
        esac
      fi
-
+     ;;
+esac
 fi
 
   if test "$gl_use_threads" = yes \
@@ -9264,8 +9357,8 @@ printf %s "checking for a usable (O_DIRE
 if test ${parted_cv_func_open_O_DIRECT_temp_dir+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
       # First of all, if there is no O_DIRECT definition, use ".",
       # and skip the run-test.
       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -9278,11 +9371,12 @@ frobnozzle
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "frobnozzle" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "frobnozzle" >/dev/null 2>&1
 then :
   pe_have_O_DIRECT=yes
-else $as_nop
-  pe_have_O_DIRECT=no
+else case e in #(
+  e) pe_have_O_DIRECT=no ;;
+esac
 fi
 rm -rf conftest*
 
@@ -9320,8 +9414,8 @@ then :
   # When cross-compiling, use ".".
 	    parted_cv_func_open_O_DIRECT_temp_dir=.
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <sys/types.h>
@@ -9486,19 +9580,22 @@ then :
   # If the above program exits with status 0, then
 	    # there it found no useful directory.  Use ".".
 	    parted_cv_func_open_O_DIRECT_temp_dir=.
-else $as_nop
-  # It found one.  The exit status is an index into the list.
+else case e in #(
+  e) # It found one.  The exit status is an index into the list.
 	    # We also run this code when the program fails to compile or
 	    # to link, as will happen on systems without a mkdtemp function.
 	    pe_err=$?; set _ $pe_cand_dirs; shift
-	      eval parted_cv_func_open_O_DIRECT_temp_dir='$'$pe_err
+	      eval parted_cv_func_open_O_DIRECT_temp_dir='$'$pe_err ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
       fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $parted_cv_func_open_O_DIRECT_temp_dir" >&5
 printf "%s\n" "$parted_cv_func_open_O_DIRECT_temp_dir" >&6; }
@@ -9512,7 +9609,193 @@ printf "%s\n" "$parted_cv_func_open_O_DI
   fi
 
 
+# Check whether --enable-largefile was given.
+if test ${enable_largefile+y}
+then :
+  enableval=$enable_largefile;
+fi
+if test "$enable_largefile,$enable_year2038" != no,no
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option to enable large file support" >&5
+printf %s "checking for $CC option to enable large file support... " >&6; }
+if test ${ac_cv_sys_largefile_opts+y}
+then :
+  printf %s "(cached) " >&6
+else case e in #(
+  e) ac_save_CC="$CC"
+  ac_opt_found=no
+  for ac_opt in "none needed" "-D_FILE_OFFSET_BITS=64" "-D_LARGE_FILES=1" "-n32"; do
+    if test x"$ac_opt" != x"none needed"
+then :
+  CC="$ac_save_CC $ac_opt"
+fi
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <sys/types.h>
+#ifndef FTYPE
+# define FTYPE off_t
+#endif
+ /* Check that FTYPE can represent 2**63 - 1 correctly.
+    We can't simply define LARGE_FTYPE to be 9223372036854775807,
+    since some C++ compilers masquerading as C compilers
+    incorrectly reject 9223372036854775807.  */
+#define LARGE_FTYPE (((FTYPE) 1 << 31 << 31) - 1 + ((FTYPE) 1 << 31 << 31))
+  int FTYPE_is_large[(LARGE_FTYPE % 2147483629 == 721
+		       && LARGE_FTYPE % 2147483647 == 1)
+		      ? 1 : -1];
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  if test x"$ac_opt" = x"none needed"
+then :
+  # GNU/Linux s390x and alpha need _FILE_OFFSET_BITS=64 for wide ino_t.
+	 CC="$CC -DFTYPE=ino_t"
+	 if ac_fn_c_try_compile "$LINENO"
+then :
+
+else case e in #(
+  e) CC="$CC -D_FILE_OFFSET_BITS=64"
+	    if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_opt='-D_FILE_OFFSET_BITS=64'
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam ;;
+esac
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam
+fi
+      ac_cv_sys_largefile_opts=$ac_opt
+      ac_opt_found=yes
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    test $ac_opt_found = no || break
+  done
+  CC="$ac_save_CC"
+
+
+    if test $ac_opt_found != yes; then
+      case $host_os in #(
+  mingw* | windows*) :
+    ac_cv_sys_largefile_opts="supported through gnulib"
+           ac_opt_found=yes
+       ;; #(
+  *) :
+     ;;
+esac
+    fi
+
+  test $ac_opt_found = yes || ac_cv_sys_largefile_opts="support not detected" ;;
+esac
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_largefile_opts" >&5
+printf "%s\n" "$ac_cv_sys_largefile_opts" >&6; }
+
+ac_have_largefile=yes
+case $ac_cv_sys_largefile_opts in #(
+  "none needed") :
+     ;; #(
+  "supported through gnulib") :
+     ;; #(
+  "support not detected") :
+    ac_have_largefile=no ;; #(
+  "-D_FILE_OFFSET_BITS=64") :
+
+printf "%s\n" "#define _FILE_OFFSET_BITS 64" >>confdefs.h
+ ;; #(
+  "-D_LARGE_FILES=1") :
+
+printf "%s\n" "#define _LARGE_FILES 1" >>confdefs.h
+ ;; #(
+  "-n32") :
+    CC="$CC -n32" ;; #(
+  *) :
+    as_fn_error $? "internal error: bad value for \$ac_cv_sys_largefile_opts" "$LINENO" 5 ;;
+esac
+
+if test "$enable_year2038" != no
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option for timestamps after 2038" >&5
+printf %s "checking for $CC option for timestamps after 2038... " >&6; }
+if test ${ac_cv_sys_year2038_opts+y}
+then :
+  printf %s "(cached) " >&6
+else case e in #(
+  e) ac_save_CPPFLAGS="$CPPFLAGS"
+  ac_opt_found=no
+  for ac_opt in "none needed" "-D_TIME_BITS=64" "-D__MINGW_USE_VC2005_COMPAT" "-U_USE_32_BIT_TIME_T -D__MINGW_USE_VC2005_COMPAT"; do
+    if test x"$ac_opt" != x"none needed"
+then :
+  CPPFLAGS="$ac_save_CPPFLAGS $ac_opt"
+fi
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+  #include <time.h>
+  /* Check that time_t can represent 2**32 - 1 correctly.  */
+  #define LARGE_TIME_T \\
+    ((time_t) (((time_t) 1 << 30) - 1 + 3 * ((time_t) 1 << 30)))
+  int verify_time_t_range[(LARGE_TIME_T / 65537 == 65535
+                           && LARGE_TIME_T % 65537 == 0)
+                          ? 1 : -1];
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_cv_sys_year2038_opts="$ac_opt"
+      ac_opt_found=yes
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    test $ac_opt_found = no || break
+  done
+  CPPFLAGS="$ac_save_CPPFLAGS"
+  test $ac_opt_found = yes || ac_cv_sys_year2038_opts="support not detected" ;;
+esac
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_year2038_opts" >&5
+printf "%s\n" "$ac_cv_sys_year2038_opts" >&6; }
+
+ac_have_year2038=yes
+case $ac_cv_sys_year2038_opts in #(
+  "none needed") :
+     ;; #(
+  "support not detected") :
+    ac_have_year2038=no ;; #(
+  "-D_TIME_BITS=64") :
+
+printf "%s\n" "#define _TIME_BITS 64" >>confdefs.h
+ ;; #(
+  "-D__MINGW_USE_VC2005_COMPAT") :
+
+printf "%s\n" "#define __MINGW_USE_VC2005_COMPAT 1" >>confdefs.h
+ ;; #(
+  "-U_USE_32_BIT_TIME_T"*) :
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
+as_fn_error $? "the 'time_t' type is currently forced to be 32-bit. It
+will stop working after mid-January 2038. Remove
+_USE_32BIT_TIME_T from the compiler flags.
+See 'config.log' for more details" "$LINENO" 5; } ;; #(
+  *) :
+    as_fn_error $? "internal error: bad value for \$ac_cv_sys_year2038_opts" "$LINENO" 5 ;;
+esac
+
+fi
 
+fi
 
 
 
@@ -9532,8 +9815,9 @@ printf "%s\n" "$as_me: WARNING: invalid
        enableval=conservative
      fi
      gl_cross_guesses="$enableval"
-else $as_nop
-  gl_cross_guesses=conservative
+else case e in #(
+  e) gl_cross_guesses=conservative ;;
+esac
 fi
 
   if test $gl_cross_guesses = risky; then
@@ -9551,10 +9835,11 @@ ac_fn_c_check_type "$LINENO" "size_t" "a
 if test "x$ac_cv_type_size_t" = xyes
 then :
 
-else $as_nop
-
+else case e in #(
+  e)
 printf "%s\n" "#define size_t unsigned int" >>confdefs.h
-
+ ;;
+esac
 fi
 
 # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works
@@ -9564,8 +9849,8 @@ printf %s "checking for working alloca.h
 if test ${ac_cv_working_alloca_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <alloca.h>
 int
@@ -9580,11 +9865,13 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_working_alloca_h=yes
-else $as_nop
-  ac_cv_working_alloca_h=no
+else case e in #(
+  e) ac_cv_working_alloca_h=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext
+    conftest$ac_exeext conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_working_alloca_h" >&5
 printf "%s\n" "$ac_cv_working_alloca_h" >&6; }
@@ -9599,10 +9886,10 @@ printf %s "checking for alloca... " >&6;
 if test ${ac_cv_func_alloca_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test $ac_cv_working_alloca_h = yes; then
-  ac_cv_func_alloca_works=yes
-else
+else case e in #(
+  e) ac_cv_func_alloca_works=$ac_cv_working_alloca_h
+if test "$ac_cv_func_alloca_works" != yes
+then :
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <stdlib.h>
@@ -9633,15 +9920,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_func_alloca_works=yes
-else $as_nop
-  ac_cv_func_alloca_works=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
+fi ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_alloca_works" >&5
 printf "%s\n" "$ac_cv_func_alloca_works" >&6; }
-fi
 
 if test $ac_cv_func_alloca_works = yes; then
 
@@ -9667,12 +9953,12 @@ printf %s "checking stack direction for
 if test ${ac_cv_c_stack_direction+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   ac_cv_c_stack_direction=0
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $ac_includes_default
 int
@@ -9695,13 +9981,16 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   ac_cv_c_stack_direction=1
-else $as_nop
-  ac_cv_c_stack_direction=-1
+else case e in #(
+  e) ac_cv_c_stack_direction=-1 ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_stack_direction" >&5
 printf "%s\n" "$ac_cv_c_stack_direction" >&6; }
@@ -9717,8 +10006,8 @@ printf %s "checking whether the preproce
 if test ${gl_cv_have_include_next+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  rm -rf conftestd1a conftestd1b conftestd2
+else case e in #(
+  e) rm -rf conftestd1a conftestd1b conftestd2
      mkdir conftestd1a conftestd1b conftestd2
                                                   cat <<EOF > conftestd1a/conftest.h
 #define DEFINED_IN_CONFTESTD1
@@ -9754,8 +10043,8 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_have_include_next=yes
-else $as_nop
-  CPPFLAGS="$gl_save_CPPFLAGS -Iconftestd1a -Iconftestd2"
+else case e in #(
+  e) CPPFLAGS="$gl_save_CPPFLAGS -Iconftestd1a -Iconftestd2"
         cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <conftest.h>
@@ -9763,16 +10052,19 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_have_include_next=buggy
-else $as_nop
-  gl_cv_have_include_next=no
+else case e in #(
+  e) gl_cv_have_include_next=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+        ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
      CPPFLAGS="$gl_save_CPPFLAGS"
      rm -rf conftestd1a conftestd1b conftestd2
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_have_include_next" >&5
 printf "%s\n" "$gl_cv_have_include_next" >&6; }
@@ -9801,8 +10093,8 @@ printf %s "checking whether source code
 if test ${gl_cv_source_line_length_unlimited+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #ifdef __TANDEM
@@ -9811,15 +10103,17 @@ choke me
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "choke me" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "choke me" >/dev/null 2>&1
 then :
   gl_cv_source_line_length_unlimited=no
-else $as_nop
-  gl_cv_source_line_length_unlimited=yes
+else case e in #(
+  e) gl_cv_source_line_length_unlimited=yes ;;
+esac
 fi
 rm -rf conftest*
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_source_line_length_unlimited" >&5
 printf "%s\n" "$gl_cv_source_line_length_unlimited" >&6; }
@@ -9897,8 +10191,8 @@ printf %s "checking whether <wchar.h> us
 if test ${gl_cv_header_wchar_h_correct_inline+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gl_cv_header_wchar_h_correct_inline=yes
+else case e in #(
+  e) gl_cv_header_wchar_h_correct_inline=yes
      case "$host_os" in
        *-gnu* | gnu*)
          cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -9946,7 +10240,8 @@ _ACEOF
          rm -f conftest12.c conftest12.$ac_objext conftest$ac_exeext
          ;;
      esac
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_wchar_h_correct_inline" >&5
 printf "%s\n" "$gl_cv_header_wchar_h_correct_inline" >&6; }
@@ -9981,8 +10276,8 @@ printf %s "checking for nl_langinfo and
 if test ${am_cv_langinfo_codeset+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <langinfo.h>
 int
@@ -9996,12 +10291,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   am_cv_langinfo_codeset=yes
-else $as_nop
-  am_cv_langinfo_codeset=no
+else case e in #(
+  e) am_cv_langinfo_codeset=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_langinfo_codeset" >&5
 printf "%s\n" "$am_cv_langinfo_codeset" >&6; }
@@ -10019,8 +10316,8 @@ printf %s "checking for a traditional fr
 if test ${gt_cv_locale_fr+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -10147,7 +10444,8 @@ _ACEOF
       esac
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_fr" >&5
 printf "%s\n" "$gt_cv_locale_fr" >&6; }
@@ -10613,8 +10911,8 @@ printf %s "checking whether malloc is pt
 if test ${gl_cv_malloc_ptrdiff+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <stdint.h>
 
@@ -10648,11 +10946,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_malloc_ptrdiff=yes
-else $as_nop
-  gl_cv_malloc_ptrdiff=no
+else case e in #(
+  e) gl_cv_malloc_ptrdiff=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_malloc_ptrdiff" >&5
 printf "%s\n" "$gl_cv_malloc_ptrdiff" >&6; }
@@ -10669,8 +10969,8 @@ printf %s "checking whether malloc, real
 if test ${gl_cv_func_malloc_posix+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                                     case "$host_os" in
         mingw*)
           gl_cv_func_malloc_posix=no ;;
@@ -10680,7 +10980,8 @@ else $as_nop
         *)
           gl_cv_func_malloc_posix=yes ;;
       esac
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_malloc_posix" >&5
 printf "%s\n" "$gl_cv_func_malloc_posix" >&6; }
@@ -10710,8 +11011,8 @@ printf %s "checking whether lstat correc
 if test ${gl_cv_func_lstat_dereferences_slashed_symlink+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  rm -f conftest.sym conftest.file
+else case e in #(
+  e) rm -f conftest.sym conftest.file
      echo >conftest.file
      if test "$cross_compiling" = yes
 then :
@@ -10733,8 +11034,8 @@ then :
             gl_cv_func_lstat_dereferences_slashed_symlink="$gl_cross_guess_normal" ;;
         esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $ac_includes_default
 int
@@ -10755,15 +11056,18 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_lstat_dereferences_slashed_symlink=yes
-else $as_nop
-  gl_cv_func_lstat_dereferences_slashed_symlink=no
+else case e in #(
+  e) gl_cv_func_lstat_dereferences_slashed_symlink=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
      rm -f conftest.sym conftest.file
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_lstat_dereferences_slashed_symlink" >&5
 printf "%s\n" "$gl_cv_func_lstat_dereferences_slashed_symlink" >&6; }
@@ -10781,8 +11085,8 @@ printf %s "checking for $CC options need
 if test ${ac_cv_c_undeclared_builtin_options+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_save_CFLAGS=$CFLAGS
+else case e in #(
+  e) ac_save_CFLAGS=$CFLAGS
    ac_cv_c_undeclared_builtin_options='cannot detect'
    for ac_arg in '' -fno-builtin; do
      CFLAGS="$ac_save_CFLAGS $ac_arg"
@@ -10801,8 +11105,8 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
 
-else $as_nop
-  # This test program should compile successfully.
+else case e in #(
+  e) # This test program should compile successfully.
         # No library function is consistently available on
         # freestanding implementations, so test against a dummy
         # declaration.  Include always-available headers on the
@@ -10830,26 +11134,29 @@ then :
   if test x"$ac_arg" = x
 then :
   ac_cv_c_undeclared_builtin_options='none needed'
-else $as_nop
-  ac_cv_c_undeclared_builtin_options=$ac_arg
+else case e in #(
+  e) ac_cv_c_undeclared_builtin_options=$ac_arg ;;
+esac
 fi
           break
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
     done
     CFLAGS=$ac_save_CFLAGS
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_undeclared_builtin_options" >&5
 printf "%s\n" "$ac_cv_c_undeclared_builtin_options" >&6; }
   case $ac_cv_c_undeclared_builtin_options in #(
   'cannot detect') :
-    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
 as_fn_error $? "cannot make $CC report undeclared builtins
-See \`config.log' for more details" "$LINENO" 5; } ;; #(
+See 'config.log' for more details" "$LINENO" 5; } ;; #(
   'none needed') :
     ac_c_undeclared_builtin_options='' ;; #(
   *) :
@@ -10863,8 +11170,8 @@ printf %s "checking whether // is distin
 if test ${gl_cv_double_slash_root+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-   if test x"$cross_compiling" = xyes ; then
+else case e in #(
+  e)  if test x"$cross_compiling" = xyes ; then
         # When cross-compiling, there is no way to tell whether // is special
         # short of a list of hosts.  However, the only known hosts to date
         # that have a distinct // are Apollo DomainOS (too old to port to),
@@ -10886,7 +11193,8 @@ else $as_nop
         else
           gl_cv_double_slash_root=yes
         fi
-      fi
+      fi ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_double_slash_root" >&5
 printf "%s\n" "$gl_cv_double_slash_root" >&6; }
@@ -10905,8 +11213,8 @@ printf %s "checking whether realpath wor
 if test ${gl_cv_func_realpath_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     rm -rf conftest.a conftest.d
     touch conftest.a
     # Assume that if we have lstat, we can also check symlinks.
@@ -10929,8 +11237,8 @@ then :
         *)             gl_cv_func_realpath_works="$gl_cross_guess_normal" ;;
       esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 
@@ -11117,19 +11425,22 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_realpath_works=yes
-else $as_nop
-  case $? in
+else case e in #(
+  e) case $? in
         32) gl_cv_func_realpath_works=nearly ;;
         *)  gl_cv_func_realpath_works=no ;;
       esac
-
+      ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
     rm -rf conftest.a conftest.l conftest.d
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_realpath_works" >&5
 printf "%s\n" "$gl_cv_func_realpath_works" >&6; }
@@ -11158,8 +11469,8 @@ printf %s "checking for faccessat... " >
 if test ${gl_cv_onwards_func_faccessat+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -11203,7 +11514,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_faccessat" >&5
 printf "%s\n" "$gl_cv_onwards_func_faccessat" >&6; }
@@ -11784,8 +12096,8 @@ printf %s "checking for complete errno.h
 if test ${gl_cv_header_errno_h_complete+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -11844,15 +12156,17 @@ booboo
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "booboo" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "booboo" >/dev/null 2>&1
 then :
   gl_cv_header_errno_h_complete=no
-else $as_nop
-  gl_cv_header_errno_h_complete=yes
+else case e in #(
+  e) gl_cv_header_errno_h_complete=yes ;;
+esac
 fi
 rm -rf conftest*
 
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_errno_h_complete" >&5
 printf "%s\n" "$gl_cv_header_errno_h_complete" >&6; }
@@ -11875,8 +12189,8 @@ printf %s "checking absolute name of <er
 if test ${gl_cv_next_errno_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
 
 
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -11912,7 +12226,8 @@ _ACEOF
           gl_header=$gl_cv_absolute_errno_h
           gl_cv_next_errno_h='"'$gl_header'"'
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_errno_h" >&5
 printf "%s\n" "$gl_cv_next_errno_h" >&6; }
@@ -11940,8 +12255,8 @@ printf %s "checking for EMULTIHOP value.
 if test ${gl_cv_header_errno_h_EMULTIHOP+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -11952,11 +12267,12 @@ yes
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "yes" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "yes" >/dev/null 2>&1
 then :
   gl_cv_header_errno_h_EMULTIHOP=yes
-else $as_nop
-  gl_cv_header_errno_h_EMULTIHOP=no
+else case e in #(
+  e) gl_cv_header_errno_h_EMULTIHOP=no ;;
+esac
 fi
 rm -rf conftest*
 
@@ -11972,7 +12288,7 @@ yes
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "yes" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "yes" >/dev/null 2>&1
 then :
   gl_cv_header_errno_h_EMULTIHOP=hidden
 fi
@@ -11992,7 +12308,8 @@ fi
 
         fi
       fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_errno_h_EMULTIHOP" >&5
 printf "%s\n" "$gl_cv_header_errno_h_EMULTIHOP" >&6; }
@@ -12015,8 +12332,8 @@ printf %s "checking for ENOLINK value...
 if test ${gl_cv_header_errno_h_ENOLINK+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -12027,11 +12344,12 @@ yes
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "yes" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "yes" >/dev/null 2>&1
 then :
   gl_cv_header_errno_h_ENOLINK=yes
-else $as_nop
-  gl_cv_header_errno_h_ENOLINK=no
+else case e in #(
+  e) gl_cv_header_errno_h_ENOLINK=no ;;
+esac
 fi
 rm -rf conftest*
 
@@ -12047,7 +12365,7 @@ yes
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "yes" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "yes" >/dev/null 2>&1
 then :
   gl_cv_header_errno_h_ENOLINK=hidden
 fi
@@ -12067,7 +12385,8 @@ fi
 
         fi
       fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_errno_h_ENOLINK" >&5
 printf "%s\n" "$gl_cv_header_errno_h_ENOLINK" >&6; }
@@ -12090,8 +12409,8 @@ printf %s "checking for EOVERFLOW value.
 if test ${gl_cv_header_errno_h_EOVERFLOW+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -12102,11 +12421,12 @@ yes
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "yes" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "yes" >/dev/null 2>&1
 then :
   gl_cv_header_errno_h_EOVERFLOW=yes
-else $as_nop
-  gl_cv_header_errno_h_EOVERFLOW=no
+else case e in #(
+  e) gl_cv_header_errno_h_EOVERFLOW=no ;;
+esac
 fi
 rm -rf conftest*
 
@@ -12122,7 +12442,7 @@ yes
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "yes" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "yes" >/dev/null 2>&1
 then :
   gl_cv_header_errno_h_EOVERFLOW=hidden
 fi
@@ -12142,7 +12462,8 @@ fi
 
         fi
       fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_errno_h_EOVERFLOW" >&5
 printf "%s\n" "$gl_cv_header_errno_h_EOVERFLOW" >&6; }
@@ -12179,8 +12500,8 @@ printf %s "checking absolute name of <er
 if test ${gl_cv_next_error_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_error_h = yes; then
 
 
@@ -12222,7 +12543,8 @@ _ACEOF
                gl_cv_next_error_h='<'error.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_error_h" >&5
 printf "%s\n" "$gl_cv_next_error_h" >&6; }
@@ -12257,8 +12579,8 @@ printf %s "checking for error... " >&6;
 if test ${gl_cv_onwards_func_error+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -12302,7 +12624,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_error" >&5
 printf "%s\n" "$gl_cv_onwards_func_error" >&6; }
@@ -12339,8 +12662,8 @@ printf %s "checking for error_at_line...
 if test ${ac_cv_lib_error_at_line+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <error.h>
 int
@@ -12354,11 +12677,13 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_error_at_line=yes
-else $as_nop
-  ac_cv_lib_error_at_line=no
+else case e in #(
+  e) ac_cv_lib_error_at_line=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext
+    conftest$ac_exeext conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_error_at_line" >&5
 printf "%s\n" "$ac_cv_lib_error_at_line" >&6; }
@@ -12378,8 +12703,8 @@ printf %s "checking for working error fu
 if test ${gl_cv_func_working_error+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test $cross_compiling != yes; then
+else case e in #(
+  e) if test $cross_compiling != yes; then
          cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -12413,8 +12738,9 @@ then :
             fi
             rm -f conftest.out
 
-else $as_nop
-  gl_cv_func_working_error=no
+else case e in #(
+  e) gl_cv_func_working_error=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
@@ -12446,12 +12772,14 @@ then :
               *)               gl_cv_func_working_error="$gl_cross_guess_normal" ;;
             esac
 
-else $as_nop
-  gl_cv_func_working_error=no
+else case e in #(
+  e) gl_cv_func_working_error=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
        fi
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_working_error" >&5
 printf "%s\n" "$gl_cv_func_working_error" >&6; }
@@ -12479,8 +12807,9 @@ ac_fn_check_decl "$LINENO" "strerror_r"
 if test "x$ac_cv_have_decl_strerror_r" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_STRERROR_R $ac_have_decl" >>confdefs.h
 
@@ -12499,8 +12828,8 @@ printf %s "checking whether strerror_r r
 if test ${ac_cv_func_strerror_r_char_p+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     ac_cv_func_strerror_r_char_p=no
     if test $ac_cv_have_decl_strerror_r = yes; then
       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -12526,7 +12855,8 @@ fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 
     fi
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_strerror_r_char_p" >&5
 printf "%s\n" "$ac_cv_func_strerror_r_char_p" >&6; }
@@ -12545,8 +12875,8 @@ printf %s "checking whether ctype.h defi
 if test ${gl_cv_have___header_inline+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <ctype.h>
                          #ifndef __header_inline
@@ -12557,10 +12887,12 @@ _ACEOF
 if ac_fn_c_try_cpp "$LINENO"
 then :
   gl_cv_have___header_inline=yes
-else $as_nop
-  gl_cv_have___header_inline=no
+else case e in #(
+  e) gl_cv_have___header_inline=no ;;
+esac
 fi
-rm -f conftest.err conftest.i conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_have___header_inline" >&5
 printf "%s\n" "$gl_cv_have___header_inline" >&6; }
@@ -12622,8 +12954,8 @@ printf %s "checking for working fcntl.h.
 if test ${gl_cv_header_working_fcntl_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
                   # Guess 'no' on native Windows.
@@ -12631,8 +12963,8 @@ then :
           *)      gl_cv_header_working_fcntl_h=cross-compiling ;;
         esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/types.h>
            #include <sys/stat.h>
@@ -12734,19 +13066,22 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_header_working_fcntl_h=yes
-else $as_nop
-  case $? in #(
+else case e in #(
+  e) case $? in #(
         4) gl_cv_header_working_fcntl_h='no (bad O_NOFOLLOW)';; #(
         64) gl_cv_header_working_fcntl_h='no (bad O_NOATIME)';; #(
         68) gl_cv_header_working_fcntl_h='no (bad O_NOATIME, O_NOFOLLOW)';; #(
          *) gl_cv_header_working_fcntl_h='no';;
-        esac
+        esac ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_working_fcntl_h" >&5
 printf "%s\n" "$gl_cv_header_working_fcntl_h" >&6; }
@@ -12773,8 +13108,8 @@ printf "%s\n" "#define HAVE_WORKING_O_NO
 if test "x$ac_cv_type_pid_t" = xyes
 then :
 
-else $as_nop
-                                          cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e)                                         cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
           #if defined _WIN64 && !defined __CYGWIN__
@@ -12793,14 +13128,16 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_pid_type='int'
-else $as_nop
-  ac_pid_type='__int64'
+else case e in #(
+  e) ac_pid_type='__int64' ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 
 printf "%s\n" "#define pid_t $ac_pid_type" >>confdefs.h
 
-
+     ;;
+esac
 fi
 
 
@@ -12808,10 +13145,11 @@ ac_fn_c_check_type "$LINENO" "mode_t" "a
 if test "x$ac_cv_type_mode_t" = xyes
 then :
 
-else $as_nop
-
+else case e in #(
+  e)
 printf "%s\n" "#define mode_t int" >>confdefs.h
-
+ ;;
+esac
 fi
 
 
@@ -12833,8 +13171,8 @@ printf %s "checking absolute name of <fc
 if test ${gl_cv_next_fcntl_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
 
 
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -12870,7 +13208,8 @@ _ACEOF
           gl_header=$gl_cv_absolute_fcntl_h
           gl_cv_next_fcntl_h='"'$gl_header'"'
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_fcntl_h" >&5
 printf "%s\n" "$gl_cv_next_fcntl_h" >&6; }
@@ -12931,8 +13270,8 @@ printf %s "checking whether stat file-mo
 if test ${ac_cv_header_stat_broken+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/types.h>
 #include <sys/stat.h>
@@ -12957,10 +13296,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_header_stat_broken=no
-else $as_nop
-  ac_cv_header_stat_broken=yes
+else case e in #(
+  e) ac_cv_header_stat_broken=yes ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_header_stat_broken" >&5
 printf "%s\n" "$ac_cv_header_stat_broken" >&6; }
@@ -12979,8 +13320,8 @@ printf %s "checking for 64-bit off_t...
 if test ${gl_cv_type_off_t_64+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/types.h>
                 int verify_off_t_size[sizeof (off_t) >= 8 ? 1 : -1];
@@ -12996,11 +13337,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_type_off_t_64=yes
-else $as_nop
-  gl_cv_type_off_t_64=no
+else case e in #(
+  e) gl_cv_type_off_t_64=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+         ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_type_off_t_64" >&5
 printf "%s\n" "$gl_cv_type_off_t_64" >&6; }
@@ -13014,8 +13357,8 @@ printf %s "checking for 64-bit st_size..
 if test ${gl_cv_member_st_size_64+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/types.h>
                 struct stat buf;
@@ -13032,11 +13375,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_member_st_size_64=yes
-else $as_nop
-  gl_cv_member_st_size_64=no
+else case e in #(
+  e) gl_cv_member_st_size_64=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+         ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_member_st_size_64" >&5
 printf "%s\n" "$gl_cv_member_st_size_64" >&6; }
@@ -13057,8 +13402,8 @@ printf %s "checking for C/C++ restrict k
 if test ${ac_cv_c_restrict+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_cv_c_restrict=no
+else case e in #(
+  e) ac_cv_c_restrict=no
    # Put '__restrict__' first, to avoid problems with glibc and non-GCC; see:
    # https://lists.gnu.org/archive/html/bug-autoconf/2016-02/msg00006.html
    # Put 'restrict' last, because C++ lacks it.
@@ -13089,7 +13434,8 @@ fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
      test "$ac_cv_c_restrict" != no && break
    done
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_restrict" >&5
 printf "%s\n" "$ac_cv_c_restrict" >&6; }
@@ -13124,8 +13470,8 @@ printf %s "checking absolute name of <sy
 if test ${gl_cv_next_sys_stat_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_sys_stat_h = yes; then
 
 
@@ -13167,7 +13513,8 @@ _ACEOF
                gl_cv_next_sys_stat_h='<'sys/stat.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_sys_stat_h" >&5
 printf "%s\n" "$gl_cv_next_sys_stat_h" >&6; }
@@ -13205,10 +13552,11 @@ printf "%s\n" "$gl_cv_next_sys_stat_h" >
 if test "x$ac_cv_type_nlink_t" = xyes
 then :
 
-else $as_nop
-
+else case e in #(
+  e)
 printf "%s\n" "#define nlink_t int" >>confdefs.h
-
+ ;;
+esac
 fi
 
 
@@ -13324,8 +13672,9 @@ ac_fn_check_decl "$LINENO" "getdtablesiz
 if test "x$ac_cv_have_decl_getdtablesize" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_GETDTABLESIZE $ac_have_decl" >>confdefs.h
 
@@ -13351,8 +13700,8 @@ printf %s "checking absolute name of <ge
 if test ${gl_cv_next_getopt_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_getopt_h = yes; then
 
 
@@ -13394,7 +13743,8 @@ _ACEOF
                gl_cv_next_getopt_h='<'getopt.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_getopt_h" >&5
 printf "%s\n" "$gl_cv_next_getopt_h" >&6; }
@@ -13430,8 +13780,9 @@ if test "x$ac_cv_header_getopt_h" = xyes
 then :
   printf "%s\n" "#define HAVE_GETOPT_H 1" >>confdefs.h
 
-else $as_nop
-  gl_replace_getopt=yes
+else case e in #(
+  e) gl_replace_getopt=yes ;;
+esac
 fi
 
 done
@@ -13446,8 +13797,9 @@ if test "x$ac_cv_func_getopt_long_only"
 then :
   printf "%s\n" "#define HAVE_GETOPT_LONG_ONLY 1" >>confdefs.h
 
-else $as_nop
-  gl_replace_getopt=yes
+else case e in #(
+  e) gl_replace_getopt=yes ;;
+esac
 fi
 
 done
@@ -13459,17 +13811,17 @@ printf %s "checking whether getopt is PO
 if test ${gl_cv_func_getopt_posix+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                                                 if test $cross_compiling = no; then
                               if test "$cross_compiling" = yes
 then :
-  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
 as_fn_error $? "cannot run test program while cross compiling
-See \`config.log' for more details" "$LINENO" 5; }
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+See 'config.log' for more details" "$LINENO" 5; }
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <unistd.h>
@@ -13501,22 +13853,24 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_getopt_posix=maybe
-else $as_nop
-  gl_cv_func_getopt_posix=no
+else case e in #(
+  e) gl_cv_func_getopt_posix=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
           if test $gl_cv_func_getopt_posix = maybe; then
                                     if test "$cross_compiling" = yes
 then :
-  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
 as_fn_error $? "cannot run test program while cross compiling
-See \`config.log' for more details" "$LINENO" 5; }
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+See 'config.log' for more details" "$LINENO" 5; }
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <unistd.h>
@@ -13562,23 +13916,25 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_getopt_posix=maybe
-else $as_nop
-  gl_cv_func_getopt_posix=no
+else case e in #(
+  e) gl_cv_func_getopt_posix=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
           fi
           if test $gl_cv_func_getopt_posix = maybe; then
                         if test "$cross_compiling" = yes
 then :
-  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
 as_fn_error $? "cannot run test program while cross compiling
-See \`config.log' for more details" "$LINENO" 5; }
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+See 'config.log' for more details" "$LINENO" 5; }
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <unistd.h>
@@ -13606,11 +13962,13 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_getopt_posix=yes
-else $as_nop
-  gl_cv_func_getopt_posix=no
+else case e in #(
+  e) gl_cv_func_getopt_posix=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
           fi
@@ -13620,7 +13978,8 @@ fi
             *)                       gl_cv_func_getopt_posix="guessing yes";;
           esac
         fi
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_getopt_posix" >&5
 printf "%s\n" "$gl_cv_func_getopt_posix" >&6; }
@@ -13635,8 +13994,8 @@ printf %s "checking for working GNU geto
 if test ${gl_cv_func_getopt_gnu+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  # Even with POSIXLY_CORRECT, the GNU extension of leading '-' in the
+else case e in #(
+  e) # Even with POSIXLY_CORRECT, the GNU extension of leading '-' in the
        # optstring is necessary for programs like m4 that have POSIX-mandated
        # semantics for supporting options interspersed with files.
        # Also, since getopt_long is a GNU extension, we require optind=0.
@@ -13654,8 +14013,8 @@ else $as_nop
 then :
                              gl_cv_func_getopt_gnu="$gl_cross_guess_normal"
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <getopt.h>
                            #include <stddef.h>
@@ -13857,11 +14216,13 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_getopt_gnu=yes
-else $as_nop
-  gl_cv_func_getopt_gnu=no
+else case e in #(
+  e) gl_cv_func_getopt_gnu=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
        case $gl_had_POSIXLY_CORRECT in
@@ -13869,7 +14230,8 @@ fi
          yes) { POSIXLY_CORRECT=; unset POSIXLY_CORRECT;}; POSIXLY_CORRECT=1 ;;
          *) { POSIXLY_CORRECT=; unset POSIXLY_CORRECT;} ;;
        esac
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_getopt_gnu" >&5
 printf "%s\n" "$gl_cv_func_getopt_gnu" >&6; }
@@ -13881,16 +14243,16 @@ printf %s "checking for working GNU geto
 if test ${gl_cv_func_getopt_long_gnu+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
               case "$host_os" in
               openbsd*) gl_cv_func_getopt_long_gnu="guessing no";;
               *)        gl_cv_func_getopt_long_gnu="guessing yes";;
             esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <getopt.h>
                 #include <stddef.h>
@@ -13926,14 +14288,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_getopt_long_gnu=yes
-else $as_nop
-  gl_cv_func_getopt_long_gnu=no
+else case e in #(
+  e) gl_cv_func_getopt_long_gnu=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+         ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_getopt_long_gnu" >&5
 printf "%s\n" "$gl_cv_func_getopt_long_gnu" >&6; }
@@ -13970,8 +14335,9 @@ printf "%s\n" "$gl_cv_func_getopt_long_g
 if test "x$ac_cv_header_pthread_h" = xyes
 then :
   gl_have_pthread_h=yes
-else $as_nop
-  gl_have_pthread_h=no
+else case e in #(
+  e) gl_have_pthread_h=no ;;
+esac
 fi
 
     if test "$gl_have_pthread_h" = yes; then
@@ -14014,8 +14380,8 @@ rm -f core conftest.err conftest.$ac_obj
         LIBS=$save_LIBS
         test $gl_pthread_api = yes && break
       done
-      echo "$as_me:14017: gl_pthread_api=$gl_pthread_api" >&5
-      echo "$as_me:14018: LIBPTHREAD=$LIBPTHREAD" >&5
+      echo "$as_me:14383: gl_pthread_api=$gl_pthread_api" >&5
+      echo "$as_me:14384: LIBPTHREAD=$LIBPTHREAD" >&5
 
       gl_pthread_in_glibc=no
       # On Linux with glibc >= 2.34, libc contains the fully functional
@@ -14033,7 +14399,7 @@ rm -f core conftest.err conftest.$ac_obj
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "Lucky user" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "Lucky user" >/dev/null 2>&1
 then :
   gl_pthread_in_glibc=yes
 fi
@@ -14041,7 +14407,7 @@ rm -rf conftest*
 
           ;;
       esac
-      echo "$as_me:14044: gl_pthread_in_glibc=$gl_pthread_in_glibc" >&5
+      echo "$as_me:14410: gl_pthread_in_glibc=$gl_pthread_in_glibc" >&5
 
       # Test for libpthread by looking for pthread_kill. (Not pthread_self,
       # since it is defined as a macro on OSF/1.)
@@ -14053,16 +14419,22 @@ printf %s "checking for pthread_kill in
 if test ${ac_cv_lib_pthread_pthread_kill+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lpthread  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char pthread_kill ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char pthread_kill (void);
 int
 main (void)
 {
@@ -14074,12 +14446,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_pthread_pthread_kill=yes
-else $as_nop
-  ac_cv_lib_pthread_pthread_kill=no
+else case e in #(
+  e) ac_cv_lib_pthread_pthread_kill=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_pthread_pthread_kill" >&5
 printf "%s\n" "$ac_cv_lib_pthread_pthread_kill" >&6; }
@@ -14112,16 +14486,22 @@ printf %s "checking for pthread_kill in
 if test ${ac_cv_lib_pthread_pthread_kill+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lpthread  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char pthread_kill ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char pthread_kill (void);
 int
 main (void)
 {
@@ -14133,12 +14513,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_pthread_pthread_kill=yes
-else $as_nop
-  ac_cv_lib_pthread_pthread_kill=no
+else case e in #(
+  e) ac_cv_lib_pthread_pthread_kill=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_pthread_pthread_kill" >&5
 printf "%s\n" "$ac_cv_lib_pthread_pthread_kill" >&6; }
@@ -14156,16 +14538,22 @@ printf %s "checking for pthread_kill in
 if test ${ac_cv_lib_c_r_pthread_kill+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lc_r  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char pthread_kill ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char pthread_kill (void);
 int
 main (void)
 {
@@ -14177,12 +14565,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_c_r_pthread_kill=yes
-else $as_nop
-  ac_cv_lib_c_r_pthread_kill=no
+else case e in #(
+  e) ac_cv_lib_c_r_pthread_kill=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_c_r_pthread_kill" >&5
 printf "%s\n" "$ac_cv_lib_c_r_pthread_kill" >&6; }
@@ -14195,7 +14585,7 @@ fi
 
         fi
       fi
-      echo "$as_me:14198: LIBPMULTITHREAD=$LIBPMULTITHREAD" >&5
+      echo "$as_me:14588: LIBPMULTITHREAD=$LIBPMULTITHREAD" >&5
     fi
     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether POSIX threads API is available" >&5
 printf %s "checking whether POSIX threads API is available... " >&6; }
@@ -14224,22 +14614,28 @@ if ac_fn_c_try_link "$LINENO"
 then :
   SCHED_YIELD_LIB=
 
-else $as_nop
-         { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for sched_yield in -lrt" >&5
+else case e in #(
+  e)        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for sched_yield in -lrt" >&5
 printf %s "checking for sched_yield in -lrt... " >&6; }
 if test ${ac_cv_lib_rt_sched_yield+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lrt  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char sched_yield ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char sched_yield (void);
 int
 main (void)
 {
@@ -14251,34 +14647,42 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_rt_sched_yield=yes
-else $as_nop
-  ac_cv_lib_rt_sched_yield=no
+else case e in #(
+  e) ac_cv_lib_rt_sched_yield=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_rt_sched_yield" >&5
 printf "%s\n" "$ac_cv_lib_rt_sched_yield" >&6; }
 if test "x$ac_cv_lib_rt_sched_yield" = xyes
 then :
   SCHED_YIELD_LIB=-lrt
-else $as_nop
-            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for sched_yield in -lposix4" >&5
+else case e in #(
+  e)           { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for sched_yield in -lposix4" >&5
 printf %s "checking for sched_yield in -lposix4... " >&6; }
 if test ${ac_cv_lib_posix4_sched_yield+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lposix4  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char sched_yield ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char sched_yield (void);
 int
 main (void)
 {
@@ -14290,12 +14694,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_posix4_sched_yield=yes
-else $as_nop
-  ac_cv_lib_posix4_sched_yield=no
+else case e in #(
+  e) ac_cv_lib_posix4_sched_yield=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_posix4_sched_yield" >&5
 printf "%s\n" "$ac_cv_lib_posix4_sched_yield" >&6; }
@@ -14303,10 +14709,12 @@ if test "x$ac_cv_lib_posix4_sched_yield"
 then :
   SCHED_YIELD_LIB=-lposix4
 fi
-
+ ;;
+esac
 fi
 
-
+       ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
@@ -14329,8 +14737,8 @@ printf %s "checking whether setlocale (L
 if test ${gl_cv_func_setlocale_null_all_mtsafe+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case "$host_os" in
+else case e in #(
+  e) case "$host_os" in
        # Guess no on musl libc, macOS, FreeBSD, NetBSD, OpenBSD, AIX, Haiku.
        *-musl* | midipix* | darwin* | freebsd* | midnightbsd* | netbsd* | openbsd* | aix* | haiku*)
          gl_cv_func_setlocale_null_all_mtsafe=no ;;
@@ -14348,11 +14756,12 @@ else $as_nop
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "Lucky user" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "Lucky user" >/dev/null 2>&1
 then :
   gl_cv_func_setlocale_null_all_mtsafe=yes
-else $as_nop
-  gl_cv_func_setlocale_null_all_mtsafe=no
+else case e in #(
+  e) gl_cv_func_setlocale_null_all_mtsafe=no ;;
+esac
 fi
 rm -rf conftest*
 
@@ -14364,7 +14773,8 @@ rm -rf conftest*
        *)
          gl_cv_func_setlocale_null_all_mtsafe="$gl_cross_guess_normal" ;;
      esac
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_setlocale_null_all_mtsafe" >&5
 printf "%s\n" "$gl_cv_func_setlocale_null_all_mtsafe" >&6; }
@@ -14389,8 +14799,8 @@ printf %s "checking whether setlocale (c
 if test ${gl_cv_func_setlocale_null_one_mtsafe+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case "$host_os" in
+else case e in #(
+  e) case "$host_os" in
        # Guess no on OpenBSD, AIX.
        openbsd* | aix*)
          gl_cv_func_setlocale_null_one_mtsafe=no ;;
@@ -14401,7 +14811,8 @@ else $as_nop
        *)
          gl_cv_func_setlocale_null_one_mtsafe="$gl_cross_guess_normal" ;;
      esac
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_setlocale_null_one_mtsafe" >&5
 printf "%s\n" "$gl_cv_func_setlocale_null_one_mtsafe" >&6; }
@@ -14432,8 +14843,8 @@ printf %s "checking whether imported sym
 if test ${gl_cv_have_weak+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case "$host_os" in
+else case e in #(
+  e) case "$host_os" in
        cygwin*)
                                     gl_cv_have_weak="guessing no"
          ;;
@@ -14468,17 +14879,18 @@ then :
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "Extensible Linking Format" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "Extensible Linking Format" >/dev/null 2>&1
 then :
   gl_cv_have_weak="guessing yes"
-else $as_nop
-  gl_cv_have_weak="guessing no"
+else case e in #(
+  e) gl_cv_have_weak="guessing no" ;;
+esac
 fi
 rm -rf conftest*
 
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <stdio.h>
@@ -14491,11 +14903,13 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_have_weak=yes
-else $as_nop
-  gl_cv_have_weak=no
+else case e in #(
+  e) gl_cv_have_weak=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
          fi
@@ -14525,7 +14939,8 @@ EOF
          esac
          ;;
      esac
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_have_weak" >&5
 printf "%s\n" "$gl_cv_have_weak" >&6; }
@@ -14569,8 +14984,8 @@ printf %s "checking absolute name of <li
 if test ${gl_cv_next_limits_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_limits_h = yes; then
 
 
@@ -14612,7 +15027,8 @@ _ACEOF
                gl_cv_next_limits_h='<'limits.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_limits_h" >&5
 printf "%s\n" "$gl_cv_next_limits_h" >&6; }
@@ -14637,8 +15053,8 @@ printf %s "checking whether limits.h has
 if test ${gl_cv_header_limits_width+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #ifndef __STDC_WANT_IEC_60559_BFP_EXT__
              #define __STDC_WANT_IEC_60559_BFP_EXT__ 1
@@ -14661,10 +15077,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_header_limits_width=yes
-else $as_nop
-  gl_cv_header_limits_width=no
+else case e in #(
+  e) gl_cv_header_limits_width=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_limits_width" >&5
 printf "%s\n" "$gl_cv_header_limits_width" >&6; }
@@ -14680,8 +15098,8 @@ printf %s "checking for wint_t... " >&6;
 if test ${gt_cv_c_wint_t+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <wchar.h>
             wint_t foo = (wchar_t)'\0';
@@ -14696,10 +15114,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gt_cv_c_wint_t=yes
-else $as_nop
-  gt_cv_c_wint_t=no
+else case e in #(
+  e) gt_cv_c_wint_t=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_c_wint_t" >&5
 printf "%s\n" "$gt_cv_c_wint_t" >&6; }
@@ -14713,8 +15133,8 @@ printf %s "checking whether wint_t is la
 if test ${gl_cv_type_wint_t_large_enough+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <wchar.h>
               int verify[sizeof (wint_t) < sizeof (int) ? -1 : 1];
@@ -14730,10 +15150,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_type_wint_t_large_enough=yes
-else $as_nop
-  gl_cv_type_wint_t_large_enough=no
+else case e in #(
+  e) gl_cv_type_wint_t_large_enough=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_type_wint_t_large_enough" >&5
 printf "%s\n" "$gl_cv_type_wint_t_large_enough" >&6; }
@@ -14753,8 +15175,8 @@ printf %s "checking whether the compiler
 if test ${gl_cv_c_multiarch+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gl_cv_c_multiarch=no
+else case e in #(
+  e) gl_cv_c_multiarch=no
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #ifndef __APPLE_CC__
@@ -14789,7 +15211,8 @@ then :
 
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_c_multiarch" >&5
 printf "%s\n" "$gl_cv_c_multiarch" >&6; }
@@ -14853,8 +15276,8 @@ printf %s "checking absolute name of <st
 if test ${gl_cv_next_stdint_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_stdint_h = yes; then
 
 
@@ -14896,7 +15319,8 @@ _ACEOF
                gl_cv_next_stdint_h='<'stdint.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_stdint_h" >&5
 printf "%s\n" "$gl_cv_next_stdint_h" >&6; }
@@ -14928,8 +15352,8 @@ printf %s "checking whether stdint.h con
 if test ${gl_cv_header_working_stdint_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gl_cv_header_working_stdint_h=no
+else case e in #(
+  e) gl_cv_header_working_stdint_h=no
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -15111,8 +15535,8 @@ then :
                  *)      gl_cv_header_working_stdint_h="guessing yes" ;;
                esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 
@@ -15190,13 +15614,15 @@ then :
   gl_cv_header_working_stdint_h=yes
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
 
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_working_stdint_h" >&5
 printf "%s\n" "$gl_cv_header_working_stdint_h" >&6; }
@@ -15214,8 +15640,8 @@ printf %s "checking whether stdint.h wor
 if test ${gl_cv_header_stdint_without_STDC_macros+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gl_cv_header_stdint_without_STDC_macros=no
+else case e in #(
+  e) gl_cv_header_stdint_without_STDC_macros=no
          cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -15247,7 +15673,8 @@ then :
   gl_cv_header_stdint_without_STDC_macros=yes
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+         ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_stdint_without_STDC_macros" >&5
 printf "%s\n" "$gl_cv_header_stdint_without_STDC_macros" >&6; }
@@ -15265,8 +15692,8 @@ printf %s "checking whether stdint.h has
 if test ${gl_cv_header_stdint_width+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gl_cv_header_stdint_width=no
+else case e in #(
+  e) gl_cv_header_stdint_width=no
          cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -15297,7 +15724,8 @@ if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_header_stdint_width=yes
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_stdint_width" >&5
 printf "%s\n" "$gl_cv_header_stdint_width" >&6; }
@@ -15336,8 +15764,8 @@ printf %s "checking for bit size of $glt
 if eval test \${gl_cv_bitsizeof_${gltype}+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if ac_fn_c_compute_int "$LINENO" "sizeof ($gltype) * CHAR_BIT" "result"        "
+else case e in #(
+  e) if ac_fn_c_compute_int "$LINENO" "sizeof ($gltype) * CHAR_BIT" "result"        "
   #include <stddef.h>
   #include <signal.h>
   #if HAVE_WCHAR_H
@@ -15347,12 +15775,14 @@ else $as_nop
 #include <limits.h>"
 then :
 
-else $as_nop
-  result=unknown
+else case e in #(
+  e) result=unknown ;;
+esac
 fi
 
        eval gl_cv_bitsizeof_${gltype}=\$result
-
+       ;;
+esac
 fi
 eval ac_res=\$gl_cv_bitsizeof_${gltype}
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -15377,8 +15807,8 @@ printf %s "checking for bit size of $glt
 if eval test \${gl_cv_bitsizeof_${gltype}+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if ac_fn_c_compute_int "$LINENO" "sizeof ($gltype) * CHAR_BIT" "result"        "
+else case e in #(
+  e) if ac_fn_c_compute_int "$LINENO" "sizeof ($gltype) * CHAR_BIT" "result"        "
   #include <stddef.h>
   #include <signal.h>
   #if HAVE_WCHAR_H
@@ -15388,12 +15818,14 @@ else $as_nop
 #include <limits.h>"
 then :
 
-else $as_nop
-  result=unknown
+else case e in #(
+  e) result=unknown ;;
+esac
 fi
 
        eval gl_cv_bitsizeof_${gltype}=\$result
-
+       ;;
+esac
 fi
 eval ac_res=\$gl_cv_bitsizeof_${gltype}
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -15417,8 +15849,8 @@ printf %s "checking whether $gltype is s
 if eval test \${gl_cv_type_${gltype}_signed+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
   #include <stddef.h>
@@ -15439,12 +15871,14 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   result=yes
-else $as_nop
-  result=no
+else case e in #(
+  e) result=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
        eval gl_cv_type_${gltype}_signed=\$result
-
+       ;;
+esac
 fi
 eval ac_res=\$gl_cv_type_${gltype}_signed
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -15472,8 +15906,8 @@ printf %s "checking for $gltype integer
 if eval test \${gl_cv_type_${gltype}_suffix+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  eval gl_cv_type_${gltype}_suffix=no
+else case e in #(
+  e) eval gl_cv_type_${gltype}_suffix=no
        eval result=\$gl_cv_type_${gltype}_signed
        if test "$result" = yes; then
          glsufu=
@@ -15517,7 +15951,8 @@ fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
          eval result=\$gl_cv_type_${gltype}_suffix
          test "$result" != no && break
-       done
+       done ;;
+esac
 fi
 eval ac_res=\$gl_cv_type_${gltype}_suffix
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -15540,8 +15975,8 @@ printf %s "checking for $gltype integer
 if eval test \${gl_cv_type_${gltype}_suffix+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  eval gl_cv_type_${gltype}_suffix=no
+else case e in #(
+  e) eval gl_cv_type_${gltype}_suffix=no
        eval result=\$gl_cv_type_${gltype}_signed
        if test "$result" = yes; then
          glsufu=
@@ -15585,7 +16020,8 @@ fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
          eval result=\$gl_cv_type_${gltype}_suffix
          test "$result" != no && break
-       done
+       done ;;
+esac
 fi
 eval ac_res=\$gl_cv_type_${gltype}_suffix
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -15656,8 +16092,8 @@ printf %s "checking absolute name of <in
 if test ${gl_cv_next_inttypes_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_inttypes_h = yes; then
 
 
@@ -15699,7 +16135,8 @@ _ACEOF
                gl_cv_next_inttypes_h='<'inttypes.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_inttypes_h" >&5
 printf "%s\n" "$gl_cv_next_inttypes_h" >&6; }
@@ -15751,8 +16188,9 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   PRIPTR_PREFIX='"l"'
-else $as_nop
-  PRIPTR_PREFIX='"ll"'
+else case e in #(
+  e) PRIPTR_PREFIX='"ll"' ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
   else
@@ -15792,8 +16230,8 @@ printf %s "checking whether INT32_MAX <
 if test ${gl_cv_test_INT32_MAX_LT_INTMAX_MAX+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 /* Work also in C++ mode.  */
             #define __STDC_LIMIT_MACROS 1
@@ -15823,10 +16261,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_test_INT32_MAX_LT_INTMAX_MAX=yes
-else $as_nop
-  gl_cv_test_INT32_MAX_LT_INTMAX_MAX=no
+else case e in #(
+  e) gl_cv_test_INT32_MAX_LT_INTMAX_MAX=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_test_INT32_MAX_LT_INTMAX_MAX" >&5
 printf "%s\n" "$gl_cv_test_INT32_MAX_LT_INTMAX_MAX" >&6; }
@@ -15844,8 +16284,8 @@ printf %s "checking whether INT64_MAX ==
 if test ${gl_cv_test_INT64_MAX_EQ_LONG_MAX+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 /* Work also in C++ mode.  */
             #define __STDC_LIMIT_MACROS 1
@@ -15875,10 +16315,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_test_INT64_MAX_EQ_LONG_MAX=yes
-else $as_nop
-  gl_cv_test_INT64_MAX_EQ_LONG_MAX=no
+else case e in #(
+  e) gl_cv_test_INT64_MAX_EQ_LONG_MAX=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_test_INT64_MAX_EQ_LONG_MAX" >&5
 printf "%s\n" "$gl_cv_test_INT64_MAX_EQ_LONG_MAX" >&6; }
@@ -15898,8 +16340,8 @@ printf %s "checking whether UINT32_MAX <
 if test ${gl_cv_test_UINT32_MAX_LT_UINTMAX_MAX+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 /* Work also in C++ mode.  */
             #define __STDC_LIMIT_MACROS 1
@@ -15929,10 +16371,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_test_UINT32_MAX_LT_UINTMAX_MAX=yes
-else $as_nop
-  gl_cv_test_UINT32_MAX_LT_UINTMAX_MAX=no
+else case e in #(
+  e) gl_cv_test_UINT32_MAX_LT_UINTMAX_MAX=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_test_UINT32_MAX_LT_UINTMAX_MAX" >&5
 printf "%s\n" "$gl_cv_test_UINT32_MAX_LT_UINTMAX_MAX" >&6; }
@@ -15950,8 +16394,8 @@ printf %s "checking whether UINT64_MAX =
 if test ${gl_cv_test_UINT64_MAX_EQ_ULONG_MAX+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 /* Work also in C++ mode.  */
             #define __STDC_LIMIT_MACROS 1
@@ -15981,10 +16425,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_test_UINT64_MAX_EQ_ULONG_MAX=yes
-else $as_nop
-  gl_cv_test_UINT64_MAX_EQ_ULONG_MAX=no
+else case e in #(
+  e) gl_cv_test_UINT64_MAX_EQ_ULONG_MAX=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_test_UINT64_MAX_EQ_ULONG_MAX" >&5
 printf "%s\n" "$gl_cv_test_UINT64_MAX_EQ_ULONG_MAX" >&6; }
@@ -16045,8 +16491,8 @@ printf %s "checking absolute name of <la
 if test ${gl_cv_next_langinfo_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_langinfo_h = yes; then
 
 
@@ -16088,7 +16534,8 @@ _ACEOF
                gl_cv_next_langinfo_h='<'langinfo.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_langinfo_h" >&5
 printf "%s\n" "$gl_cv_next_langinfo_h" >&6; }
@@ -16121,8 +16568,8 @@ printf %s "checking whether langinfo.h d
 if test ${gl_cv_header_langinfo_codeset+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <langinfo.h>
 int a = CODESET;
@@ -16138,11 +16585,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_header_langinfo_codeset=yes
-else $as_nop
-  gl_cv_header_langinfo_codeset=no
+else case e in #(
+  e) gl_cv_header_langinfo_codeset=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_langinfo_codeset" >&5
 printf "%s\n" "$gl_cv_header_langinfo_codeset" >&6; }
@@ -16154,8 +16603,8 @@ printf %s "checking whether langinfo.h d
 if test ${gl_cv_header_langinfo_t_fmt_ampm+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <langinfo.h>
 int a = T_FMT_AMPM;
@@ -16171,11 +16620,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_header_langinfo_t_fmt_ampm=yes
-else $as_nop
-  gl_cv_header_langinfo_t_fmt_ampm=no
+else case e in #(
+  e) gl_cv_header_langinfo_t_fmt_ampm=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_langinfo_t_fmt_ampm" >&5
 printf "%s\n" "$gl_cv_header_langinfo_t_fmt_ampm" >&6; }
@@ -16187,8 +16638,8 @@ printf %s "checking whether langinfo.h d
 if test ${gl_cv_header_langinfo_altmon+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <langinfo.h>
 int a = ALTMON_1;
@@ -16204,11 +16655,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_header_langinfo_altmon=yes
-else $as_nop
-  gl_cv_header_langinfo_altmon=no
+else case e in #(
+  e) gl_cv_header_langinfo_altmon=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_langinfo_altmon" >&5
 printf "%s\n" "$gl_cv_header_langinfo_altmon" >&6; }
@@ -16220,8 +16673,8 @@ printf %s "checking whether langinfo.h d
 if test ${gl_cv_header_langinfo_era+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <langinfo.h>
 int a = ERA;
@@ -16237,11 +16690,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_header_langinfo_era=yes
-else $as_nop
-  gl_cv_header_langinfo_era=no
+else case e in #(
+  e) gl_cv_header_langinfo_era=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_langinfo_era" >&5
 printf "%s\n" "$gl_cv_header_langinfo_era" >&6; }
@@ -16253,8 +16708,8 @@ printf %s "checking whether langinfo.h d
 if test ${gl_cv_header_langinfo_yesexpr+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <langinfo.h>
 int a = YESEXPR;
@@ -16270,11 +16725,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_header_langinfo_yesexpr=yes
-else $as_nop
-  gl_cv_header_langinfo_yesexpr=no
+else case e in #(
+  e) gl_cv_header_langinfo_yesexpr=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_langinfo_yesexpr" >&5
 printf "%s\n" "$gl_cv_header_langinfo_yesexpr" >&6; }
@@ -16324,8 +16781,8 @@ printf %s "checking for wchar_t... " >&6
 if test ${gt_cv_c_wchar_t+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <stddef.h>
             wchar_t foo = (wchar_t)'\0';
@@ -16340,10 +16797,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gt_cv_c_wchar_t=yes
-else $as_nop
-  gt_cv_c_wchar_t=no
+else case e in #(
+  e) gt_cv_c_wchar_t=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_c_wchar_t" >&5
 printf "%s\n" "$gt_cv_c_wchar_t" >&6; }
@@ -16366,8 +16825,8 @@ printf %s "checking for good max_align_t
 if test ${gl_cv_type_max_align_t+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 /* On FreeBSD 12.0/x86, max_align_t defined by <stddef.h> has
                the correct alignment with the default (wrong) definition of
@@ -16401,11 +16860,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_type_max_align_t=yes
-else $as_nop
-  gl_cv_type_max_align_t=no
+else case e in #(
+  e) gl_cv_type_max_align_t=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_type_max_align_t" >&5
 printf "%s\n" "$gl_cv_type_max_align_t" >&6; }
@@ -16424,8 +16885,8 @@ printf %s "checking whether NULL can be
 if test ${gl_cv_decl_null_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <stddef.h>
       int test[2 * (sizeof NULL == sizeof (void *)) -1];
@@ -16441,10 +16902,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_decl_null_works=yes
-else $as_nop
-  gl_cv_decl_null_works=no
+else case e in #(
+  e) gl_cv_decl_null_works=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_decl_null_works" >&5
 printf "%s\n" "$gl_cv_decl_null_works" >&6; }
@@ -16458,8 +16921,8 @@ printf %s "checking for unreachable... "
 if test ${gl_cv_func_unreachable+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <stddef.h>
 
@@ -16475,12 +16938,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_func_unreachable=yes
-else $as_nop
-  gl_cv_func_unreachable=no
+else case e in #(
+  e) gl_cv_func_unreachable=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_unreachable" >&5
 printf "%s\n" "$gl_cv_func_unreachable" >&6; }
@@ -16505,8 +16970,8 @@ printf %s "checking absolute name of <st
 if test ${gl_cv_next_stddef_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
 
 
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -16542,7 +17007,8 @@ _ACEOF
           gl_header=$gl_cv_absolute_stddef_h
           gl_cv_next_stddef_h='"'$gl_header'"'
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_stddef_h" >&5
 printf "%s\n" "$gl_cv_next_stddef_h" >&6; }
@@ -16572,8 +17038,8 @@ printf %s "checking whether locale.h def
 if test ${gl_cv_header_locale_has_locale_t+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <locale.h>
             locale_t x;
@@ -16588,11 +17054,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_header_locale_has_locale_t=yes
-else $as_nop
-  gl_cv_header_locale_has_locale_t=no
+else case e in #(
+  e) gl_cv_header_locale_has_locale_t=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_locale_has_locale_t" >&5
 printf "%s\n" "$gl_cv_header_locale_has_locale_t" >&6; }
@@ -16640,8 +17108,8 @@ printf %s "checking whether locale.h con
 if test ${gl_cv_header_locale_h_posix2001+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <locale.h>
             int x = LC_MESSAGES;
@@ -16657,10 +17125,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_header_locale_h_posix2001=yes
-else $as_nop
-  gl_cv_header_locale_h_posix2001=no
+else case e in #(
+  e) gl_cv_header_locale_h_posix2001=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_locale_h_posix2001" >&5
 printf "%s\n" "$gl_cv_header_locale_h_posix2001" >&6; }
@@ -16670,8 +17140,8 @@ printf %s "checking whether struct lconv
 if test ${gl_cv_sys_struct_lconv_ok+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <locale.h>
             struct lconv l;
@@ -16688,11 +17158,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_sys_struct_lconv_ok=yes
-else $as_nop
-  gl_cv_sys_struct_lconv_ok=no
+else case e in #(
+  e) gl_cv_sys_struct_lconv_ok=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_sys_struct_lconv_ok" >&5
 printf "%s\n" "$gl_cv_sys_struct_lconv_ok" >&6; }
@@ -16708,11 +17180,12 @@ printf "%s\n" "$gl_cv_sys_struct_lconv_o
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "Special" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "Special" >/dev/null 2>&1
 then :
 
-else $as_nop
-  REPLACE_STRUCT_LCONV=1
+else case e in #(
+  e) REPLACE_STRUCT_LCONV=1 ;;
+esac
 fi
 rm -rf conftest*
 
@@ -16737,8 +17210,8 @@ printf %s "checking absolute name of <lo
 if test ${gl_cv_next_locale_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
 
 
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -16774,7 +17247,8 @@ _ACEOF
           gl_header=$gl_cv_absolute_locale_h
           gl_cv_next_locale_h='"'$gl_header'"'
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_locale_h" >&5
 printf "%s\n" "$gl_cv_next_locale_h" >&6; }
@@ -16835,8 +17309,8 @@ printf %s "checking whether imported sym
 if test ${gl_cv_have_weak+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case "$host_os" in
+else case e in #(
+  e) case "$host_os" in
        cygwin*)
                                     gl_cv_have_weak="guessing no"
          ;;
@@ -16871,17 +17345,18 @@ then :
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "Extensible Linking Format" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "Extensible Linking Format" >/dev/null 2>&1
 then :
   gl_cv_have_weak="guessing yes"
-else $as_nop
-  gl_cv_have_weak="guessing no"
+else case e in #(
+  e) gl_cv_have_weak="guessing no" ;;
+esac
 fi
 rm -rf conftest*
 
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <stdio.h>
@@ -16894,11 +17369,13 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_have_weak=yes
-else $as_nop
-  gl_cv_have_weak=no
+else case e in #(
+  e) gl_cv_have_weak=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
          fi
@@ -16928,7 +17405,8 @@ EOF
          esac
          ;;
      esac
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_have_weak" >&5
 printf "%s\n" "$gl_cv_have_weak" >&6; }
@@ -16963,8 +17441,9 @@ printf "%s\n" "#define HAVE_WEAK_SYMBOLS
 if test "x$ac_cv_header_pthread_h" = xyes
 then :
   gl_have_pthread_h=yes
-else $as_nop
-  gl_have_pthread_h=no
+else case e in #(
+  e) gl_have_pthread_h=no ;;
+esac
 fi
 
     if test "$gl_have_pthread_h" = yes; then
@@ -17007,8 +17486,8 @@ rm -f core conftest.err conftest.$ac_obj
         LIBS=$save_LIBS
         test $gl_pthread_api = yes && break
       done
-      echo "$as_me:17010: gl_pthread_api=$gl_pthread_api" >&5
-      echo "$as_me:17011: LIBPTHREAD=$LIBPTHREAD" >&5
+      echo "$as_me:17489: gl_pthread_api=$gl_pthread_api" >&5
+      echo "$as_me:17490: LIBPTHREAD=$LIBPTHREAD" >&5
 
       gl_pthread_in_glibc=no
       # On Linux with glibc >= 2.34, libc contains the fully functional
@@ -17026,7 +17505,7 @@ rm -f core conftest.err conftest.$ac_obj
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "Lucky user" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "Lucky user" >/dev/null 2>&1
 then :
   gl_pthread_in_glibc=yes
 fi
@@ -17034,7 +17513,7 @@ rm -rf conftest*
 
           ;;
       esac
-      echo "$as_me:17037: gl_pthread_in_glibc=$gl_pthread_in_glibc" >&5
+      echo "$as_me:17516: gl_pthread_in_glibc=$gl_pthread_in_glibc" >&5
 
       # Test for libpthread by looking for pthread_kill. (Not pthread_self,
       # since it is defined as a macro on OSF/1.)
@@ -17046,16 +17525,22 @@ printf %s "checking for pthread_kill in
 if test ${ac_cv_lib_pthread_pthread_kill+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lpthread  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char pthread_kill ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char pthread_kill (void);
 int
 main (void)
 {
@@ -17067,12 +17552,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_pthread_pthread_kill=yes
-else $as_nop
-  ac_cv_lib_pthread_pthread_kill=no
+else case e in #(
+  e) ac_cv_lib_pthread_pthread_kill=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_pthread_pthread_kill" >&5
 printf "%s\n" "$ac_cv_lib_pthread_pthread_kill" >&6; }
@@ -17105,16 +17592,22 @@ printf %s "checking for pthread_kill in
 if test ${ac_cv_lib_pthread_pthread_kill+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lpthread  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char pthread_kill ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char pthread_kill (void);
 int
 main (void)
 {
@@ -17126,12 +17619,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_pthread_pthread_kill=yes
-else $as_nop
-  ac_cv_lib_pthread_pthread_kill=no
+else case e in #(
+  e) ac_cv_lib_pthread_pthread_kill=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_pthread_pthread_kill" >&5
 printf "%s\n" "$ac_cv_lib_pthread_pthread_kill" >&6; }
@@ -17149,16 +17644,22 @@ printf %s "checking for pthread_kill in
 if test ${ac_cv_lib_c_r_pthread_kill+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lc_r  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char pthread_kill ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char pthread_kill (void);
 int
 main (void)
 {
@@ -17170,12 +17671,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_c_r_pthread_kill=yes
-else $as_nop
-  ac_cv_lib_c_r_pthread_kill=no
+else case e in #(
+  e) ac_cv_lib_c_r_pthread_kill=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_c_r_pthread_kill" >&5
 printf "%s\n" "$ac_cv_lib_c_r_pthread_kill" >&6; }
@@ -17188,7 +17691,7 @@ fi
 
         fi
       fi
-      echo "$as_me:17191: LIBPMULTITHREAD=$LIBPMULTITHREAD" >&5
+      echo "$as_me:17694: LIBPMULTITHREAD=$LIBPMULTITHREAD" >&5
     fi
     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether POSIX threads API is available" >&5
 printf %s "checking whether POSIX threads API is available... " >&6; }
@@ -17217,22 +17720,28 @@ if ac_fn_c_try_link "$LINENO"
 then :
   SCHED_YIELD_LIB=
 
-else $as_nop
-         { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for sched_yield in -lrt" >&5
+else case e in #(
+  e)        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for sched_yield in -lrt" >&5
 printf %s "checking for sched_yield in -lrt... " >&6; }
 if test ${ac_cv_lib_rt_sched_yield+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lrt  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char sched_yield ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char sched_yield (void);
 int
 main (void)
 {
@@ -17244,34 +17753,42 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_rt_sched_yield=yes
-else $as_nop
-  ac_cv_lib_rt_sched_yield=no
+else case e in #(
+  e) ac_cv_lib_rt_sched_yield=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_rt_sched_yield" >&5
 printf "%s\n" "$ac_cv_lib_rt_sched_yield" >&6; }
 if test "x$ac_cv_lib_rt_sched_yield" = xyes
 then :
   SCHED_YIELD_LIB=-lrt
-else $as_nop
-            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for sched_yield in -lposix4" >&5
+else case e in #(
+  e)           { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for sched_yield in -lposix4" >&5
 printf %s "checking for sched_yield in -lposix4... " >&6; }
 if test ${ac_cv_lib_posix4_sched_yield+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lposix4  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char sched_yield ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char sched_yield (void);
 int
 main (void)
 {
@@ -17283,12 +17800,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_posix4_sched_yield=yes
-else $as_nop
-  ac_cv_lib_posix4_sched_yield=no
+else case e in #(
+  e) ac_cv_lib_posix4_sched_yield=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_posix4_sched_yield" >&5
 printf "%s\n" "$ac_cv_lib_posix4_sched_yield" >&6; }
@@ -17296,10 +17815,12 @@ if test "x$ac_cv_lib_posix4_sched_yield"
 then :
   SCHED_YIELD_LIB=-lposix4
 fi
-
+ ;;
+esac
 fi
 
-
+       ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
@@ -17374,8 +17895,9 @@ printf "%s\n" "#define PTHREAD_IN_USE_DE
 if test "x$ac_cv_header_pthread_h" = xyes
 then :
   gl_have_pthread_h=yes
-else $as_nop
-  gl_have_pthread_h=no
+else case e in #(
+  e) gl_have_pthread_h=no ;;
+esac
 fi
 
     if test "$gl_have_pthread_h" = yes; then
@@ -17418,8 +17940,8 @@ rm -f core conftest.err conftest.$ac_obj
         LIBS=$save_LIBS
         test $gl_pthread_api = yes && break
       done
-      echo "$as_me:17421: gl_pthread_api=$gl_pthread_api" >&5
-      echo "$as_me:17422: LIBPTHREAD=$LIBPTHREAD" >&5
+      echo "$as_me:17943: gl_pthread_api=$gl_pthread_api" >&5
+      echo "$as_me:17944: LIBPTHREAD=$LIBPTHREAD" >&5
 
       gl_pthread_in_glibc=no
       # On Linux with glibc >= 2.34, libc contains the fully functional
@@ -17437,7 +17959,7 @@ rm -f core conftest.err conftest.$ac_obj
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "Lucky user" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "Lucky user" >/dev/null 2>&1
 then :
   gl_pthread_in_glibc=yes
 fi
@@ -17445,7 +17967,7 @@ rm -rf conftest*
 
           ;;
       esac
-      echo "$as_me:17448: gl_pthread_in_glibc=$gl_pthread_in_glibc" >&5
+      echo "$as_me:17970: gl_pthread_in_glibc=$gl_pthread_in_glibc" >&5
 
       # Test for libpthread by looking for pthread_kill. (Not pthread_self,
       # since it is defined as a macro on OSF/1.)
@@ -17457,16 +17979,22 @@ printf %s "checking for pthread_kill in
 if test ${ac_cv_lib_pthread_pthread_kill+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lpthread  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char pthread_kill ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char pthread_kill (void);
 int
 main (void)
 {
@@ -17478,12 +18006,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_pthread_pthread_kill=yes
-else $as_nop
-  ac_cv_lib_pthread_pthread_kill=no
+else case e in #(
+  e) ac_cv_lib_pthread_pthread_kill=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_pthread_pthread_kill" >&5
 printf "%s\n" "$ac_cv_lib_pthread_pthread_kill" >&6; }
@@ -17516,16 +18046,22 @@ printf %s "checking for pthread_kill in
 if test ${ac_cv_lib_pthread_pthread_kill+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lpthread  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char pthread_kill ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char pthread_kill (void);
 int
 main (void)
 {
@@ -17537,12 +18073,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_pthread_pthread_kill=yes
-else $as_nop
-  ac_cv_lib_pthread_pthread_kill=no
+else case e in #(
+  e) ac_cv_lib_pthread_pthread_kill=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_pthread_pthread_kill" >&5
 printf "%s\n" "$ac_cv_lib_pthread_pthread_kill" >&6; }
@@ -17560,16 +18098,22 @@ printf %s "checking for pthread_kill in
 if test ${ac_cv_lib_c_r_pthread_kill+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lc_r  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char pthread_kill ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char pthread_kill (void);
 int
 main (void)
 {
@@ -17581,12 +18125,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_c_r_pthread_kill=yes
-else $as_nop
-  ac_cv_lib_c_r_pthread_kill=no
+else case e in #(
+  e) ac_cv_lib_c_r_pthread_kill=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_c_r_pthread_kill" >&5
 printf "%s\n" "$ac_cv_lib_c_r_pthread_kill" >&6; }
@@ -17599,7 +18145,7 @@ fi
 
         fi
       fi
-      echo "$as_me:17602: LIBPMULTITHREAD=$LIBPMULTITHREAD" >&5
+      echo "$as_me:18148: LIBPMULTITHREAD=$LIBPMULTITHREAD" >&5
     fi
     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether POSIX threads API is available" >&5
 printf %s "checking whether POSIX threads API is available... " >&6; }
@@ -17628,22 +18174,28 @@ if ac_fn_c_try_link "$LINENO"
 then :
   SCHED_YIELD_LIB=
 
-else $as_nop
-         { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for sched_yield in -lrt" >&5
+else case e in #(
+  e)        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for sched_yield in -lrt" >&5
 printf %s "checking for sched_yield in -lrt... " >&6; }
 if test ${ac_cv_lib_rt_sched_yield+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lrt  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char sched_yield ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char sched_yield (void);
 int
 main (void)
 {
@@ -17655,34 +18207,42 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_rt_sched_yield=yes
-else $as_nop
-  ac_cv_lib_rt_sched_yield=no
+else case e in #(
+  e) ac_cv_lib_rt_sched_yield=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_rt_sched_yield" >&5
 printf "%s\n" "$ac_cv_lib_rt_sched_yield" >&6; }
 if test "x$ac_cv_lib_rt_sched_yield" = xyes
 then :
   SCHED_YIELD_LIB=-lrt
-else $as_nop
-            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for sched_yield in -lposix4" >&5
+else case e in #(
+  e)           { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for sched_yield in -lposix4" >&5
 printf %s "checking for sched_yield in -lposix4... " >&6; }
 if test ${ac_cv_lib_posix4_sched_yield+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lposix4  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char sched_yield ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char sched_yield (void);
 int
 main (void)
 {
@@ -17694,12 +18254,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_posix4_sched_yield=yes
-else $as_nop
-  ac_cv_lib_posix4_sched_yield=no
+else case e in #(
+  e) ac_cv_lib_posix4_sched_yield=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_posix4_sched_yield" >&5
 printf "%s\n" "$ac_cv_lib_posix4_sched_yield" >&6; }
@@ -17707,10 +18269,12 @@ if test "x$ac_cv_lib_posix4_sched_yield"
 then :
   SCHED_YIELD_LIB=-lposix4
 fi
-
+ ;;
+esac
 fi
 
-
+       ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
@@ -17729,8 +18293,8 @@ printf %s "checking for thrd_create... "
 if test ${gl_cv_onwards_func_thrd_create+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -17774,7 +18338,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_thrd_create" >&5
 printf "%s\n" "$gl_cv_onwards_func_thrd_create" >&6; }
@@ -17798,16 +18363,22 @@ printf %s "checking for thrd_create in -
 if test ${ac_cv_lib_stdthreads_thrd_create+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lstdthreads  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char thrd_create ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char thrd_create (void);
 int
 main (void)
 {
@@ -17819,12 +18390,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_stdthreads_thrd_create=yes
-else $as_nop
-  ac_cv_lib_stdthreads_thrd_create=no
+else case e in #(
+  e) ac_cv_lib_stdthreads_thrd_create=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_stdthreads_thrd_create" >&5
 printf "%s\n" "$ac_cv_lib_stdthreads_thrd_create" >&6; }
@@ -17833,10 +18406,11 @@ then :
 
               LIBSTDTHREAD='-lstdthreads -lpthread'
 
-else $as_nop
-
+else case e in #(
+  e)
                             LIBSTDTHREAD="$LIBPMULTITHREAD"
-
+             ;;
+esac
 fi
 
           fi
@@ -17923,8 +18497,8 @@ printf %s "checking absolute name of <sy
 if test ${gl_cv_next_sys_types_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
 
 
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -17960,7 +18534,8 @@ _ACEOF
           gl_header=$gl_cv_absolute_sys_types_h
           gl_cv_next_sys_types_h='"'$gl_header'"'
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_sys_types_h" >&5
 printf "%s\n" "$gl_cv_next_sys_types_h" >&6; }
@@ -17996,8 +18571,8 @@ printf %s "checking for a sed that does
 if test ${ac_cv_path_SED+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-            ac_script=s/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb/
+else case e in #(
+  e)           ac_script=s/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb/
      for ac_i in 1 2 3 4 5 6 7; do
        ac_script="$ac_script$as_nl$ac_script"
      done
@@ -18022,9 +18597,10 @@ do
       as_fn_executable_p "$ac_path_SED" || continue
 # Check for GNU ac_path_SED and select it if it is found.
   # Check for GNU $ac_path_SED
-case `"$ac_path_SED" --version 2>&1` in
+case `"$ac_path_SED" --version 2>&1` in #(
 *GNU*)
   ac_cv_path_SED="$ac_path_SED" ac_path_SED_found=:;;
+#(
 *)
   ac_count=0
   printf %s 0123456789 >"conftest.in"
@@ -18059,13 +18635,85 @@ IFS=$as_save_IFS
 else
   ac_cv_path_SED=$SED
 fi
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_SED" >&5
 printf "%s\n" "$ac_cv_path_SED" >&6; }
  SED="$ac_cv_path_SED"
   rm -f conftest.sed
 
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e" >&5
+printf %s "checking for grep that handles long lines and -e... " >&6; }
+if test ${ac_cv_path_GREP+y}
+then :
+  printf %s "(cached) " >&6
+else case e in #(
+  e) if test -z "$GREP"; then
+  ac_path_GREP_found=false
+  # Loop through the user's path and test for each of PROGNAME-LIST
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_prog in grep ggrep
+   do
+    for ac_exec_ext in '' $ac_executable_extensions; do
+      ac_path_GREP="$as_dir$ac_prog$ac_exec_ext"
+      as_fn_executable_p "$ac_path_GREP" || continue
+# Check for GNU ac_path_GREP and select it if it is found.
+  # Check for GNU $ac_path_GREP
+case `"$ac_path_GREP" --version 2>&1` in #(
+*GNU*)
+  ac_cv_path_GREP="$ac_path_GREP" ac_path_GREP_found=:;;
+#(
+*)
+  ac_count=0
+  printf %s 0123456789 >"conftest.in"
+  while :
+  do
+    cat "conftest.in" "conftest.in" >"conftest.tmp"
+    mv "conftest.tmp" "conftest.in"
+    cp "conftest.in" "conftest.nl"
+    printf "%s\n" 'GREP' >> "conftest.nl"
+    "$ac_path_GREP" -e 'GREP$' -e '-(cannot match)-' < "conftest.nl" >"conftest.out" 2>/dev/null || break
+    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
+    as_fn_arith $ac_count + 1 && ac_count=$as_val
+    if test $ac_count -gt ${ac_path_GREP_max-0}; then
+      # Best one so far, save it but keep looking for a better one
+      ac_cv_path_GREP="$ac_path_GREP"
+      ac_path_GREP_max=$ac_count
+    fi
+    # 10*(2^10) chars as input seems more than enough
+    test $ac_count -gt 10 && break
+  done
+  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
+esac
+
+      $ac_path_GREP_found && break 3
+    done
+  done
+  done
+IFS=$as_save_IFS
+  if test -z "$ac_cv_path_GREP"; then
+    as_fn_error $? "no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
+  fi
+else
+  ac_cv_path_GREP=$GREP
+fi
+ ;;
+esac
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_GREP" >&5
+printf "%s\n" "$ac_cv_path_GREP" >&6; }
+ GREP="$ac_cv_path_GREP"
+
+
 
 
     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether malloc (0) returns nonnull" >&5
@@ -18073,8 +18721,8 @@ printf %s "checking whether malloc (0) r
 if test ${ac_cv_func_malloc_0_nonnull+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
           # Guess yes on platforms where we know the result.
@@ -18086,8 +18734,8 @@ then :
           *) ac_cv_func_malloc_0_nonnull="$gl_cross_guess_normal" ;;
         esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <stdlib.h>
 
@@ -18106,14 +18754,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   ac_cv_func_malloc_0_nonnull=yes
-else $as_nop
-  ac_cv_func_malloc_0_nonnull=no
+else case e in #(
+  e) ac_cv_func_malloc_0_nonnull=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_malloc_0_nonnull" >&5
 printf "%s\n" "$ac_cv_func_malloc_0_nonnull" >&6; }
@@ -18135,8 +18786,8 @@ printf %s "checking for mbstate_t... " >
 if test ${ac_cv_type_mbstate_t+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $ac_includes_default
              #include <wchar.h>
@@ -18151,10 +18802,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_type_mbstate_t=yes
-else $as_nop
-  ac_cv_type_mbstate_t=no
+else case e in #(
+  e) ac_cv_type_mbstate_t=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_type_mbstate_t" >&5
 printf "%s\n" "$ac_cv_type_mbstate_t" >&6; }
@@ -18178,8 +18831,8 @@ printf %s "checking for a traditional ja
 if test ${gt_cv_locale_ja+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -18312,7 +18965,8 @@ _ACEOF
       esac
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_ja" >&5
 printf "%s\n" "$gt_cv_locale_ja" >&6; }
@@ -18326,8 +18980,8 @@ printf %s "checking for a french Unicode
 if test ${gt_cv_locale_fr_utf8+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -18441,7 +19095,8 @@ _ACEOF
       esac
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_fr_utf8" >&5
 printf "%s\n" "$gt_cv_locale_fr_utf8" >&6; }
@@ -18456,8 +19111,8 @@ printf %s "checking for a transitional c
 if test ${gt_cv_locale_zh_CN+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -18584,7 +19239,8 @@ _ACEOF
       gt_cv_locale_zh_CN=none
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_zh_CN" >&5
 printf "%s\n" "$gt_cv_locale_zh_CN" >&6; }
@@ -18596,8 +19252,8 @@ printf %s "checking for inline... " >&6;
 if test ${ac_cv_c_inline+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_cv_c_inline=no
+else case e in #(
+  e) ac_cv_c_inline=no
 for ac_kw in inline __inline__ __inline; do
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -18615,7 +19271,8 @@ fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
   test "$ac_cv_c_inline" != no && break
 done
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_inline" >&5
 printf "%s\n" "$ac_cv_c_inline" >&6; }
@@ -18868,8 +19525,8 @@ printf %s "checking whether <limits.h> d
 if test ${gl_cv_minmax_in_limits_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <limits.h>
             int x = MIN (42, 17);
@@ -18884,10 +19541,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_minmax_in_limits_h=yes
-else $as_nop
-  gl_cv_minmax_in_limits_h=no
+else case e in #(
+  e) gl_cv_minmax_in_limits_h=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_minmax_in_limits_h" >&5
 printf "%s\n" "$gl_cv_minmax_in_limits_h" >&6; }
@@ -18907,8 +19566,8 @@ printf %s "checking whether <sys/param.h
 if test ${gl_cv_minmax_in_sys_param_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/param.h>
             int x = MIN (42, 17);
@@ -18923,10 +19582,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_minmax_in_sys_param_h=yes
-else $as_nop
-  gl_cv_minmax_in_sys_param_h=no
+else case e in #(
+  e) gl_cv_minmax_in_sys_param_h=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_minmax_in_sys_param_h" >&5
 printf "%s\n" "$gl_cv_minmax_in_sys_param_h" >&6; }
@@ -18949,8 +19610,8 @@ printf %s "checking for O_CLOEXEC... " >
 if test ${gl_cv_macro_O_CLOEXEC+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <fcntl.h>
                           #ifndef O_CLOEXEC
@@ -18968,10 +19629,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_macro_O_CLOEXEC=yes
-else $as_nop
-  gl_cv_macro_O_CLOEXEC=no
+else case e in #(
+  e) gl_cv_macro_O_CLOEXEC=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_macro_O_CLOEXEC" >&5
 printf "%s\n" "$gl_cv_macro_O_CLOEXEC" >&6; }
@@ -18983,8 +19646,8 @@ printf %s "checking for promoted mode_t
 if test ${gl_cv_promoted_mode_t+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/types.h>
@@ -18999,11 +19662,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_promoted_mode_t='int'
-else $as_nop
-  gl_cv_promoted_mode_t='mode_t'
+else case e in #(
+  e) gl_cv_promoted_mode_t='mode_t' ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_promoted_mode_t" >&5
 printf "%s\n" "$gl_cv_promoted_mode_t" >&6; }
@@ -19023,8 +19688,9 @@ ac_fn_check_decl "$LINENO" "alarm" "ac_c
 if test "x$ac_cv_have_decl_alarm" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_ALARM $ac_have_decl" >>confdefs.h
 
@@ -19037,8 +19703,8 @@ printf %s "checking for ssize_t... " >&6
 if test ${gt_cv_ssize_t+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/types.h>
 int
@@ -19053,10 +19719,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gt_cv_ssize_t=yes
-else $as_nop
-  gt_cv_ssize_t=no
+else case e in #(
+  e) gt_cv_ssize_t=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_ssize_t" >&5
 printf "%s\n" "$gt_cv_ssize_t" >&6; }
@@ -19130,8 +19798,9 @@ ac_fn_check_decl "$LINENO" "fcloseall" "
 if test "x$ac_cv_have_decl_fcloseall" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_FCLOSEALL $ac_have_decl" >>confdefs.h
 
@@ -19139,8 +19808,9 @@ ac_fn_check_decl "$LINENO" "getw" "ac_cv
 if test "x$ac_cv_have_decl_getw" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_GETW $ac_have_decl" >>confdefs.h
 
@@ -19148,8 +19818,9 @@ ac_fn_check_decl "$LINENO" "putw" "ac_cv
 if test "x$ac_cv_have_decl_putw" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_PUTW $ac_have_decl" >>confdefs.h
 
@@ -19174,8 +19845,8 @@ printf %s "checking absolute name of <st
 if test ${gl_cv_next_stdio_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
 
 
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -19211,7 +19882,8 @@ _ACEOF
           gl_header=$gl_cv_absolute_stdio_h
           gl_cv_next_stdio_h='"'$gl_header'"'
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_stdio_h" >&5
 printf "%s\n" "$gl_cv_next_stdio_h" >&6; }
@@ -19236,8 +19908,8 @@ printf %s "checking which flavor of prin
 if test ${gl_cv_func_printf_attribute_flavor+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
        #define __STDC_FORMAT_MACROS 1
@@ -19262,10 +19934,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_func_printf_attribute_flavor=system
-else $as_nop
-  gl_cv_func_printf_attribute_flavor=gnu
+else case e in #(
+  e) gl_cv_func_printf_attribute_flavor=gnu ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_printf_attribute_flavor" >&5
 printf "%s\n" "$gl_cv_func_printf_attribute_flavor" >&6; }
@@ -19547,8 +20221,9 @@ ac_fn_check_decl "$LINENO" "ecvt" "ac_cv
 if test "x$ac_cv_have_decl_ecvt" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_ECVT $ac_have_decl" >>confdefs.h
 
@@ -19556,8 +20231,9 @@ ac_fn_check_decl "$LINENO" "fcvt" "ac_cv
 if test "x$ac_cv_have_decl_fcvt" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_FCVT $ac_have_decl" >>confdefs.h
 
@@ -19565,8 +20241,9 @@ ac_fn_check_decl "$LINENO" "gcvt" "ac_cv
 if test "x$ac_cv_have_decl_gcvt" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_GCVT $ac_have_decl" >>confdefs.h
 
@@ -19588,8 +20265,8 @@ printf %s "checking absolute name of <st
 if test ${gl_cv_next_stdlib_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
 
 
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -19625,7 +20302,8 @@ _ACEOF
           gl_header=$gl_cv_absolute_stdlib_h
           gl_cv_next_stdlib_h='"'$gl_header'"'
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_stdlib_h" >&5
 printf "%s\n" "$gl_cv_next_stdlib_h" >&6; }
@@ -19668,8 +20346,9 @@ ac_fn_check_decl "$LINENO" "strdup" "ac_
 if test "x$ac_cv_have_decl_strdup" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_STRDUP $ac_have_decl" >>confdefs.h
 
@@ -19680,8 +20359,8 @@ printf %s "checking whether strerror(0)
 if test ${gl_cv_func_strerror_0_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
                              # Guess yes on glibc systems.
@@ -19694,8 +20373,8 @@ then :
          *)                  gl_cv_func_strerror_0_works="$gl_cross_guess_normal" ;;
        esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <string.h>
            #include <errno.h>
@@ -19719,14 +20398,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_strerror_0_works=yes
-else $as_nop
-  gl_cv_func_strerror_0_works=no
+else case e in #(
+  e) gl_cv_func_strerror_0_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_strerror_0_works" >&5
 printf "%s\n" "$gl_cv_func_strerror_0_works" >&6; }
@@ -19755,8 +20437,8 @@ printf %s "checking for strerror_r... "
 if test ${gl_cv_onwards_func_strerror_r+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -19800,7 +20482,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_strerror_r" >&5
 printf "%s\n" "$gl_cv_onwards_func_strerror_r" >&6; }
@@ -19823,8 +20506,8 @@ printf %s "checking for strerror_r with
 if test ${gl_cv_func_strerror_r_posix_signature+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <string.h>
                 int strerror_r (int, char *, size_t);
@@ -19840,11 +20523,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_func_strerror_r_posix_signature=yes
-else $as_nop
-  gl_cv_func_strerror_r_posix_signature=no
+else case e in #(
+  e) gl_cv_func_strerror_r_posix_signature=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+         ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_strerror_r_posix_signature" >&5
 printf "%s\n" "$gl_cv_func_strerror_r_posix_signature" >&6; }
@@ -19854,8 +20539,8 @@ printf %s "checking whether strerror_r w
 if test ${gl_cv_func_strerror_r_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
 
               case "$host_os" in
@@ -19869,8 +20554,8 @@ then :
                 *)     gl_cv_func_strerror_r_works="guessing yes";;
               esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <errno.h>
                   #include <string.h>
@@ -19909,14 +20594,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_strerror_r_works=yes
-else $as_nop
-  gl_cv_func_strerror_r_works=no
+else case e in #(
+  e) gl_cv_func_strerror_r_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+           ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_strerror_r_works" >&5
 printf "%s\n" "$gl_cv_func_strerror_r_works" >&6; }
@@ -19928,13 +20616,13 @@ printf %s "checking whether __xpg_strerr
 if test ${gl_cv_func_strerror_r_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
                                   gl_cv_func_strerror_r_works="$gl_cross_guess_normal"
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <errno.h>
                     #include <string.h>
@@ -19968,14 +20656,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_strerror_r_works=yes
-else $as_nop
-  gl_cv_func_strerror_r_works=no
+else case e in #(
+  e) gl_cv_func_strerror_r_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+             ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_strerror_r_works" >&5
 printf "%s\n" "$gl_cv_func_strerror_r_works" >&6; }
@@ -20006,8 +20697,8 @@ printf %s "checking absolute name of <st
 if test ${gl_cv_next_string_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
 
 
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -20043,7 +20734,8 @@ _ACEOF
           gl_header=$gl_cv_absolute_string_h
           gl_cv_next_string_h='"'$gl_header'"'
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_string_h" >&5
 printf "%s\n" "$gl_cv_next_string_h" >&6; }
@@ -20089,8 +20781,8 @@ printf %s "checking absolute name of <sy
 if test ${gl_cv_next_sys_random_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_sys_random_h = yes; then
 
 
@@ -20132,7 +20824,8 @@ _ACEOF
                gl_cv_next_sys_random_h='<'sys/random.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_sys_random_h" >&5
 printf "%s\n" "$gl_cv_next_sys_random_h" >&6; }
@@ -20198,8 +20891,8 @@ printf %s "checking for struct timespec
 if test ${gl_cv_sys_struct_timespec_in_time_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <time.h>
 
@@ -20214,10 +20907,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_sys_struct_timespec_in_time_h=yes
-else $as_nop
-  gl_cv_sys_struct_timespec_in_time_h=no
+else case e in #(
+  e) gl_cv_sys_struct_timespec_in_time_h=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_sys_struct_timespec_in_time_h" >&5
 printf "%s\n" "$gl_cv_sys_struct_timespec_in_time_h" >&6; }
@@ -20234,8 +20929,8 @@ printf %s "checking for struct timespec
 if test ${gl_cv_sys_struct_timespec_in_sys_time_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/time.h>
 
@@ -20250,10 +20945,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_sys_struct_timespec_in_sys_time_h=yes
-else $as_nop
-  gl_cv_sys_struct_timespec_in_sys_time_h=no
+else case e in #(
+  e) gl_cv_sys_struct_timespec_in_sys_time_h=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_sys_struct_timespec_in_sys_time_h" >&5
 printf "%s\n" "$gl_cv_sys_struct_timespec_in_sys_time_h" >&6; }
@@ -20265,8 +20962,8 @@ printf %s "checking for struct timespec
 if test ${gl_cv_sys_struct_timespec_in_pthread_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <pthread.h>
 
@@ -20281,10 +20978,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_sys_struct_timespec_in_pthread_h=yes
-else $as_nop
-  gl_cv_sys_struct_timespec_in_pthread_h=no
+else case e in #(
+  e) gl_cv_sys_struct_timespec_in_pthread_h=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_sys_struct_timespec_in_pthread_h" >&5
 printf "%s\n" "$gl_cv_sys_struct_timespec_in_pthread_h" >&6; }
@@ -20296,8 +20995,8 @@ printf %s "checking for struct timespec
 if test ${gl_cv_sys_struct_timespec_in_unistd_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <unistd.h>
 
@@ -20312,10 +21011,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_sys_struct_timespec_in_unistd_h=yes
-else $as_nop
-  gl_cv_sys_struct_timespec_in_unistd_h=no
+else case e in #(
+  e) gl_cv_sys_struct_timespec_in_unistd_h=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_sys_struct_timespec_in_unistd_h" >&5
 printf "%s\n" "$gl_cv_sys_struct_timespec_in_unistd_h" >&6; }
@@ -20349,8 +21050,8 @@ printf %s "checking absolute name of <ti
 if test ${gl_cv_next_time_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
 
 
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -20386,7 +21087,8 @@ _ACEOF
           gl_header=$gl_cv_absolute_time_h
           gl_cv_next_time_h='"'$gl_header'"'
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_time_h" >&5
 printf "%s\n" "$gl_cv_next_time_h" >&6; }
@@ -20418,8 +21120,8 @@ printf %s "checking for TIME_UTC in <tim
 if test ${gl_cv_time_h_has_TIME_UTC+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <time.h>
 
@@ -20434,10 +21136,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_time_h_has_TIME_UTC=yes
-else $as_nop
-  gl_cv_time_h_has_TIME_UTC=no
+else case e in #(
+  e) gl_cv_time_h_has_TIME_UTC=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_time_h_has_TIME_UTC" >&5
 printf "%s\n" "$gl_cv_time_h_has_TIME_UTC" >&6; }
@@ -20510,8 +21214,9 @@ ac_fn_check_decl "$LINENO" "execvpe" "ac
 if test "x$ac_cv_have_decl_execvpe" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_EXECVPE $ac_have_decl" >>confdefs.h
 
@@ -20535,8 +21240,8 @@ printf %s "checking absolute name of <un
 if test ${gl_cv_next_unistd_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_unistd_h = yes; then
 
 
@@ -20578,7 +21283,8 @@ _ACEOF
                gl_cv_next_unistd_h='<'unistd.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_unistd_h" >&5
 printf "%s\n" "$gl_cv_next_unistd_h" >&6; }
@@ -20660,8 +21366,8 @@ printf %s "checking absolute name of <wc
 if test ${gl_cv_next_wchar_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_wchar_h = yes; then
 
 
@@ -20703,7 +21409,8 @@ _ACEOF
                gl_cv_next_wchar_h='<'wchar.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_wchar_h" >&5
 printf "%s\n" "$gl_cv_next_wchar_h" >&6; }
@@ -20754,8 +21461,9 @@ printf "%s\n" "$gl_cv_next_wchar_h" >&6;
 if test "x$ac_cv_have_decl_wcsdup" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_WCSDUP $ac_have_decl" >>confdefs.h
 
@@ -20813,8 +21521,8 @@ printf %s "checking absolute name of <wc
 if test ${gl_cv_next_wctype_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_wctype_h = yes; then
 
 
@@ -20856,7 +21564,8 @@ _ACEOF
                gl_cv_next_wctype_h='<'wctype.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_wctype_h" >&5
 printf "%s\n" "$gl_cv_next_wctype_h" >&6; }
@@ -20882,8 +21591,8 @@ printf %s "checking whether iswcntrl wor
 if test ${gl_cv_func_iswcntrl_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
           if test "$cross_compiling" = yes
 then :
                cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -20903,13 +21612,14 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_func_iswcntrl_works="guessing yes"
-else $as_nop
-  gl_cv_func_iswcntrl_works="guessing no"
+else case e in #(
+  e) gl_cv_func_iswcntrl_works="guessing no" ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
                #include <wchar.h>
@@ -20920,14 +21630,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_iswcntrl_works=yes
-else $as_nop
-  gl_cv_func_iswcntrl_works=no
+else case e in #(
+  e) gl_cv_func_iswcntrl_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+         ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_iswcntrl_works" >&5
 printf "%s\n" "$gl_cv_func_iswcntrl_works" >&6; }
@@ -20974,8 +21687,9 @@ fi
 if test "x$ac_cv_have_decl_towlower" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_TOWLOWER $ac_have_decl" >>confdefs.h
 
@@ -20997,8 +21711,8 @@ printf %s "checking for wctype_t... " >&
 if test ${gl_cv_type_wctype_t+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <wchar.h>
             #if HAVE_WCTYPE_H
@@ -21017,11 +21731,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_type_wctype_t=yes
-else $as_nop
-  gl_cv_type_wctype_t=no
+else case e in #(
+  e) gl_cv_type_wctype_t=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_type_wctype_t" >&5
 printf "%s\n" "$gl_cv_type_wctype_t" >&6; }
@@ -21034,8 +21750,8 @@ printf %s "checking for wctrans_t... " >
 if test ${gl_cv_type_wctrans_t+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <wchar.h>
             #include <wctype.h>
@@ -21052,11 +21768,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_type_wctrans_t=yes
-else $as_nop
-  gl_cv_type_wctrans_t=no
+else case e in #(
+  e) gl_cv_type_wctrans_t=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_type_wctrans_t" >&5
 printf "%s\n" "$gl_cv_type_wctrans_t" >&6; }
@@ -21105,8 +21823,8 @@ printf %s "checking for C compiler optio
 if test ${gl_cv_cc_wallow+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  rm -f conftest*
+else case e in #(
+  e) rm -f conftest*
      echo 'int dummy;' > conftest.c
      { ac_try='${CC-cc} $CFLAGS $CPPFLAGS -c conftest.c 2>conftest1.err'
   { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ac_try\""; } >&5
@@ -21126,7 +21844,8 @@ else $as_nop
        gl_cv_cc_wallow=none
      fi
      rm -f conftest*
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_cc_wallow" >&5
 printf "%s\n" "$gl_cv_cc_wallow" >&6; }
@@ -21143,8 +21862,8 @@ printf %s "checking for C++ compiler opt
 if test ${gl_cv_cxx_wallow+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  rm -f conftest*
+else case e in #(
+  e) rm -f conftest*
        echo 'int dummy;' > conftest.cc
        { ac_try='${CXX-c++} $CXXFLAGS $CPPFLAGS -c conftest.cc 2>conftest1.err'
   { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ac_try\""; } >&5
@@ -21164,7 +21883,8 @@ else $as_nop
          gl_cv_cxx_wallow=none
        fi
        rm -f conftest*
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_cxx_wallow" >&5
 printf "%s\n" "$gl_cv_cxx_wallow" >&6; }
@@ -21213,8 +21933,8 @@ printf %s "checking whether <sys/socket.
 if test ${gl_cv_header_sys_socket_h_selfcontained+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/socket.h>
@@ -21229,11 +21949,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_header_sys_socket_h_selfcontained=yes
-else $as_nop
-  gl_cv_header_sys_socket_h_selfcontained=no
+else case e in #(
+  e) gl_cv_header_sys_socket_h_selfcontained=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_sys_socket_h_selfcontained" >&5
 printf "%s\n" "$gl_cv_header_sys_socket_h_selfcontained" >&6; }
@@ -21251,8 +21973,8 @@ printf %s "checking whether <sys/socket.
 if test ${gl_cv_header_sys_socket_h_shut+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
           cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/socket.h>
@@ -21267,11 +21989,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_header_sys_socket_h_shut=yes
-else $as_nop
-  gl_cv_header_sys_socket_h_shut=no
+else case e in #(
+  e) gl_cv_header_sys_socket_h_shut=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+         ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_sys_socket_h_shut" >&5
 printf "%s\n" "$gl_cv_header_sys_socket_h_shut" >&6; }
@@ -21300,8 +22024,8 @@ printf %s "checking absolute name of <sy
 if test ${gl_cv_next_sys_socket_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_sys_socket_h = yes; then
 
 
@@ -21343,7 +22067,8 @@ _ACEOF
                gl_cv_next_sys_socket_h='<'sys/socket.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_sys_socket_h" >&5
 printf "%s\n" "$gl_cv_next_sys_socket_h" >&6; }
@@ -21445,8 +22170,9 @@ then :
 printf "%s\n" "#define HAVE_STRUCT_SOCKADDR_STORAGE_SS_FAMILY 1" >>confdefs.h
 
 
-else $as_nop
-  HAVE_STRUCT_SOCKADDR_STORAGE_SS_FAMILY=0
+else case e in #(
+  e) HAVE_STRUCT_SOCKADDR_STORAGE_SS_FAMILY=0 ;;
+esac
 fi
 
   fi
@@ -21579,8 +22305,8 @@ printf %s "checking absolute name of <ar
 if test ${gl_cv_next_arpa_inet_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_arpa_inet_h = yes; then
 
 
@@ -21622,7 +22348,8 @@ _ACEOF
                gl_cv_next_arpa_inet_h='<'arpa/inet.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_arpa_inet_h" >&5
 printf "%s\n" "$gl_cv_next_arpa_inet_h" >&6; }
@@ -21694,8 +22421,8 @@ printf %s "checking absolute name of <ct
 if test ${gl_cv_next_ctype_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
 
 
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -21731,7 +22458,8 @@ _ACEOF
           gl_header=$gl_cv_absolute_ctype_h
           gl_cv_next_ctype_h='"'$gl_header'"'
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_ctype_h" >&5
 printf "%s\n" "$gl_cv_next_ctype_h" >&6; }
@@ -21773,8 +22501,8 @@ printf %s "checking if environ is proper
 if test ${gt_cv_var_environ_declaration+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #if HAVE_UNISTD_H
      #include <unistd.h>
@@ -21795,10 +22523,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gt_cv_var_environ_declaration=no
-else $as_nop
-  gt_cv_var_environ_declaration=yes
+else case e in #(
+  e) gt_cv_var_environ_declaration=yes ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_var_environ_declaration" >&5
 printf "%s\n" "$gt_cv_var_environ_declaration" >&6; }
@@ -21820,8 +22550,8 @@ printf %s "checking whether getcwd (NULL
 if test ${gl_cv_func_getcwd_null+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
                            # Guess yes on glibc systems.
@@ -21836,8 +22566,8 @@ then :
             *)             gl_cv_func_getcwd_null="$gl_cross_guess_normal";;
           esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #	 include <stdlib.h>
@@ -21885,13 +22615,16 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_getcwd_null=yes
-else $as_nop
-  gl_cv_func_getcwd_null=no
+else case e in #(
+  e) gl_cv_func_getcwd_null=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_getcwd_null" >&5
 printf "%s\n" "$gl_cv_func_getcwd_null" >&6; }
@@ -21902,8 +22635,8 @@ printf %s "checking for getcwd with POSI
 if test ${gl_cv_func_getcwd_posix_signature+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <unistd.h>
 
@@ -21927,11 +22660,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_func_getcwd_posix_signature=yes
-else $as_nop
-  gl_cv_func_getcwd_posix_signature=no
+else case e in #(
+  e) gl_cv_func_getcwd_posix_signature=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+    ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_getcwd_posix_signature" >&5
 printf "%s\n" "$gl_cv_func_getcwd_posix_signature" >&6; }
@@ -21964,8 +22699,8 @@ printf %s "checking absolute name of <sy
 if test ${gl_cv_next_sys_time_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_sys_time_h = yes; then
 
 
@@ -22007,7 +22742,8 @@ _ACEOF
                gl_cv_next_sys_time_h='<'sys/time.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_sys_time_h" >&5
 printf "%s\n" "$gl_cv_next_sys_time_h" >&6; }
@@ -22058,8 +22794,8 @@ printf %s "checking for struct timeval..
 if test ${gl_cv_sys_struct_timeval+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #if HAVE_SYS_TIME_H
              #include <sys/time.h>
@@ -22080,11 +22816,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_sys_struct_timeval=yes
-else $as_nop
-  gl_cv_sys_struct_timeval=no
+else case e in #(
+  e) gl_cv_sys_struct_timeval=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_sys_struct_timeval" >&5
 printf "%s\n" "$gl_cv_sys_struct_timeval" >&6; }
@@ -22096,8 +22834,8 @@ printf %s "checking for wide-enough stru
 if test ${gl_cv_sys_struct_timeval_tv_sec+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #if HAVE_SYS_TIME_H
                #include <sys/time.h>
@@ -22122,11 +22860,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_sys_struct_timeval_tv_sec=yes
-else $as_nop
-  gl_cv_sys_struct_timeval_tv_sec=no
+else case e in #(
+  e) gl_cv_sys_struct_timeval_tv_sec=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_sys_struct_timeval_tv_sec" >&5
 printf "%s\n" "$gl_cv_sys_struct_timeval_tv_sec" >&6; }
@@ -22167,8 +22907,8 @@ printf %s "checking for IPv4 sockets...
 if test ${gl_cv_socket_ipv4+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/types.h>
 #ifdef HAVE_SYS_SOCKET_H
@@ -22192,10 +22932,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_socket_ipv4=yes
-else $as_nop
-  gl_cv_socket_ipv4=no
+else case e in #(
+  e) gl_cv_socket_ipv4=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_socket_ipv4" >&5
 printf "%s\n" "$gl_cv_socket_ipv4" >&6; }
@@ -22210,8 +22952,8 @@ printf %s "checking for IPv6 sockets...
 if test ${gl_cv_socket_ipv6+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/types.h>
 #ifdef HAVE_SYS_SOCKET_H
@@ -22238,10 +22980,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_socket_ipv6=yes
-else $as_nop
-  gl_cv_socket_ipv6=no
+else case e in #(
+  e) gl_cv_socket_ipv6=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_socket_ipv6" >&5
 printf "%s\n" "$gl_cv_socket_ipv6" >&6; }
@@ -22263,8 +23007,8 @@ printf %s "checking for LC_MESSAGES... "
 if test ${gt_cv_val_LC_MESSAGES+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <locale.h>
 int
@@ -22278,11 +23022,13 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gt_cv_val_LC_MESSAGES=yes
-else $as_nop
-  gt_cv_val_LC_MESSAGES=no
+else case e in #(
+  e) gt_cv_val_LC_MESSAGES=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext
+    conftest$ac_exeext conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_val_LC_MESSAGES" >&5
 printf "%s\n" "$gt_cv_val_LC_MESSAGES" >&6; }
@@ -22308,8 +23054,8 @@ printf %s "checking for uselocale... " >
 if test ${gl_cv_onwards_func_uselocale+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -22353,7 +23099,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_uselocale" >&5
 printf "%s\n" "$gl_cv_onwards_func_uselocale" >&6; }
@@ -22377,8 +23124,8 @@ printf %s "checking whether uselocale wo
 if test ${gt_cv_func_uselocale_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   # Guess no on AIX and z/OS, yes otherwise.
           case "$host_os" in
@@ -22386,8 +23133,8 @@ then :
             *)                   gt_cv_func_uselocale_works="guessing yes" ;;
           esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -22405,14 +23152,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gt_cv_func_uselocale_works=yes
-else $as_nop
-  gt_cv_func_uselocale_works=no
+else case e in #(
+  e) gt_cv_func_uselocale_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_func_uselocale_works" >&5
 printf "%s\n" "$gt_cv_func_uselocale_works" >&6; }
@@ -22440,16 +23190,16 @@ printf %s "checking for fake locale syst
 if test ${gt_cv_locale_fake+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
               case "$host_os" in
               openbsd*) gt_cv_locale_fake="guessing yes" ;;
               *)        gt_cv_locale_fake="guessing no" ;;
             esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -22469,14 +23219,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gt_cv_locale_fake=yes
-else $as_nop
-  gt_cv_locale_fake=no
+else case e in #(
+  e) gt_cv_locale_fake=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+         ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_fake" >&5
 printf "%s\n" "$gt_cv_locale_fake" >&6; }
@@ -22502,8 +23255,8 @@ printf %s "checking for Solaris 11.4 loc
 if test ${gt_cv_locale_solaris114+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case "$host_os" in
+else case e in #(
+  e) case "$host_os" in
            solaris*)
                                                                                            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -22523,14 +23276,16 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gt_cv_locale_solaris114=yes
-else $as_nop
-  gt_cv_locale_solaris114=no
+else case e in #(
+  e) gt_cv_locale_solaris114=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
              ;;
            *) gt_cv_locale_solaris114=no ;;
          esac
-
+         ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_solaris114" >&5
 printf "%s\n" "$gt_cv_locale_solaris114" >&6; }
@@ -22590,8 +23345,8 @@ printf %s "checking for CFPreferencesCop
 if test ${gt_cv_func_CFPreferencesCopyAppValue+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gt_save_LIBS="$LIBS"
+else case e in #(
+  e) gt_save_LIBS="$LIBS"
      LIBS="$LIBS -Wl,-framework -Wl,CoreFoundation"
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -22607,12 +23362,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gt_cv_func_CFPreferencesCopyAppValue=yes
-else $as_nop
-  gt_cv_func_CFPreferencesCopyAppValue=no
+else case e in #(
+  e) gt_cv_func_CFPreferencesCopyAppValue=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-     LIBS="$gt_save_LIBS"
+     LIBS="$gt_save_LIBS" ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_func_CFPreferencesCopyAppValue" >&5
 printf "%s\n" "$gt_cv_func_CFPreferencesCopyAppValue" >&6; }
@@ -22626,8 +23383,8 @@ printf %s "checking for CFLocaleCopyPref
 if test ${gt_cv_func_CFLocaleCopyPreferredLanguages+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gt_save_LIBS="$LIBS"
+else case e in #(
+  e) gt_save_LIBS="$LIBS"
      LIBS="$LIBS -Wl,-framework -Wl,CoreFoundation"
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -22643,12 +23400,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gt_cv_func_CFLocaleCopyPreferredLanguages=yes
-else $as_nop
-  gt_cv_func_CFLocaleCopyPreferredLanguages=no
+else case e in #(
+  e) gt_cv_func_CFLocaleCopyPreferredLanguages=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-     LIBS="$gt_save_LIBS"
+     LIBS="$gt_save_LIBS" ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_func_CFLocaleCopyPreferredLanguages" >&5
 printf "%s\n" "$gt_cv_func_CFLocaleCopyPreferredLanguages" >&6; }
@@ -22672,8 +23431,8 @@ printf %s "checking for library needed f
 if test ${gl_cv_semaphore_lib+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  save_LIBS="$LIBS"
+else case e in #(
+  e) save_LIBS="$LIBS"
      LIBS="$LIBS $LIBMULTITHREAD"
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -22689,8 +23448,8 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_semaphore_lib=none
-else $as_nop
-  LIBS="$LIBS -lrt"
+else case e in #(
+  e) LIBS="$LIBS -lrt"
         cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <semaphore.h>
@@ -22705,17 +23464,20 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_semaphore_lib='-lrt'
-else $as_nop
-  gl_cv_semaphore_lib=none
+else case e in #(
+  e) gl_cv_semaphore_lib=none ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-
+        ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
      LIBS="$save_LIBS"
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_semaphore_lib" >&5
 printf "%s\n" "$gl_cv_semaphore_lib" >&6; }
@@ -22736,8 +23498,9 @@ printf "%s\n" "$gl_cv_semaphore_lib" >&6
 if test "x$ac_cv_func_mmap" = xyes
 then :
   gl_have_mmap=yes
-else $as_nop
-  gl_have_mmap=no
+else case e in #(
+  e) gl_have_mmap=no ;;
+esac
 fi
 
 
@@ -22756,7 +23519,7 @@ printf %s "checking for MAP_ANONYMOUS...
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "I cannot identify this map" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "I cannot identify this map" >/dev/null 2>&1
 then :
   gl_have_mmap_anonymous=yes
 fi
@@ -22773,7 +23536,7 @@ rm -rf conftest*
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "I cannot identify this map" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "I cannot identify this map" >/dev/null 2>&1
 then :
 
 printf "%s\n" "#define MAP_ANONYMOUS MAP_ANON" >>confdefs.h
@@ -22815,8 +23578,8 @@ printf %s "checking whether memchr works
 if test ${gl_cv_func_memchr_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
                            # Guess no on Android.
@@ -22827,8 +23590,8 @@ then :
           *)               gl_cv_func_memchr_works="$gl_cross_guess_normal" ;;
         esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <string.h>
@@ -22899,14 +23662,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_memchr_works=yes
-else $as_nop
-  gl_cv_func_memchr_works=no
+else case e in #(
+  e) gl_cv_func_memchr_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_memchr_works" >&5
 printf "%s\n" "$gl_cv_func_memchr_works" >&6; }
@@ -22954,8 +23720,8 @@ printf %s "checking whether <sys/select.
 if test ${gl_cv_header_sys_select_h_selfcontained+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                                     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/select.h>
@@ -22970,8 +23736,9 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_header_sys_select_h_selfcontained=yes
-else $as_nop
-  gl_cv_header_sys_select_h_selfcontained=no
+else case e in #(
+  e) gl_cv_header_sys_select_h_selfcontained=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
                         if test $gl_cv_header_sys_select_h_selfcontained = yes; then
@@ -23021,8 +23788,9 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
 
-else $as_nop
-  gl_cv_header_sys_select_h_selfcontained=no
+else case e in #(
+  e) gl_cv_header_sys_select_h_selfcontained=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
@@ -23030,7 +23798,8 @@ rm -f core conftest.err conftest.$ac_obj
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
       fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_sys_select_h_selfcontained" >&5
 printf "%s\n" "$gl_cv_header_sys_select_h_selfcontained" >&6; }
@@ -23051,8 +23820,8 @@ printf %s "checking absolute name of <sy
 if test ${gl_cv_next_sys_select_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_sys_select_h = yes; then
 
 
@@ -23094,7 +23863,8 @@ _ACEOF
                gl_cv_next_sys_select_h='<'sys/select.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_sys_select_h" >&5
 printf "%s\n" "$gl_cv_next_sys_select_h" >&6; }
@@ -23292,8 +24062,8 @@ printf %s "checking absolute name of <pt
 if test ${gl_cv_next_pthread_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_pthread_h = yes; then
 
 
@@ -23335,7 +24105,8 @@ _ACEOF
                gl_cv_next_pthread_h='<'pthread.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_pthread_h" >&5
 printf "%s\n" "$gl_cv_next_pthread_h" >&6; }
@@ -23406,8 +24177,8 @@ printf %s "checking for PTHREAD_CREATE_D
 if test ${gl_cv_const_PTHREAD_CREATE_DETACHED+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <pthread.h>
             int x = PTHREAD_CREATE_DETACHED;
@@ -23423,11 +24194,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_const_PTHREAD_CREATE_DETACHED=yes
-else $as_nop
-  gl_cv_const_PTHREAD_CREATE_DETACHED=no
+else case e in #(
+  e) gl_cv_const_PTHREAD_CREATE_DETACHED=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_const_PTHREAD_CREATE_DETACHED" >&5
 printf "%s\n" "$gl_cv_const_PTHREAD_CREATE_DETACHED" >&6; }
@@ -23440,8 +24213,8 @@ printf %s "checking for PTHREAD_MUTEX_RE
 if test ${gl_cv_const_PTHREAD_MUTEX_RECURSIVE+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <pthread.h>
             int x = PTHREAD_MUTEX_RECURSIVE;
@@ -23457,11 +24230,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_const_PTHREAD_MUTEX_RECURSIVE=yes
-else $as_nop
-  gl_cv_const_PTHREAD_MUTEX_RECURSIVE=no
+else case e in #(
+  e) gl_cv_const_PTHREAD_MUTEX_RECURSIVE=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_const_PTHREAD_MUTEX_RECURSIVE" >&5
 printf "%s\n" "$gl_cv_const_PTHREAD_MUTEX_RECURSIVE" >&6; }
@@ -23474,8 +24249,8 @@ printf %s "checking for PTHREAD_MUTEX_RO
 if test ${gl_cv_const_PTHREAD_MUTEX_ROBUST+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <pthread.h>
             int x = PTHREAD_MUTEX_ROBUST;
@@ -23491,11 +24266,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_const_PTHREAD_MUTEX_ROBUST=yes
-else $as_nop
-  gl_cv_const_PTHREAD_MUTEX_ROBUST=no
+else case e in #(
+  e) gl_cv_const_PTHREAD_MUTEX_ROBUST=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_const_PTHREAD_MUTEX_ROBUST" >&5
 printf "%s\n" "$gl_cv_const_PTHREAD_MUTEX_ROBUST" >&6; }
@@ -23508,8 +24285,8 @@ printf %s "checking for PTHREAD_PROCESS_
 if test ${gl_cv_const_PTHREAD_PROCESS_SHARED+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <pthread.h>
             int x = PTHREAD_PROCESS_SHARED;
@@ -23525,11 +24302,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_const_PTHREAD_PROCESS_SHARED=yes
-else $as_nop
-  gl_cv_const_PTHREAD_PROCESS_SHARED=no
+else case e in #(
+  e) gl_cv_const_PTHREAD_PROCESS_SHARED=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_const_PTHREAD_PROCESS_SHARED" >&5
 printf "%s\n" "$gl_cv_const_PTHREAD_PROCESS_SHARED" >&6; }
@@ -23631,8 +24410,9 @@ then :
 printf "%s\n" "#define HAVE_SIGSET_T 1" >>confdefs.h
 
 gl_cv_type_sigset_t=yes
-else $as_nop
-  gl_cv_type_sigset_t=no
+else case e in #(
+  e) gl_cv_type_sigset_t=no ;;
+esac
 fi
 
   if test $gl_cv_type_sigset_t != yes; then
@@ -23676,8 +24456,8 @@ printf %s "checking absolute name of <sc
 if test ${gl_cv_next_sched_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
 
 
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -23713,7 +24493,8 @@ _ACEOF
           gl_header=$gl_cv_absolute_sched_h
           gl_cv_next_sched_h='"'$gl_header'"'
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_sched_h" >&5
 printf "%s\n" "$gl_cv_next_sched_h" >&6; }
@@ -23750,8 +24531,9 @@ printf "%s\n" "$gl_cv_next_sched_h" >&6;
 if test "x$ac_cv_type_struct_sched_param" = xyes
 then :
   HAVE_STRUCT_SCHED_PARAM=1
-else $as_nop
-  HAVE_STRUCT_SCHED_PARAM=0
+else case e in #(
+  e) HAVE_STRUCT_SCHED_PARAM=0 ;;
+esac
 fi
 
   else
@@ -23827,8 +24609,8 @@ printf %s "checking for WSAStartup... "
 if test ${gl_cv_func_wsastartup+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
        gl_save_LIBS="$LIBS"
        LIBS="$LIBS -lws2_32"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -23854,13 +24636,15 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_func_wsastartup=yes
-else $as_nop
-  gl_cv_func_wsastartup=no
+else case e in #(
+  e) gl_cv_func_wsastartup=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
        LIBS="$gl_save_LIBS"
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_wsastartup" >&5
 printf "%s\n" "$gl_cv_func_wsastartup" >&6; }
@@ -23876,8 +24660,8 @@ printf %s "checking for library containi
 if test ${gl_cv_lib_socket+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
       gl_cv_lib_socket=
       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -23897,8 +24681,8 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
 
-else $as_nop
-  gl_save_LIBS="$LIBS"
+else case e in #(
+  e) gl_save_LIBS="$LIBS"
          LIBS="$gl_save_LIBS -lsocket"
          cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -23970,14 +24754,16 @@ rm -f core conftest.err conftest.$ac_obj
            fi
          fi
          LIBS="$gl_save_LIBS"
-
+         ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
       if test -z "$gl_cv_lib_socket"; then
         gl_cv_lib_socket="none needed"
       fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_lib_socket" >&5
 printf "%s\n" "$gl_cv_lib_socket" >&6; }
@@ -23998,8 +24784,9 @@ ac_fn_check_decl "$LINENO" "setenv" "ac_
 if test "x$ac_cv_have_decl_setenv" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_SETENV $ac_have_decl" >>confdefs.h
 
@@ -24029,8 +24816,8 @@ printf %s "checking for tsearch... " >&6
 if test ${gl_cv_onwards_func_tsearch+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -24074,7 +24861,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_tsearch" >&5
 printf "%s\n" "$gl_cv_onwards_func_tsearch" >&6; }
@@ -24092,36 +24880,26 @@ printf "%s\n" "#define HAVE_TSEARCH 1" >
 
 
 
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for uid_t in sys/types.h" >&5
-printf %s "checking for uid_t in sys/types.h... " >&6; }
-if test ${ac_cv_type_uid_t+y}
-then :
-  printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
-/* end confdefs.h.  */
-#include <sys/types.h>
-
-_ACEOF
-if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "uid_t" >/dev/null 2>&1
+ac_fn_c_check_type "$LINENO" "uid_t" "ac_cv_type_uid_t" "$ac_includes_default"
+if test "x$ac_cv_type_uid_t" = xyes
 then :
-  ac_cv_type_uid_t=yes
-else $as_nop
-  ac_cv_type_uid_t=no
-fi
-rm -rf conftest*
-
-fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_type_uid_t" >&5
-printf "%s\n" "$ac_cv_type_uid_t" >&6; }
-if test $ac_cv_type_uid_t = no; then
 
+else case e in #(
+  e)
 printf "%s\n" "#define uid_t int" >>confdefs.h
+ ;;
+esac
+fi
 
+ac_fn_c_check_type "$LINENO" "gid_t" "ac_cv_type_gid_t" "$ac_includes_default"
+if test "x$ac_cv_type_gid_t" = xyes
+then :
 
+else case e in #(
+  e)
 printf "%s\n" "#define gid_t int" >>confdefs.h
-
+ ;;
+esac
 fi
 
 
@@ -24143,8 +24921,8 @@ printf %s "checking absolute name of <si
 if test ${gl_cv_next_signal_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
 
 
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -24180,7 +24958,8 @@ _ACEOF
           gl_header=$gl_cv_absolute_signal_h
           gl_cv_next_signal_h='"'$gl_header'"'
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_signal_h" >&5
 printf "%s\n" "$gl_cv_next_signal_h" >&6; }
@@ -24209,8 +24988,9 @@ printf "%s\n" "$gl_cv_next_signal_h" >&6
 if test "x$ac_cv_type_volatile_sig_atomic_t" = xyes
 then :
 
-else $as_nop
-  HAVE_TYPE_VOLATILE_SIG_ATOMIC_T=0
+else case e in #(
+  e) HAVE_TYPE_VOLATILE_SIG_ATOMIC_T=0 ;;
+esac
 fi
 
 
@@ -24226,8 +25006,9 @@ fi
 if test "x$ac_cv_type_sighandler_t" = xyes
 then :
 
-else $as_nop
-  HAVE_SIGHANDLER_T=0
+else case e in #(
+  e) HAVE_SIGHANDLER_T=0 ;;
+esac
 fi
 
 
@@ -24250,8 +25031,8 @@ printf %s "checking whether <sys/ioctl.h
 if test ${gl_cv_decl_ioctl_in_sys_ioctl_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-         cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e)        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/ioctl.h>
 int
@@ -24265,11 +25046,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_decl_ioctl_in_sys_ioctl_h=yes
-else $as_nop
-  gl_cv_decl_ioctl_in_sys_ioctl_h=no
+else case e in #(
+  e) gl_cv_decl_ioctl_in_sys_ioctl_h=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_decl_ioctl_in_sys_ioctl_h" >&5
 printf "%s\n" "$gl_cv_decl_ioctl_in_sys_ioctl_h" >&6; }
@@ -24294,8 +25077,8 @@ printf %s "checking absolute name of <sy
 if test ${gl_cv_next_sys_ioctl_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_sys_ioctl_h = yes; then
 
 
@@ -24337,7 +25120,8 @@ _ACEOF
                gl_cv_next_sys_ioctl_h='<'sys/ioctl.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_sys_ioctl_h" >&5
 printf "%s\n" "$gl_cv_next_sys_ioctl_h" >&6; }
@@ -24384,8 +25168,8 @@ printf %s "checking absolute name of <sy
 if test ${gl_cv_next_sys_uio_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_sys_uio_h = yes; then
 
 
@@ -24427,7 +25211,8 @@ _ACEOF
                gl_cv_next_sys_uio_h='<'sys/uio.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_sys_uio_h" >&5
 printf "%s\n" "$gl_cv_next_sys_uio_h" >&6; }
@@ -24459,8 +25244,9 @@ ac_fn_check_decl "$LINENO" "unsetenv" "a
 if test "x$ac_cv_have_decl_unsetenv" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_UNSETENV $ac_have_decl" >>confdefs.h
 
@@ -24554,8 +25340,8 @@ printf %s "checking for alignas and alig
 if test ${gl_cv_header_working_stdalign_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gl_save_CFLAGS=$CFLAGS
+else case e in #(
+  e) gl_save_CFLAGS=$CFLAGS
      for gl_working in "yes, keywords" "yes, <stdalign.h> macros"; do
       case $gl_working in #(
   *stdalign.h*) :
@@ -24610,14 +25396,16 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_header_working_stdalign_h=$gl_working
-else $as_nop
-  gl_cv_header_working_stdalign_h=no
+else case e in #(
+  e) gl_cv_header_working_stdalign_h=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 
       CFLAGS=$gl_save_CFLAGS
       test "$gl_cv_header_working_stdalign_h" != no && break
-     done
+     done ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_working_stdalign_h" >&5
 printf "%s\n" "$gl_cv_header_working_stdalign_h" >&6; }
@@ -24648,8 +25436,8 @@ printf %s "checking for alloca as a comp
 if test ${gl_cv_rpl_alloca+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -24659,15 +25447,17 @@ else $as_nop
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "Need own alloca" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "Need own alloca" >/dev/null 2>&1
 then :
   gl_cv_rpl_alloca=yes
-else $as_nop
-  gl_cv_rpl_alloca=no
+else case e in #(
+  e) gl_cv_rpl_alloca=no ;;
+esac
 fi
 rm -rf conftest*
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_rpl_alloca" >&5
 printf "%s\n" "$gl_cv_rpl_alloca" >&6; }
@@ -24740,8 +25530,9 @@ then :
 printf "%s\n" "$as_me: WARNING: invalid argument supplied to --enable-assert" >&2;}
       enable_assert=yes
 fi
-else $as_nop
-  enable_assert=yes
+else case e in #(
+  e) enable_assert=yes ;;
+esac
 fi
 
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $enable_assert" >&5
@@ -24753,8 +25544,8 @@ printf %s "checking for static_assert...
 if test ${gl_cv_static_assert+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gl_save_CFLAGS=$CFLAGS
+else case e in #(
+  e) gl_save_CFLAGS=$CFLAGS
      for gl_working in "yes, a keyword" "yes, an <assert.h> macro"; do
       case $gl_working in #(
   *assert.h*) :
@@ -24789,13 +25580,15 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_static_assert=$gl_working
-else $as_nop
-  gl_cv_static_assert=no
+else case e in #(
+  e) gl_cv_static_assert=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
       CFLAGS=$gl_save_CFLAGS
       test "$gl_cv_static_assert" != no && break
-     done
+     done ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_static_assert" >&5
 printf "%s\n" "$gl_cv_static_assert" >&6; }
@@ -24824,8 +25617,8 @@ printf %s "checking absolute name of <as
 if test ${gl_cv_next_assert_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
 
 
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -24861,7 +25654,8 @@ _ACEOF
           gl_header=$gl_cv_absolute_assert_h
           gl_cv_next_assert_h='"'$gl_header'"'
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_assert_h" >&5
 printf "%s\n" "$gl_cv_next_assert_h" >&6; }
@@ -24937,8 +25731,8 @@ printf %s "checking whether btowc(0) is
 if test ${gl_cv_func_btowc_nul+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
         if test "$cross_compiling" = yes
 then :
 
@@ -24951,8 +25745,8 @@ then :
              *)       gl_cv_func_btowc_nul="guessing yes" ;;
            esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <wchar.h>
@@ -24966,14 +25760,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_btowc_nul=yes
-else $as_nop
-  gl_cv_func_btowc_nul=no
+else case e in #(
+  e) gl_cv_func_btowc_nul=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_btowc_nul" >&5
 printf "%s\n" "$gl_cv_func_btowc_nul" >&6; }
@@ -24983,8 +25780,8 @@ printf %s "checking whether btowc(EOF) i
 if test ${gl_cv_func_btowc_eof+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                         case "$host_os" in
                   # Guess no on IRIX.
           irix*)  gl_cv_func_btowc_eof="guessing no" ;;
@@ -24997,8 +25794,8 @@ else $as_nop
           if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -25017,15 +25814,18 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_btowc_eof=yes
-else $as_nop
-  gl_cv_func_btowc_eof=no
+else case e in #(
+  e) gl_cv_func_btowc_eof=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
         fi
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_btowc_eof" >&5
 printf "%s\n" "$gl_cv_func_btowc_eof" >&6; }
@@ -25091,8 +25891,8 @@ printf %s "checking for __builtin_expect
 if test ${gl_cv___builtin_expect+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
          int
@@ -25105,8 +25905,8 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv___builtin_expect=yes
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
              #include <builtins.h>
@@ -25120,14 +25920,17 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv___builtin_expect="in <builtins.h>"
-else $as_nop
-  gl_cv___builtin_expect=no
+else case e in #(
+  e) gl_cv___builtin_expect=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext
+    conftest$ac_exeext conftest.$ac_ext ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext
+    conftest$ac_exeext conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv___builtin_expect" >&5
 printf "%s\n" "$gl_cv___builtin_expect" >&6; }
@@ -25151,17 +25954,17 @@ printf %s "checking whether calloc (0, n
 if test ${ac_cv_func_calloc_0_nonnull+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test $cross_compiling != yes; then
+else case e in #(
+  e) if test $cross_compiling != yes; then
        ac_cv_func_calloc_0_nonnull=yes
        if test "$cross_compiling" = yes
 then :
-  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
 as_fn_error $? "cannot run test program while cross compiling
-See \`config.log' for more details" "$LINENO" 5; }
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+See 'config.log' for more details" "$LINENO" 5; }
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $ac_includes_default
 int
@@ -25181,11 +25984,13 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
 
-else $as_nop
-  ac_cv_func_calloc_0_nonnull=no
+else case e in #(
+  e) ac_cv_func_calloc_0_nonnull=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
      else
@@ -25200,7 +26005,8 @@ fi
          *)                  ac_cv_func_calloc_0_nonnull="$gl_cross_guess_normal" ;;
        esac
      fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_calloc_0_nonnull" >&5
 printf "%s\n" "$ac_cv_func_calloc_0_nonnull" >&6; }
@@ -25380,15 +26186,21 @@ printf %s "checking for library containi
 if test ${ac_cv_search_clock_gettime+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_func_search_save_LIBS=$LIBS
+else case e in #(
+  e) ac_func_search_save_LIBS=$LIBS
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char clock_gettime ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char clock_gettime (void);
 int
 main (void)
 {
@@ -25419,11 +26231,13 @@ done
 if test ${ac_cv_search_clock_gettime+y}
 then :
 
-else $as_nop
-  ac_cv_search_clock_gettime=no
+else case e in #(
+  e) ac_cv_search_clock_gettime=no ;;
+esac
 fi
 rm conftest.$ac_ext
-LIBS=$ac_func_search_save_LIBS
+LIBS=$ac_func_search_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_clock_gettime" >&5
 printf "%s\n" "$ac_cv_search_clock_gettime" >&6; }
@@ -26294,8 +27108,8 @@ printf %s "checking whether // is distin
 if test ${gl_cv_double_slash_root+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-   if test x"$cross_compiling" = xyes ; then
+else case e in #(
+  e)  if test x"$cross_compiling" = xyes ; then
         # When cross-compiling, there is no way to tell whether // is special
         # short of a list of hosts.  However, the only known hosts to date
         # that have a distinct // are Apollo DomainOS (too old to port to),
@@ -26317,7 +27131,8 @@ else $as_nop
         else
           gl_cv_double_slash_root=yes
         fi
-      fi
+      fi ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_double_slash_root" >&5
 printf "%s\n" "$gl_cv_double_slash_root" >&6; }
@@ -26335,8 +27150,8 @@ printf %s "checking whether dup2 works..
 if test ${gl_cv_func_dup2_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
          mingw*) # on this platform, dup2 always returns 0 for success
@@ -26355,8 +27170,8 @@ then :
            gl_cv_func_dup2_works="guessing no" ;;
          *) gl_cv_func_dup2_works="guessing yes" ;;
        esac
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
        #include <errno.h>
@@ -26426,14 +27241,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_dup2_works=yes
-else $as_nop
-  gl_cv_func_dup2_works=no
+else case e in #(
+  e) gl_cv_func_dup2_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_dup2_works" >&5
 printf "%s\n" "$gl_cv_func_dup2_works" >&6; }
@@ -26615,16 +27433,16 @@ printf %s "checking whether fcntl handle
 if test ${gl_cv_func_fcntl_f_dupfd_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case $host_os in
             aix* | cygwin* | haiku*)
                gl_cv_func_fcntl_f_dupfd_works="guessing no" ;;
             *) gl_cv_func_fcntl_f_dupfd_works="guessing yes" ;;
           esac
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <errno.h>
               #include <fcntl.h>
@@ -26677,13 +27495,16 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_fcntl_f_dupfd_works=yes
-else $as_nop
-  gl_cv_func_fcntl_f_dupfd_works=no
+else case e in #(
+  e) gl_cv_func_fcntl_f_dupfd_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_fcntl_f_dupfd_works" >&5
 printf "%s\n" "$gl_cv_func_fcntl_f_dupfd_works" >&6; }
@@ -26708,8 +27529,8 @@ printf %s "checking whether fcntl unders
 if test ${gl_cv_func_fcntl_f_dupfd_cloexec+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
                      # Guess no on NetBSD.
@@ -26717,8 +27538,8 @@ then :
             *)       gl_cv_func_fcntl_f_dupfd_cloexec="$gl_cross_guess_normal" ;;
           esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <fcntl.h>
               #include <unistd.h>
@@ -26760,19 +27581,23 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_func_fcntl_f_dupfd_cloexec=yes
-else $as_nop
-  gl_cv_func_fcntl_f_dupfd_cloexec="needs runtime check"
+else case e in #(
+  e) gl_cv_func_fcntl_f_dupfd_cloexec="needs runtime check" ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 
-else $as_nop
-  gl_cv_func_fcntl_f_dupfd_cloexec=no
+else case e in #(
+  e) gl_cv_func_fcntl_f_dupfd_cloexec=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_fcntl_f_dupfd_cloexec" >&5
 printf "%s\n" "$gl_cv_func_fcntl_f_dupfd_cloexec" >&6; }
@@ -26845,8 +27670,8 @@ printf %s "checking for __fpending... "
 if test ${gl_cv_func___fpending+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $fp_headers
@@ -26861,12 +27686,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_func___fpending=yes
-else $as_nop
-  gl_cv_func___fpending=no
+else case e in #(
+  e) gl_cv_func___fpending=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func___fpending" >&5
 printf "%s\n" "$gl_cv_func___fpending" >&6; }
@@ -26876,8 +27703,9 @@ printf "%s\n" "$gl_cv_func___fpending" >
 if test "x$ac_cv_have_decl___fpending" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL___FPENDING $ac_have_decl" >>confdefs.h
 
@@ -26905,8 +27733,8 @@ printf %s "checking whether free is know
 if test ${gl_cv_func_free_preserves_errno+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <stdlib.h>
 
@@ -26927,11 +27755,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_func_free_preserves_errno=yes
-else $as_nop
-  gl_cv_func_free_preserves_errno=no
+else case e in #(
+  e) gl_cv_func_free_preserves_errno=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_free_preserves_errno" >&5
 printf "%s\n" "$gl_cv_func_free_preserves_errno" >&6; }
@@ -27108,8 +27938,8 @@ printf %s "checking whether getdtablesiz
 if test ${gl_cv_func_getdtablesize_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-                                                   case "$host_os" in
+else case e in #(
+  e)                                                  case "$host_os" in
          vms*) gl_cv_func_getdtablesize_works="no (limitation)" ;;
          *)
                                                        if test "$cross_compiling" = yes
@@ -27120,8 +27950,8 @@ then :
                 *) gl_cv_func_getdtablesize_works="guessing yes" ;;
               esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
              #include <unistd.h>
@@ -27146,16 +27976,19 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_getdtablesize_works=yes
-else $as_nop
-  gl_cv_func_getdtablesize_works=no
+else case e in #(
+  e) gl_cv_func_getdtablesize_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
            ;;
        esac
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_getdtablesize_works" >&5
 printf "%s\n" "$gl_cv_func_getdtablesize_works" >&6; }
@@ -27358,8 +28191,8 @@ printf %s "checking for getprogname... "
 if test ${gl_cv_onwards_func_getprogname+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -27403,7 +28236,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_getprogname" >&5
 printf "%s\n" "$gl_cv_onwards_func_getprogname" >&6; }
@@ -27451,8 +28285,9 @@ fi
 if test "x$ac_cv_have_decl_program_invocation_name" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_PROGRAM_INVOCATION_NAME $ac_have_decl" >>confdefs.h
 if test $ac_have_decl = 1
@@ -27465,8 +28300,9 @@ fi
 if test "x$ac_cv_have_decl_program_invocation_short_name" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_PROGRAM_INVOCATION_SHORT_NAME $ac_have_decl" >>confdefs.h
 if test $ac_have_decl = 1
@@ -27479,8 +28315,9 @@ fi
 if test "x$ac_cv_have_decl___argv" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL___ARGV $ac_have_decl" >>confdefs.h
 if test $ac_have_decl = 1
@@ -27498,8 +28335,8 @@ printf %s "checking whether __progname i
 if test ${gl_cv_var___progname+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
         gl_cv_var___progname=
         cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -27521,7 +28358,8 @@ fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_var___progname" >&5
 printf "%s\n" "$gl_cv_var___progname" >&6; }
@@ -27563,8 +28401,8 @@ printf %s "checking for getrandom... " >
 if test ${gl_cv_onwards_func_getrandom+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -27613,7 +28451,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_getrandom" >&5
 printf "%s\n" "$gl_cv_onwards_func_getrandom" >&6; }
@@ -27640,8 +28479,8 @@ printf %s "checking whether getrandom is
 if test ${gl_cv_func_getrandom_ok+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 /* Additional includes are needed before <sys/random.h> on uClibc
                  and Mac OS X.  */
@@ -27662,11 +28501,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_func_getrandom_ok=yes
-else $as_nop
-  gl_cv_func_getrandom_ok=no
+else case e in #(
+  e) gl_cv_func_getrandom_ok=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_getrandom_ok" >&5
 printf "%s\n" "$gl_cv_func_getrandom_ok" >&6; }
@@ -27691,8 +28532,8 @@ printf %s "checking whether the bcrypt l
 if test ${gl_cv_lib_assume_bcrypt+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <windows.h>
 int
@@ -27710,11 +28551,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_lib_assume_bcrypt=yes
-else $as_nop
-  gl_cv_lib_assume_bcrypt=no
+else case e in #(
+  e) gl_cv_lib_assume_bcrypt=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+         ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_lib_assume_bcrypt" >&5
 printf "%s\n" "$gl_cv_lib_assume_bcrypt" >&6; }
@@ -27806,8 +28649,8 @@ printf %s "checking for C compiler flag
 if test ${gl_cv_prog_c_ignore_unused_libraries+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gl_cv_prog_c_ignore_unused_libraries=none
+else case e in #(
+  e) gl_cv_prog_c_ignore_unused_libraries=none
      gl_saved_ldflags=$LDFLAGS
      gl_saved_libs=$LIBS
      # Link with -lm to detect binutils 2.16 bug with --as-needed; see
@@ -27849,7 +28692,8 @@ rm -f core conftest.err conftest.$ac_obj
          break
      done
      LIBS=$gl_saved_libs
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_prog_c_ignore_unused_libraries" >&5
 printf "%s\n" "$gl_cv_prog_c_ignore_unused_libraries" >&6; }
@@ -27865,8 +28709,8 @@ printf %s "checking whether the compiler
 if test ${gl_cv_c___inline+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 typedef int foo_t;
            static __inline foo_t foo (void) { return 0; }
@@ -27881,10 +28725,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_c___inline=yes
-else $as_nop
-  gl_cv_c___inline=no
+else case e in #(
+  e) gl_cv_c___inline=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_c___inline" >&5
 printf "%s\n" "$gl_cv_c___inline" >&6; }
@@ -28021,8 +28867,8 @@ printf %s "checking whether pthread_rwlo
 if test ${gl_cv_pthread_rwlock_rdlock_prefer_writer+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  save_LIBS="$LIBS"
+else case e in #(
+  e) save_LIBS="$LIBS"
      LIBS="$LIBS $LIBMULTITHREAD"
      if test "$cross_compiling" = yes
 then :
@@ -28045,8 +28891,8 @@ then :
           *)                  gl_cv_pthread_rwlock_rdlock_prefer_writer="$gl_cross_guess_normal" ;;
          esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <errno.h>
@@ -28164,15 +29010,18 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_pthread_rwlock_rdlock_prefer_writer=yes
-else $as_nop
-  gl_cv_pthread_rwlock_rdlock_prefer_writer=no
+else case e in #(
+  e) gl_cv_pthread_rwlock_rdlock_prefer_writer=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
      LIBS="$save_LIBS"
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_pthread_rwlock_rdlock_prefer_writer" >&5
 printf "%s\n" "$gl_cv_pthread_rwlock_rdlock_prefer_writer" >&6; }
@@ -28234,8 +29083,8 @@ printf %s "checking whether lseek detect
 if test ${gl_cv_func_lseek_pipe+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case "$host_os" in
+else case e in #(
+  e) case "$host_os" in
        mingw*)
                                                                gl_cv_func_lseek_pipe=no
          ;;
@@ -28277,8 +29126,9 @@ then :
                 gl_cv_func_lseek_pipe=no
               fi
 
-else $as_nop
-  gl_cv_func_lseek_pipe=no
+else case e in #(
+  e) gl_cv_func_lseek_pipe=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
@@ -28294,14 +29144,16 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_func_lseek_pipe=yes
-else $as_nop
-  gl_cv_func_lseek_pipe=no
+else case e in #(
+  e) gl_cv_func_lseek_pipe=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
          fi
          ;;
      esac
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_lseek_pipe" >&5
 printf "%s\n" "$gl_cv_func_lseek_pipe" >&6; }
@@ -28324,8 +29176,8 @@ printf %s "checking whether SEEK_DATA wo
 if test ${gl_cv_func_lseek_works_but_incompatible+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
                           #include <unistd.h>
                #if defined __APPLE__ && defined __MACH__ && defined SEEK_DATA
@@ -28344,10 +29196,12 @@ _ACEOF
 if ac_fn_c_try_cpp "$LINENO"
 then :
   gl_cv_func_lseek_works_but_incompatible=yes
-else $as_nop
-  gl_cv_func_lseek_works_but_incompatible=no
+else case e in #(
+  e) gl_cv_func_lseek_works_but_incompatible=no ;;
+esac
 fi
-rm -f conftest.err conftest.i conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_lseek_works_but_incompatible" >&5
 printf "%s\n" "$gl_cv_func_lseek_works_but_incompatible" >&6; }
@@ -28456,8 +29310,8 @@ printf %s "checking whether malloc (0) r
 if test ${ac_cv_func_malloc_0_nonnull+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
           # Guess yes on platforms where we know the result.
@@ -28469,8 +29323,8 @@ then :
           *) ac_cv_func_malloc_0_nonnull="$gl_cross_guess_normal" ;;
         esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <stdlib.h>
 
@@ -28489,14 +29343,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   ac_cv_func_malloc_0_nonnull=yes
-else $as_nop
-  ac_cv_func_malloc_0_nonnull=no
+else case e in #(
+  e) ac_cv_func_malloc_0_nonnull=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_malloc_0_nonnull" >&5
 printf "%s\n" "$ac_cv_func_malloc_0_nonnull" >&6; }
@@ -28602,8 +29459,8 @@ printf %s "checking whether mbrtowc hand
 if test ${gl_cv_func_mbrtowc_incomplete_state+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                   case "$host_os" in
                      # Guess no on AIX and OSF/1.
         aix* | osf*) gl_cv_func_mbrtowc_incomplete_state="guessing no" ;;
@@ -28614,8 +29471,8 @@ else $as_nop
         if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -28640,11 +29497,13 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mbrtowc_incomplete_state=yes
-else $as_nop
-  gl_cv_func_mbrtowc_incomplete_state=no
+else case e in #(
+  e) gl_cv_func_mbrtowc_incomplete_state=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
       else
@@ -28652,8 +29511,8 @@ fi
           if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -28678,16 +29537,19 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mbrtowc_incomplete_state=yes
-else $as_nop
-  gl_cv_func_mbrtowc_incomplete_state=no
+else case e in #(
+  e) gl_cv_func_mbrtowc_incomplete_state=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
         fi
       fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_mbrtowc_incomplete_state" >&5
 printf "%s\n" "$gl_cv_func_mbrtowc_incomplete_state" >&6; }
@@ -28700,8 +29562,8 @@ printf %s "checking whether mbrtowc work
 if test ${gl_cv_func_mbrtowc_sanitycheck+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                   case "$host_os" in
                     # Guess no on Solaris 8.
         solaris2.8) gl_cv_func_mbrtowc_sanitycheck="guessing no" ;;
@@ -28712,8 +29574,8 @@ else $as_nop
         if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -28742,15 +29604,18 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mbrtowc_sanitycheck=yes
-else $as_nop
-  gl_cv_func_mbrtowc_sanitycheck=no
+else case e in #(
+  e) gl_cv_func_mbrtowc_sanitycheck=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
       fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_mbrtowc_sanitycheck" >&5
 printf "%s\n" "$gl_cv_func_mbrtowc_sanitycheck" >&6; }
@@ -28779,8 +29644,9 @@ printf "%s\n" "$gl_cv_func_mbrtowc_sanit
 if test "x$ac_cv_have_decl_mbrtowc" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_MBRTOWC $ac_have_decl" >>confdefs.h
 
@@ -28799,8 +29665,8 @@ printf %s "checking whether mbrtowc hand
 if test ${gl_cv_func_mbrtowc_null_arg1+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                   case "$host_os" in
                   # Guess no on Solaris.
         solaris*) gl_cv_func_mbrtowc_null_arg1="guessing no" ;;
@@ -28811,8 +29677,8 @@ else $as_nop
         if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -28851,15 +29717,18 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mbrtowc_null_arg1=yes
-else $as_nop
-  gl_cv_func_mbrtowc_null_arg1=no
+else case e in #(
+  e) gl_cv_func_mbrtowc_null_arg1=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
       fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_mbrtowc_null_arg1" >&5
 printf "%s\n" "$gl_cv_func_mbrtowc_null_arg1" >&6; }
@@ -28872,8 +29741,8 @@ printf %s "checking whether mbrtowc hand
 if test ${gl_cv_func_mbrtowc_null_arg2+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                   case "$host_os" in
               # Guess no on OSF/1.
         osf*) gl_cv_func_mbrtowc_null_arg2="guessing no" ;;
@@ -28884,8 +29753,8 @@ else $as_nop
         if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -28912,15 +29781,18 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mbrtowc_null_arg2=yes
-else $as_nop
-  gl_cv_func_mbrtowc_null_arg2=no
+else case e in #(
+  e) gl_cv_func_mbrtowc_null_arg2=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
       fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_mbrtowc_null_arg2" >&5
 printf "%s\n" "$gl_cv_func_mbrtowc_null_arg2" >&6; }
@@ -28935,8 +29807,8 @@ printf %s "checking whether mbrtowc has
 if test ${gl_cv_func_mbrtowc_retval+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                   case "$host_os" in
                                    # Guess no on HP-UX, Solaris, native Windows.
         hpux* | solaris* | mingw*) gl_cv_func_mbrtowc_retval="guessing no" ;;
@@ -28948,8 +29820,8 @@ else $as_nop
         if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -29043,18 +29915,21 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mbrtowc_retval=yes
-else $as_nop
-  if test $? != 77; then
+else case e in #(
+  e) if test $? != 77; then
              gl_cv_func_mbrtowc_retval=no
            fi
-
+           ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
       fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_mbrtowc_retval" >&5
 printf "%s\n" "$gl_cv_func_mbrtowc_retval" >&6; }
@@ -29067,8 +29942,8 @@ printf %s "checking whether mbrtowc retu
 if test ${gl_cv_func_mbrtowc_nul_retval+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                   case "$host_os" in
                        # Guess no on Solaris 8 and 9.
         solaris2.[89]) gl_cv_func_mbrtowc_nul_retval="guessing no" ;;
@@ -29079,8 +29954,8 @@ else $as_nop
         if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -29104,15 +29979,18 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mbrtowc_nul_retval=yes
-else $as_nop
-  gl_cv_func_mbrtowc_nul_retval=no
+else case e in #(
+  e) gl_cv_func_mbrtowc_nul_retval=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
       fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_mbrtowc_nul_retval" >&5
 printf "%s\n" "$gl_cv_func_mbrtowc_nul_retval" >&6; }
@@ -29124,8 +30002,8 @@ printf %s "checking whether mbrtowc stor
 if test ${gl_cv_func_mbrtowc_stores_incomplete+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                case "$host_os" in
                # Guess yes on native Windows.
        mingw*) gl_cv_func_mbrtowc_stores_incomplete="guessing yes" ;;
@@ -29136,8 +30014,8 @@ else $as_nop
          if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -29192,11 +30070,13 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mbrtowc_stores_incomplete=no
-else $as_nop
-  gl_cv_func_mbrtowc_stores_incomplete=yes
+else case e in #(
+  e) gl_cv_func_mbrtowc_stores_incomplete=yes ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
          ;;
@@ -29206,8 +30086,8 @@ fi
            if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -29231,17 +30111,20 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mbrtowc_stores_incomplete=no
-else $as_nop
-  gl_cv_func_mbrtowc_stores_incomplete=yes
+else case e in #(
+  e) gl_cv_func_mbrtowc_stores_incomplete=yes ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
          fi
          ;;
      esac
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_mbrtowc_stores_incomplete" >&5
 printf "%s\n" "$gl_cv_func_mbrtowc_stores_incomplete" >&6; }
@@ -29253,8 +30136,8 @@ printf %s "checking whether mbrtowc work
 if test ${gl_cv_func_mbrtowc_empty_input+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                   case "$host_os" in
                               # Guess no on AIX and glibc systems.
         aix* | *-gnu* | gnu*) gl_cv_func_mbrtowc_empty_input="guessing no" ;;
@@ -29265,8 +30148,8 @@ else $as_nop
       if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
            #include <wchar.h>
@@ -29281,14 +30164,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mbrtowc_empty_input=yes
-else $as_nop
-  gl_cv_func_mbrtowc_empty_input=no
+else case e in #(
+  e) gl_cv_func_mbrtowc_empty_input=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_mbrtowc_empty_input" >&5
 printf "%s\n" "$gl_cv_func_mbrtowc_empty_input" >&6; }
@@ -29299,8 +30185,8 @@ printf %s "checking whether the C locale
 if test ${gl_cv_func_mbrtowc_C_locale_sans_EILSEQ+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                gl_cv_func_mbrtowc_C_locale_sans_EILSEQ="$gl_cross_guess_normal"
 
      if test "$cross_compiling" = yes
@@ -29310,8 +30196,8 @@ then :
          mingw*) gl_cv_func_mbrtowc_C_locale_sans_EILSEQ="guessing yes" ;;
        esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <limits.h>
             #include <locale.h>
@@ -29343,14 +30229,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mbrtowc_C_locale_sans_EILSEQ=yes
-else $as_nop
-  gl_cv_func_mbrtowc_C_locale_sans_EILSEQ=no
+else case e in #(
+  e) gl_cv_func_mbrtowc_C_locale_sans_EILSEQ=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_mbrtowc_C_locale_sans_EILSEQ" >&5
 printf "%s\n" "$gl_cv_func_mbrtowc_C_locale_sans_EILSEQ" >&6; }
@@ -29424,8 +30313,8 @@ printf %s "checking whether imported sym
 if test ${gl_cv_have_weak+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case "$host_os" in
+else case e in #(
+  e) case "$host_os" in
        cygwin*)
                                     gl_cv_have_weak="guessing no"
          ;;
@@ -29460,17 +30349,18 @@ then :
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "Extensible Linking Format" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "Extensible Linking Format" >/dev/null 2>&1
 then :
   gl_cv_have_weak="guessing yes"
-else $as_nop
-  gl_cv_have_weak="guessing no"
+else case e in #(
+  e) gl_cv_have_weak="guessing no" ;;
+esac
 fi
 rm -rf conftest*
 
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <stdio.h>
@@ -29483,11 +30373,13 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_have_weak=yes
-else $as_nop
-  gl_cv_have_weak=no
+else case e in #(
+  e) gl_cv_have_weak=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
          fi
@@ -29517,7 +30409,8 @@ EOF
          esac
          ;;
      esac
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_have_weak" >&5
 printf "%s\n" "$gl_cv_have_weak" >&6; }
@@ -29590,8 +30483,8 @@ printf %s "checking whether the -Werror
 if test ${gl_cv_cc_vis_werror+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gl_save_CFLAGS="$CFLAGS"
+else case e in #(
+  e) gl_save_CFLAGS="$CFLAGS"
        CFLAGS="$CFLAGS -Werror"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -29607,12 +30500,14 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_cc_vis_werror=yes
-else $as_nop
-  gl_cv_cc_vis_werror=no
+else case e in #(
+  e) gl_cv_cc_vis_werror=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
        CFLAGS="$gl_save_CFLAGS"
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_cc_vis_werror" >&5
 printf "%s\n" "$gl_cv_cc_vis_werror" >&6; }
@@ -29621,8 +30516,8 @@ printf %s "checking for simple visibilit
 if test ${gl_cv_cc_visibility+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gl_save_CFLAGS="$CFLAGS"
+else case e in #(
+  e) gl_save_CFLAGS="$CFLAGS"
        CFLAGS="$CFLAGS -fvisibility=hidden"
                                           if test $gl_cv_cc_vis_werror = yes; then
          CFLAGS="$CFLAGS -Werror"
@@ -29651,12 +30546,14 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_cc_visibility=yes
-else $as_nop
-  gl_cv_cc_visibility=no
+else case e in #(
+  e) gl_cv_cc_visibility=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
        CFLAGS="$gl_save_CFLAGS"
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_cc_visibility" >&5
 printf "%s\n" "$gl_cv_cc_visibility" >&6; }
@@ -29729,8 +30626,8 @@ printf %s "checking whether mbrtowc hand
 if test ${gl_cv_func_mbrtowc_incomplete_state+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                   case "$host_os" in
                      # Guess no on AIX and OSF/1.
         aix* | osf*) gl_cv_func_mbrtowc_incomplete_state="guessing no" ;;
@@ -29741,8 +30638,8 @@ else $as_nop
         if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -29767,11 +30664,13 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mbrtowc_incomplete_state=yes
-else $as_nop
-  gl_cv_func_mbrtowc_incomplete_state=no
+else case e in #(
+  e) gl_cv_func_mbrtowc_incomplete_state=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
       else
@@ -29779,8 +30678,8 @@ fi
           if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -29805,16 +30704,19 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mbrtowc_incomplete_state=yes
-else $as_nop
-  gl_cv_func_mbrtowc_incomplete_state=no
+else case e in #(
+  e) gl_cv_func_mbrtowc_incomplete_state=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
         fi
       fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_mbrtowc_incomplete_state" >&5
 printf "%s\n" "$gl_cv_func_mbrtowc_incomplete_state" >&6; }
@@ -29827,8 +30729,8 @@ printf %s "checking whether mbrtowc work
 if test ${gl_cv_func_mbrtowc_sanitycheck+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                   case "$host_os" in
                     # Guess no on Solaris 8.
         solaris2.8) gl_cv_func_mbrtowc_sanitycheck="guessing no" ;;
@@ -29839,8 +30741,8 @@ else $as_nop
         if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -29869,15 +30771,18 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mbrtowc_sanitycheck=yes
-else $as_nop
-  gl_cv_func_mbrtowc_sanitycheck=no
+else case e in #(
+  e) gl_cv_func_mbrtowc_sanitycheck=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
       fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_mbrtowc_sanitycheck" >&5
 printf "%s\n" "$gl_cv_func_mbrtowc_sanitycheck" >&6; }
@@ -29906,8 +30811,9 @@ printf "%s\n" "$gl_cv_func_mbrtowc_sanit
 if test "x$ac_cv_have_decl_mbsinit" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_MBSINIT $ac_have_decl" >>confdefs.h
 
@@ -29979,8 +30885,8 @@ printf %s "checking for mbtowc... " >&6;
 if test ${gl_cv_onwards_func_mbtowc+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -30024,7 +30930,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_mbtowc" >&5
 printf "%s\n" "$gl_cv_onwards_func_mbtowc" >&6; }
@@ -30104,8 +31011,8 @@ printf %s "checking for mempcpy... " >&6
 if test ${gl_cv_onwards_func_mempcpy+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -30149,7 +31056,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_mempcpy" >&5
 printf "%s\n" "$gl_cv_onwards_func_mempcpy" >&6; }
@@ -30227,8 +31135,8 @@ printf %s "checking whether mkdir handle
 if test ${gl_cv_func_mkdir_trailing_slash_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  rm -rf conftest.dir
+else case e in #(
+  e) rm -rf conftest.dir
      if test "$cross_compiling" = yes
 then :
   case "$host_os" in
@@ -30248,11 +31156,12 @@ then :
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "Known" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "Known" >/dev/null 2>&1
 then :
   gl_cv_func_mkdir_trailing_slash_works="guessing yes"
-else $as_nop
-  gl_cv_func_mkdir_trailing_slash_works="guessing no"
+else case e in #(
+  e) gl_cv_func_mkdir_trailing_slash_works="guessing no" ;;
+esac
 fi
 rm -rf conftest*
 
@@ -30261,8 +31170,8 @@ rm -rf conftest*
           *)               gl_cv_func_mkdir_trailing_slash_works="$gl_cross_guess_normal" ;;
         esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
           #include <sys/types.h>
@@ -30282,15 +31191,18 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mkdir_trailing_slash_works=yes
-else $as_nop
-  gl_cv_func_mkdir_trailing_slash_works=no
+else case e in #(
+  e) gl_cv_func_mkdir_trailing_slash_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
      rm -rf conftest.dir
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_mkdir_trailing_slash_works" >&5
 printf "%s\n" "$gl_cv_func_mkdir_trailing_slash_works" >&6; }
@@ -30306,8 +31218,8 @@ printf %s "checking whether mkdir handle
 if test ${gl_cv_func_mkdir_trailing_dot_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  rm -rf conftest.dir
+else case e in #(
+  e) rm -rf conftest.dir
      if test "$cross_compiling" = yes
 then :
   case "$host_os" in
@@ -30323,8 +31235,8 @@ then :
           *)             gl_cv_func_mkdir_trailing_dot_works="$gl_cross_guess_normal" ;;
         esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
           #include <sys/types.h>
@@ -30344,16 +31256,19 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mkdir_trailing_dot_works=yes
-else $as_nop
-  gl_cv_func_mkdir_trailing_dot_works=no
+else case e in #(
+  e) gl_cv_func_mkdir_trailing_dot_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
      rm -rf conftest.dir
 
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_mkdir_trailing_dot_works" >&5
 printf "%s\n" "$gl_cv_func_mkdir_trailing_dot_works" >&6; }
@@ -30410,8 +31325,8 @@ printf %s "checking for working mkstemp.
 if test ${gl_cv_func_working_mkstemp+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
         mkdir conftest.mkstemp
         if test "$cross_compiling" = yes
 then :
@@ -30426,8 +31341,8 @@ then :
              *)                  gl_cv_func_working_mkstemp="$gl_cross_guess_normal" ;;
            esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $ac_includes_default
 
@@ -30471,15 +31386,18 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_working_mkstemp=yes
-else $as_nop
-  gl_cv_func_working_mkstemp=no
+else case e in #(
+  e) gl_cv_func_working_mkstemp=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
         rm -rf conftest.mkstemp
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_working_mkstemp" >&5
 printf "%s\n" "$gl_cv_func_working_mkstemp" >&6; }
@@ -30578,8 +31496,8 @@ printf %s "checking for nl_langinfo... "
 if test ${gl_cv_onwards_func_nl_langinfo+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -30623,7 +31541,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_nl_langinfo" >&5
 printf "%s\n" "$gl_cv_onwards_func_nl_langinfo" >&6; }
@@ -30650,8 +31569,8 @@ printf %s "checking whether YESEXPR work
 if test ${gl_cv_func_nl_langinfo_yesexpr_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
 
          case "$host_os" in
@@ -30661,8 +31580,8 @@ then :
            *)      gl_cv_func_nl_langinfo_yesexpr_works="guessing yes";;
          esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <langinfo.h>
 
@@ -30678,14 +31597,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_nl_langinfo_yesexpr_works=yes
-else $as_nop
-  gl_cv_func_nl_langinfo_yesexpr_works=no
+else case e in #(
+  e) gl_cv_func_nl_langinfo_yesexpr_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_nl_langinfo_yesexpr_works" >&5
 printf "%s\n" "$gl_cv_func_nl_langinfo_yesexpr_works" >&6; }
@@ -30770,8 +31692,8 @@ printf %s "checking whether the -Werror
 if test ${gl_cv_cc_vis_werror+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gl_save_CFLAGS="$CFLAGS"
+else case e in #(
+  e) gl_save_CFLAGS="$CFLAGS"
        CFLAGS="$CFLAGS -Werror"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -30787,12 +31709,14 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_cc_vis_werror=yes
-else $as_nop
-  gl_cv_cc_vis_werror=no
+else case e in #(
+  e) gl_cv_cc_vis_werror=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
        CFLAGS="$gl_save_CFLAGS"
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_cc_vis_werror" >&5
 printf "%s\n" "$gl_cv_cc_vis_werror" >&6; }
@@ -30801,8 +31725,8 @@ printf %s "checking for simple visibilit
 if test ${gl_cv_cc_visibility+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gl_save_CFLAGS="$CFLAGS"
+else case e in #(
+  e) gl_save_CFLAGS="$CFLAGS"
        CFLAGS="$CFLAGS -fvisibility=hidden"
                                           if test $gl_cv_cc_vis_werror = yes; then
          CFLAGS="$CFLAGS -Werror"
@@ -30831,12 +31755,14 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_cc_visibility=yes
-else $as_nop
-  gl_cv_cc_visibility=no
+else case e in #(
+  e) gl_cv_cc_visibility=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
        CFLAGS="$gl_save_CFLAGS"
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_cc_visibility" >&5
 printf "%s\n" "$gl_cv_cc_visibility" >&6; }
@@ -30891,8 +31817,8 @@ printf %s "checking whether open recogni
 if test ${gl_cv_func_open_slash+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  # Assume that if we have lstat, we can also check symlinks.
+else case e in #(
+  e) # Assume that if we have lstat, we can also check symlinks.
      if test $ac_cv_func_lstat = yes; then
        touch conftest.tmp
        ln -s conftest.tmp conftest.lnk
@@ -30907,8 +31833,8 @@ then :
             gl_cv_func_open_slash="guessing yes" ;;
         esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <fcntl.h>
@@ -30934,15 +31860,18 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_open_slash=yes
-else $as_nop
-  gl_cv_func_open_slash=no
+else case e in #(
+  e) gl_cv_func_open_slash=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
      rm -f conftest.sl conftest.tmp conftest.lnk
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_open_slash" >&5
 printf "%s\n" "$gl_cv_func_open_slash" >&6; }
@@ -31013,8 +31942,9 @@ printf "%s\n" "#define GNULIB_TEST_OPEN
 if test "x$ac_cv_have_decl_program_invocation_name" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_PROGRAM_INVOCATION_NAME $ac_have_decl" >>confdefs.h
 
@@ -31023,8 +31953,9 @@ printf "%s\n" "#define HAVE_DECL_PROGRAM
 if test "x$ac_cv_have_decl_program_invocation_short_name" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_PROGRAM_INVOCATION_SHORT_NAME $ac_have_decl" >>confdefs.h
 
@@ -31152,8 +32083,8 @@ printf %s "checking whether readlink sig
 if test ${gl_cv_decl_readlink_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <unistd.h>
       /* Cause compilation failure if original declaration has wrong type.  */
@@ -31169,10 +32100,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_decl_readlink_works=yes
-else $as_nop
-  gl_cv_decl_readlink_works=no
+else case e in #(
+  e) gl_cv_decl_readlink_works=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_decl_readlink_works" >&5
 printf "%s\n" "$gl_cv_decl_readlink_works" >&6; }
@@ -31181,8 +32114,8 @@ printf %s "checking whether readlink han
 if test ${gl_cv_func_readlink_trailing_slash+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  # We have readlink, so assume ln -s works.
+else case e in #(
+  e) # We have readlink, so assume ln -s works.
        ln -s conftest.no-such conftest.link
        ln -s conftest.link conftest.lnk2
        if test "$cross_compiling" = yes
@@ -31202,8 +32135,8 @@ then :
               gl_cv_func_readlink_trailing_slash="$gl_cross_guess_normal" ;;
           esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <unistd.h>
 
@@ -31219,14 +32152,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_readlink_trailing_slash=yes
-else $as_nop
-  gl_cv_func_readlink_trailing_slash=no
+else case e in #(
+  e) gl_cv_func_readlink_trailing_slash=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-      rm -f conftest.link conftest.lnk2
+      rm -f conftest.link conftest.lnk2 ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_readlink_trailing_slash" >&5
 printf "%s\n" "$gl_cv_func_readlink_trailing_slash" >&6; }
@@ -31249,8 +32185,8 @@ printf %s "checking whether readlink tru
 if test ${gl_cv_func_readlink_truncate+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  # We have readlink, so assume ln -s works.
+else case e in #(
+  e) # We have readlink, so assume ln -s works.
        ln -s ab conftest.link
        if test "$cross_compiling" = yes
 then :
@@ -31269,8 +32205,8 @@ then :
               gl_cv_func_readlink_truncate="$gl_cross_guess_normal" ;;
           esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <unistd.h>
 
@@ -31286,14 +32222,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_readlink_truncate=yes
-else $as_nop
-  gl_cv_func_readlink_truncate=no
+else case e in #(
+  e) gl_cv_func_readlink_truncate=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-      rm -f conftest.link conftest.lnk2
+      rm -f conftest.link conftest.lnk2 ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_readlink_truncate" >&5
 printf "%s\n" "$gl_cv_func_readlink_truncate" >&6; }
@@ -31362,8 +32301,8 @@ printf %s "checking whether realloc (0,
 if test ${ac_cv_func_realloc_0_nonnull+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
           # Guess yes on platforms where we know the result.
@@ -31375,8 +32314,8 @@ then :
           *) ac_cv_func_realloc_0_nonnull="$gl_cross_guess_normal" ;;
         esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <stdlib.h>
 
@@ -31395,14 +32334,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   ac_cv_func_realloc_0_nonnull=yes
-else $as_nop
-  ac_cv_func_realloc_0_nonnull=no
+else case e in #(
+  e) ac_cv_func_realloc_0_nonnull=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_realloc_0_nonnull" >&5
 printf "%s\n" "$ac_cv_func_realloc_0_nonnull" >&6; }
@@ -31496,8 +32438,8 @@ printf %s "checking for reallocarray...
 if test ${gl_cv_onwards_func_reallocarray+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -31541,7 +32483,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_reallocarray" >&5
 printf "%s\n" "$gl_cv_onwards_func_reallocarray" >&6; }
@@ -31633,8 +32576,8 @@ printf %s "checking for working re_compi
 if test ${gl_cv_func_re_compile_pattern_working+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
                    # Guess no on native Windows.
@@ -31643,8 +32586,8 @@ then :
            *)      gl_cv_func_re_compile_pattern_working="$gl_cross_guess_normal" ;;
          esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <regex.h>
 
@@ -31946,14 +32889,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_re_compile_pattern_working=yes
-else $as_nop
-  gl_cv_func_re_compile_pattern_working=no
+else case e in #(
+  e) gl_cv_func_re_compile_pattern_working=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_re_compile_pattern_working" >&5
 printf "%s\n" "$gl_cv_func_re_compile_pattern_working" >&6; }
@@ -32055,8 +33001,9 @@ fi
 if test "x$ac_cv_have_decl_isblank" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_ISBLANK $ac_have_decl" >>confdefs.h
 
@@ -32100,8 +33047,8 @@ printf %s "checking for nl_langinfo and
 if test ${gl_cv_langinfo_yesexpr+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <langinfo.h>
 int
@@ -32115,12 +33062,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_langinfo_yesexpr=yes
-else $as_nop
-  gl_cv_langinfo_yesexpr=no
+else case e in #(
+  e) gl_cv_langinfo_yesexpr=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_langinfo_yesexpr" >&5
 printf "%s\n" "$gl_cv_langinfo_yesexpr" >&6; }
@@ -32164,8 +33113,8 @@ printf %s "checking whether setlocale (L
 if test ${gl_cv_func_setlocale_null_all_mtsafe+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case "$host_os" in
+else case e in #(
+  e) case "$host_os" in
        # Guess no on musl libc, macOS, FreeBSD, NetBSD, OpenBSD, AIX, Haiku.
        *-musl* | midipix* | darwin* | freebsd* | midnightbsd* | netbsd* | openbsd* | aix* | haiku*)
          gl_cv_func_setlocale_null_all_mtsafe=no ;;
@@ -32183,11 +33132,12 @@ else $as_nop
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "Lucky user" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "Lucky user" >/dev/null 2>&1
 then :
   gl_cv_func_setlocale_null_all_mtsafe=yes
-else $as_nop
-  gl_cv_func_setlocale_null_all_mtsafe=no
+else case e in #(
+  e) gl_cv_func_setlocale_null_all_mtsafe=no ;;
+esac
 fi
 rm -rf conftest*
 
@@ -32199,7 +33149,8 @@ rm -rf conftest*
        *)
          gl_cv_func_setlocale_null_all_mtsafe="$gl_cross_guess_normal" ;;
      esac
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_setlocale_null_all_mtsafe" >&5
 printf "%s\n" "$gl_cv_func_setlocale_null_all_mtsafe" >&6; }
@@ -32224,8 +33175,8 @@ printf %s "checking whether setlocale (c
 if test ${gl_cv_func_setlocale_null_one_mtsafe+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case "$host_os" in
+else case e in #(
+  e) case "$host_os" in
        # Guess no on OpenBSD, AIX.
        openbsd* | aix*)
          gl_cv_func_setlocale_null_one_mtsafe=no ;;
@@ -32236,7 +33187,8 @@ else $as_nop
        *)
          gl_cv_func_setlocale_null_one_mtsafe="$gl_cross_guess_normal" ;;
      esac
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_setlocale_null_one_mtsafe" >&5
 printf "%s\n" "$gl_cv_func_setlocale_null_one_mtsafe" >&6; }
@@ -32267,8 +33219,8 @@ printf %s "checking whether imported sym
 if test ${gl_cv_have_weak+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case "$host_os" in
+else case e in #(
+  e) case "$host_os" in
        cygwin*)
                                     gl_cv_have_weak="guessing no"
          ;;
@@ -32303,17 +33255,18 @@ then :
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "Extensible Linking Format" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "Extensible Linking Format" >/dev/null 2>&1
 then :
   gl_cv_have_weak="guessing yes"
-else $as_nop
-  gl_cv_have_weak="guessing no"
+else case e in #(
+  e) gl_cv_have_weak="guessing no" ;;
+esac
 fi
 rm -rf conftest*
 
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <stdio.h>
@@ -32326,11 +33279,13 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_have_weak=yes
-else $as_nop
-  gl_cv_have_weak=no
+else case e in #(
+  e) gl_cv_have_weak=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
          fi
@@ -32360,7 +33315,8 @@ EOF
          esac
          ;;
      esac
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_have_weak" >&5
 printf "%s\n" "$gl_cv_have_weak" >&6; }
@@ -32412,8 +33368,8 @@ printf %s "checking whether the -Werror
 if test ${gl_cv_cc_vis_werror+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gl_save_CFLAGS="$CFLAGS"
+else case e in #(
+  e) gl_save_CFLAGS="$CFLAGS"
        CFLAGS="$CFLAGS -Werror"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -32429,12 +33385,14 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_cc_vis_werror=yes
-else $as_nop
-  gl_cv_cc_vis_werror=no
+else case e in #(
+  e) gl_cv_cc_vis_werror=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
        CFLAGS="$gl_save_CFLAGS"
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_cc_vis_werror" >&5
 printf "%s\n" "$gl_cv_cc_vis_werror" >&6; }
@@ -32443,8 +33401,8 @@ printf %s "checking for simple visibilit
 if test ${gl_cv_cc_visibility+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gl_save_CFLAGS="$CFLAGS"
+else case e in #(
+  e) gl_save_CFLAGS="$CFLAGS"
        CFLAGS="$CFLAGS -fvisibility=hidden"
                                           if test $gl_cv_cc_vis_werror = yes; then
          CFLAGS="$CFLAGS -Werror"
@@ -32473,12 +33431,14 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_cc_visibility=yes
-else $as_nop
-  gl_cv_cc_visibility=no
+else case e in #(
+  e) gl_cv_cc_visibility=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
        CFLAGS="$gl_save_CFLAGS"
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_cc_visibility" >&5
 printf "%s\n" "$gl_cv_cc_visibility" >&6; }
@@ -32522,8 +33482,9 @@ printf "%s\n" "#define GNULIB_TEST_SETLO
 if test "x$ac_cv_have_decl_sleep" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_SLEEP $ac_have_decl" >>confdefs.h
 
@@ -32536,8 +33497,8 @@ printf %s "checking for working sleep...
 if test ${gl_cv_func_sleep_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
                         # Guess yes on glibc systems.
@@ -32552,8 +33513,8 @@ then :
          *)             gl_cv_func_sleep_works="$gl_cross_guess_normal" ;;
        esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <errno.h>
@@ -32590,13 +33551,16 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_sleep_works=yes
-else $as_nop
-  gl_cv_func_sleep_works=no
+else case e in #(
+  e) gl_cv_func_sleep_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_sleep_works" >&5
 printf "%s\n" "$gl_cv_func_sleep_works" >&6; }
@@ -32647,8 +33611,8 @@ printf %s "checking for ssize_t... " >&6
 if test ${gt_cv_ssize_t+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/types.h>
 int
@@ -32663,10 +33627,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gt_cv_ssize_t=yes
-else $as_nop
-  gt_cv_ssize_t=no
+else case e in #(
+  e) gt_cv_ssize_t=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_ssize_t" >&5
 printf "%s\n" "$gt_cv_ssize_t" >&6; }
@@ -32690,8 +33656,8 @@ printf %s "checking whether stat handles
 if test ${gl_cv_func_stat_file_slash+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  touch conftest.tmp
+else case e in #(
+  e) touch conftest.tmp
          # Assume that if we have lstat, we can also check symlinks.
          if test $ac_cv_func_lstat = yes; then
            ln -s conftest.tmp conftest.lnk
@@ -32709,8 +33675,8 @@ then :
               *)               gl_cv_func_stat_file_slash="$gl_cross_guess_normal" ;;
             esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/stat.h>
 
@@ -32734,14 +33700,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_stat_file_slash=yes
-else $as_nop
-  gl_cv_func_stat_file_slash=no
+else case e in #(
+  e) gl_cv_func_stat_file_slash=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-         rm -f conftest.tmp conftest.lnk
+         rm -f conftest.tmp conftest.lnk ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_stat_file_slash" >&5
 printf "%s\n" "$gl_cv_func_stat_file_slash" >&6; }
@@ -32832,8 +33801,8 @@ printf %s "checking whether struct stat.
 if test ${ac_cv_typeof_struct_stat_st_atim_is_struct_timespec+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
             #include <sys/types.h>
@@ -32858,10 +33827,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_typeof_struct_stat_st_atim_is_struct_timespec=yes
-else $as_nop
-  ac_cv_typeof_struct_stat_st_atim_is_struct_timespec=no
+else case e in #(
+  e) ac_cv_typeof_struct_stat_st_atim_is_struct_timespec=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_typeof_struct_stat_st_atim_is_struct_timespec" >&5
 printf "%s\n" "$ac_cv_typeof_struct_stat_st_atim_is_struct_timespec" >&6; }
@@ -32870,8 +33841,8 @@ printf "%s\n" "$ac_cv_typeof_struct_stat
 printf "%s\n" "#define TYPEOF_STRUCT_STAT_ST_ATIM_IS_STRUCT_TIMESPEC 1" >>confdefs.h
 
      fi
-else $as_nop
-  ac_fn_c_check_member "$LINENO" "struct stat" "st_atimespec.tv_nsec" "ac_cv_member_struct_stat_st_atimespec_tv_nsec" "#include <sys/types.h>
+else case e in #(
+  e) ac_fn_c_check_member "$LINENO" "struct stat" "st_atimespec.tv_nsec" "ac_cv_member_struct_stat_st_atimespec_tv_nsec" "#include <sys/types.h>
         #include <sys/stat.h>
 "
 if test "x$ac_cv_member_struct_stat_st_atimespec_tv_nsec" = xyes
@@ -32880,8 +33851,8 @@ then :
 printf "%s\n" "#define HAVE_STRUCT_STAT_ST_ATIMESPEC_TV_NSEC 1" >>confdefs.h
 
 
-else $as_nop
-  ac_fn_c_check_member "$LINENO" "struct stat" "st_atimensec" "ac_cv_member_struct_stat_st_atimensec" "#include <sys/types.h>
+else case e in #(
+  e) ac_fn_c_check_member "$LINENO" "struct stat" "st_atimensec" "ac_cv_member_struct_stat_st_atimensec" "#include <sys/types.h>
            #include <sys/stat.h>
 "
 if test "x$ac_cv_member_struct_stat_st_atimensec" = xyes
@@ -32890,8 +33861,8 @@ then :
 printf "%s\n" "#define HAVE_STRUCT_STAT_ST_ATIMENSEC 1" >>confdefs.h
 
 
-else $as_nop
-  ac_fn_c_check_member "$LINENO" "struct stat" "st_atim.st__tim.tv_nsec" "ac_cv_member_struct_stat_st_atim_st__tim_tv_nsec" "#include <sys/types.h>
+else case e in #(
+  e) ac_fn_c_check_member "$LINENO" "struct stat" "st_atim.st__tim.tv_nsec" "ac_cv_member_struct_stat_st_atim_st__tim_tv_nsec" "#include <sys/types.h>
               #include <sys/stat.h>
 "
 if test "x$ac_cv_member_struct_stat_st_atim_st__tim_tv_nsec" = xyes
@@ -32901,11 +33872,14 @@ printf "%s\n" "#define HAVE_STRUCT_STAT_
 
 
 fi
-
+ ;;
+esac
 fi
-
+ ;;
+esac
 fi
-
+ ;;
+esac
 fi
 
 
@@ -32921,8 +33895,8 @@ then :
 printf "%s\n" "#define HAVE_STRUCT_STAT_ST_BIRTHTIMESPEC_TV_NSEC 1" >>confdefs.h
 
 
-else $as_nop
-  ac_fn_c_check_member "$LINENO" "struct stat" "st_birthtimensec" "ac_cv_member_struct_stat_st_birthtimensec" "#include <sys/types.h>
+else case e in #(
+  e) ac_fn_c_check_member "$LINENO" "struct stat" "st_birthtimensec" "ac_cv_member_struct_stat_st_birthtimensec" "#include <sys/types.h>
         #include <sys/stat.h>
 "
 if test "x$ac_cv_member_struct_stat_st_birthtimensec" = xyes
@@ -32931,8 +33905,8 @@ then :
 printf "%s\n" "#define HAVE_STRUCT_STAT_ST_BIRTHTIMENSEC 1" >>confdefs.h
 
 
-else $as_nop
-  ac_fn_c_check_member "$LINENO" "struct stat" "st_birthtim.tv_nsec" "ac_cv_member_struct_stat_st_birthtim_tv_nsec" "#include <sys/types.h>
+else case e in #(
+  e) ac_fn_c_check_member "$LINENO" "struct stat" "st_birthtim.tv_nsec" "ac_cv_member_struct_stat_st_birthtim_tv_nsec" "#include <sys/types.h>
           #include <sys/stat.h>
 "
 if test "x$ac_cv_member_struct_stat_st_birthtim_tv_nsec" = xyes
@@ -32942,9 +33916,11 @@ printf "%s\n" "#define HAVE_STRUCT_STAT_
 
 
 fi
-
+ ;;
+esac
 fi
-
+ ;;
+esac
 fi
 
 
@@ -32956,8 +33932,8 @@ printf %s "checking for va_copy... " >&6
 if test ${gl_cv_func_va_copy+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <stdarg.h>
 int
@@ -32975,11 +33951,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_func_va_copy=yes
-else $as_nop
-  gl_cv_func_va_copy=no
+else case e in #(
+  e) gl_cv_func_va_copy=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_va_copy" >&5
 printf "%s\n" "$gl_cv_func_va_copy" >&6; }
@@ -32992,11 +33970,12 @@ printf "%s\n" "$gl_cv_func_va_copy" >&6;
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "vaccine" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "vaccine" >/dev/null 2>&1
 then :
   gl_aixcc=yes
-else $as_nop
-  gl_aixcc=no
+else case e in #(
+  e) gl_aixcc=no ;;
+esac
 fi
 rm -rf conftest*
 
@@ -33018,8 +33997,8 @@ printf %s "checking absolute name of <st
 if test ${gl_cv_next_stdarg_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
 
 
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -33055,7 +34034,8 @@ _ACEOF
           gl_header=$gl_cv_absolute_stdarg_h
           gl_cv_next_stdarg_h='"'$gl_header'"'
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_stdarg_h" >&5
 printf "%s\n" "$gl_cv_next_stdarg_h" >&6; }
@@ -33086,8 +34066,8 @@ printf "%s\n" "$gl_cv_next_stdarg_h" >&6
     if test ${gl_cv_func___va_copy+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
         cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <stdarg.h>
@@ -33106,10 +34086,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_func___va_copy=yes
-else $as_nop
-  gl_cv_func___va_copy=no
+else case e in #(
+  e) gl_cv_func___va_copy=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
 
@@ -33169,8 +34151,8 @@ printf %s "checking for bool, true, fals
 if test ${gl_cv_c_bool+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
           #if true == false
@@ -33182,10 +34164,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_c_bool=yes
-else $as_nop
-  gl_cv_c_bool=no
+else case e in #(
+  e) gl_cv_c_bool=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_c_bool" >&5
 printf "%s\n" "$gl_cv_c_bool" >&6; }
@@ -33785,8 +34769,8 @@ printf %s "checking for working strerror
 if test ${gl_cv_func_working_strerror+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
                                # Guess yes on glibc systems.
@@ -33797,8 +34781,8 @@ then :
            *)                  gl_cv_func_working_strerror="$gl_cross_guess_normal" ;;
          esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <string.h>
 
@@ -33813,14 +34797,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_working_strerror=yes
-else $as_nop
-  gl_cv_func_working_strerror=no
+else case e in #(
+  e) gl_cv_func_working_strerror=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_working_strerror" >&5
 printf "%s\n" "$gl_cv_func_working_strerror" >&6; }
@@ -33952,8 +34939,8 @@ printf %s "checking whether strtoll work
 if test ${gl_cv_func_strtoll_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
                                 # Guess no on native Windows.
@@ -33965,8 +34952,8 @@ then :
             *)                  gl_cv_func_strtoll_works="$gl_cross_guess_normal" ;;
           esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <stdlib.h>
 int
@@ -33998,14 +34985,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_strtoll_works=yes
-else $as_nop
-  gl_cv_func_strtoll_works=no
+else case e in #(
+  e) gl_cv_func_strtoll_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_strtoll_works" >&5
 printf "%s\n" "$gl_cv_func_strtoll_works" >&6; }
@@ -34073,8 +35063,8 @@ printf %s "checking whether strtoull wor
 if test ${gl_cv_func_strtoull_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
                                 # Guess no on native Windows.
@@ -34086,8 +35076,8 @@ then :
             *)                  gl_cv_func_strtoull_works="$gl_cross_guess_normal" ;;
           esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <stdlib.h>
 int
@@ -34119,14 +35109,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_strtoull_works=yes
-else $as_nop
-  gl_cv_func_strtoull_works=no
+else case e in #(
+  e) gl_cv_func_strtoull_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_strtoull_works" >&5
 printf "%s\n" "$gl_cv_func_strtoull_works" >&6; }
@@ -34234,8 +35227,8 @@ printf %s "checking whether unlink honor
 if test ${gl_cv_func_unlink_honors_slashes+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  touch conftest.file
+else case e in #(
+  e) touch conftest.file
      # Assume that if we have lstat, we can also check symlinks.
      if test $ac_cv_func_lstat = yes; then
        ln -s conftest.file conftest.lnk
@@ -34255,8 +35248,8 @@ then :
          *)               gl_cv_func_unlink_honors_slashes="$gl_cross_guess_normal" ;;
        esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #if HAVE_UNISTD_H
            # include <unistd.h>
@@ -34291,14 +35284,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_unlink_honors_slashes=yes
-else $as_nop
-  gl_cv_func_unlink_honors_slashes=no
+else case e in #(
+  e) gl_cv_func_unlink_honors_slashes=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-     rm -f conftest.file conftest.lnk
+     rm -f conftest.file conftest.lnk ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_unlink_honors_slashes" >&5
 printf "%s\n" "$gl_cv_func_unlink_honors_slashes" >&6; }
@@ -34313,8 +35309,8 @@ printf %s "checking whether unlink of a
 if test ${gl_cv_func_unlink_parent_fails+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case "$host_os" in
+else case e in #(
+  e) case "$host_os" in
        darwin*)
                                                       if {
               # Use the mktemp program if available. If not available, hide the error
@@ -34339,8 +35335,8 @@ then :
   # If we don't know, obey --enable-cross-guesses.
               gl_cv_func_unlink_parent_fails="$gl_cross_guess_normal"
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
                 #include <stdlib.h>
@@ -34368,11 +35364,13 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_unlink_parent_fails=yes
-else $as_nop
-  gl_cv_func_unlink_parent_fails=no
+else case e in #(
+  e) gl_cv_func_unlink_parent_fails=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
            unset GL_SUBDIR_FOR_UNLINK
@@ -34385,7 +35383,8 @@ fi
          gl_cv_func_unlink_parent_fails="guessing yes"
          ;;
      esac
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_unlink_parent_fails" >&5
 printf "%s\n" "$gl_cv_func_unlink_parent_fails" >&6; }
@@ -34439,10 +35438,11 @@ printf "%s\n" "#define GNULIB_TEST_UNLIN
 if test "x$ac_cv_type_useconds_t" = xyes
 then :
 
-else $as_nop
-
+else case e in #(
+  e)
 printf "%s\n" "#define useconds_t unsigned int" >>confdefs.h
-
+ ;;
+esac
 fi
 
   if test $ac_cv_func_usleep = no; then
@@ -34453,8 +35453,8 @@ printf %s "checking whether usleep allow
 if test ${gl_cv_func_usleep_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
                           # Guess yes on glibc systems.
@@ -34469,8 +35469,8 @@ then :
            *)             gl_cv_func_usleep_works="$gl_cross_guess_normal" ;;
          esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <unistd.h>
@@ -34486,13 +35486,16 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_usleep_works=yes
-else $as_nop
-  gl_cv_func_usleep_works=no
+else case e in #(
+  e) gl_cv_func_usleep_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_usleep_works" >&5
 printf "%s\n" "$gl_cv_func_usleep_works" >&6; }
@@ -34543,20 +35546,19 @@ printf %s "checking for variable-length
 if test ${ac_cv_c_vararrays+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
-#ifdef __STDC_NO_VLA__
-	defined
+	#ifndef __STDC_NO_VLA__
+	#error __STDC_NO_VLA__ not defined
 	#endif
 
 _ACEOF
-if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "defined" >/dev/null 2>&1
+if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_c_vararrays='no: __STDC_NO_VLA__ is defined'
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 /* Test for VLA support.  This test is partly inspired
 		  from examples in the C standard.  Use at least two VLA
@@ -34599,13 +35601,15 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_c_vararrays=yes
-else $as_nop
-  ac_cv_c_vararrays=no
+else case e in #(
+  e) ac_cv_c_vararrays=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
-rm -rf conftest*
-
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_vararrays" >&5
 printf "%s\n" "$ac_cv_c_vararrays" >&6; }
@@ -34704,8 +35708,8 @@ printf %s "checking whether mbrtowc hand
 if test ${gl_cv_func_mbrtowc_incomplete_state+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                   case "$host_os" in
                      # Guess no on AIX and OSF/1.
         aix* | osf*) gl_cv_func_mbrtowc_incomplete_state="guessing no" ;;
@@ -34716,8 +35720,8 @@ else $as_nop
         if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -34742,11 +35746,13 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mbrtowc_incomplete_state=yes
-else $as_nop
-  gl_cv_func_mbrtowc_incomplete_state=no
+else case e in #(
+  e) gl_cv_func_mbrtowc_incomplete_state=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
       else
@@ -34754,8 +35760,8 @@ fi
           if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -34780,16 +35786,19 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mbrtowc_incomplete_state=yes
-else $as_nop
-  gl_cv_func_mbrtowc_incomplete_state=no
+else case e in #(
+  e) gl_cv_func_mbrtowc_incomplete_state=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
         fi
       fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_mbrtowc_incomplete_state" >&5
 printf "%s\n" "$gl_cv_func_mbrtowc_incomplete_state" >&6; }
@@ -34802,8 +35811,8 @@ printf %s "checking whether mbrtowc work
 if test ${gl_cv_func_mbrtowc_sanitycheck+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                   case "$host_os" in
                     # Guess no on Solaris 8.
         solaris2.8) gl_cv_func_mbrtowc_sanitycheck="guessing no" ;;
@@ -34814,8 +35823,8 @@ else $as_nop
         if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -34844,15 +35853,18 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_mbrtowc_sanitycheck=yes
-else $as_nop
-  gl_cv_func_mbrtowc_sanitycheck=no
+else case e in #(
+  e) gl_cv_func_mbrtowc_sanitycheck=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
       fi
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_mbrtowc_sanitycheck" >&5
 printf "%s\n" "$gl_cv_func_mbrtowc_sanitycheck" >&6; }
@@ -34881,8 +35893,9 @@ printf "%s\n" "$gl_cv_func_mbrtowc_sanit
 if test "x$ac_cv_have_decl_wcrtomb" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_WCRTOMB $ac_have_decl" >>confdefs.h
 
@@ -34901,8 +35914,8 @@ printf %s "checking whether wcrtomb work
 if test ${gl_cv_func_wcrtomb_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
                                # Guess no on Android.
@@ -34911,8 +35924,8 @@ then :
               *)               gl_cv_func_wcrtomb_works="guessing yes";;
             esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <string.h>
@@ -34932,14 +35945,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_wcrtomb_works=yes
-else $as_nop
-  gl_cv_func_wcrtomb_works=no
+else case e in #(
+  e) gl_cv_func_wcrtomb_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+         ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_wcrtomb_works" >&5
 printf "%s\n" "$gl_cv_func_wcrtomb_works" >&6; }
@@ -34957,8 +35973,8 @@ printf %s "checking whether wcrtomb retu
 if test ${gl_cv_func_wcrtomb_retval+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                               case "$host_os" in
             # Guess no on AIX 4, OSF/1, Solaris, native Windows.
             aix4* | osf* | solaris* | mingw*) gl_cv_func_wcrtomb_retval="guessing no" ;;
@@ -34969,8 +35985,8 @@ else $as_nop
             if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -35012,15 +36028,18 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_wcrtomb_retval=yes
-else $as_nop
-  gl_cv_func_wcrtomb_retval=no
+else case e in #(
+  e) gl_cv_func_wcrtomb_retval=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
           fi
-
+         ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_wcrtomb_retval" >&5
 printf "%s\n" "$gl_cv_func_wcrtomb_retval" >&6; }
@@ -35289,8 +36308,8 @@ printf %s "checking for a traditional fr
 if test ${gt_cv_locale_fr+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -35417,7 +36436,8 @@ _ACEOF
       esac
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_fr" >&5
 printf "%s\n" "$gt_cv_locale_fr" >&6; }
@@ -35431,8 +36451,8 @@ printf %s "checking for a french Unicode
 if test ${gt_cv_locale_fr_utf8+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -35546,7 +36566,8 @@ _ACEOF
       esac
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_fr_utf8" >&5
 printf "%s\n" "$gt_cv_locale_fr_utf8" >&6; }
@@ -35561,8 +36582,8 @@ printf %s "checking for a traditional fr
 if test ${gt_cv_locale_fr+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -35689,7 +36710,8 @@ _ACEOF
       esac
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_fr" >&5
 printf "%s\n" "$gt_cv_locale_fr" >&6; }
@@ -35704,8 +36726,8 @@ printf %s "checking for a turkish Unicod
 if test ${gt_cv_locale_tr_utf8+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -35821,7 +36843,8 @@ _ACEOF
       gt_cv_locale_tr_utf8=none
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_tr_utf8" >&5
 printf "%s\n" "$gt_cv_locale_tr_utf8" >&6; }
@@ -35915,8 +36938,8 @@ printf %s "checking whether fdopen sets
 if test ${gl_cv_func_fdopen_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
         if test "$cross_compiling" = yes
 then :
   case "$host_os" in
@@ -35924,8 +36947,8 @@ then :
              *)      gl_cv_func_fdopen_works="guessing yes" ;;
            esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <stdio.h>
@@ -35948,14 +36971,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_fdopen_works=yes
-else $as_nop
-  gl_cv_func_fdopen_works=no
+else case e in #(
+  e) gl_cv_func_fdopen_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_fdopen_works" >&5
 printf "%s\n" "$gl_cv_func_fdopen_works" >&6; }
@@ -36014,8 +37040,8 @@ printf %s "checking for flexible array m
 if test ${ac_cv_c_flexmember+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <stdlib.h>
             #include <stdio.h>
@@ -36041,10 +37067,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_c_flexmember=yes
-else $as_nop
-  ac_cv_c_flexmember=no
+else case e in #(
+  e) ac_cv_c_flexmember=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_flexmember" >&5
 printf "%s\n" "$ac_cv_c_flexmember" >&6; }
@@ -36066,8 +37094,8 @@ printf %s "checking for ftruncate... " >
 if test ${gl_cv_onwards_func_ftruncate+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -36111,7 +37139,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_ftruncate" >&5
 printf "%s\n" "$gl_cv_onwards_func_ftruncate" >&6; }
@@ -36255,8 +37284,8 @@ printf %s "checking for getpagesize... "
 if test ${gl_cv_func_getpagesize+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <unistd.h>
 int
@@ -36271,12 +37300,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_func_getpagesize=yes
-else $as_nop
-  gl_cv_func_getpagesize=no
+else case e in #(
+  e) gl_cv_func_getpagesize=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_getpagesize" >&5
 printf "%s\n" "$gl_cv_func_getpagesize" >&6; }
@@ -36313,8 +37344,9 @@ fi
 if test "x$ac_cv_have_decl_getpagesize" = xyes
 then :
 
-else $as_nop
-  HAVE_DECL_GETPAGESIZE=0
+else case e in #(
+  e) HAVE_DECL_GETPAGESIZE=0 ;;
+esac
 fi
 
 
@@ -36372,8 +37404,8 @@ printf %s "checking for gettimeofday wit
 if test ${gl_cv_func_gettimeofday_posix_signature+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/time.h>
               struct timeval c;
@@ -36399,8 +37431,8 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_func_gettimeofday_posix_signature=yes
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/time.h>
 int gettimeofday (struct timeval *restrict, struct timezone *restrict);
@@ -36416,12 +37448,15 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_func_gettimeofday_posix_signature=almost
-else $as_nop
-  gl_cv_func_gettimeofday_posix_signature=no
+else case e in #(
+  e) gl_cv_func_gettimeofday_posix_signature=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_gettimeofday_posix_signature" >&5
 printf "%s\n" "$gl_cv_func_gettimeofday_posix_signature" >&6; }
@@ -36493,8 +37528,8 @@ printf %s "checking for duplocale... " >
 if test ${gl_cv_onwards_func_duplocale+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -36538,7 +37573,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_duplocale" >&5
 printf "%s\n" "$gl_cv_onwards_func_duplocale" >&6; }
@@ -36592,8 +37628,9 @@ fi
 if test "x$ac_cv_have_decl_inet_pton" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_INET_PTON $ac_have_decl" >>confdefs.h
 
@@ -36609,15 +37646,21 @@ printf %s "checking for library containi
 if test ${ac_cv_search_inet_pton+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_func_search_save_LIBS=$LIBS
+else case e in #(
+  e) ac_func_search_save_LIBS=$LIBS
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char inet_pton ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char inet_pton (void);
 int
 main (void)
 {
@@ -36648,11 +37691,13 @@ done
 if test ${ac_cv_search_inet_pton+y}
 then :
 
-else $as_nop
-  ac_cv_search_inet_pton=no
+else case e in #(
+  e) ac_cv_search_inet_pton=no ;;
+esac
 fi
 rm conftest.$ac_ext
-LIBS=$ac_func_search_save_LIBS
+LIBS=$ac_func_search_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_inet_pton" >&5
 printf "%s\n" "$ac_cv_search_inet_pton" >&6; }
@@ -36661,8 +37706,8 @@ if test "$ac_res" != no
 then :
   test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
 
-else $as_nop
-  ac_fn_c_check_func "$LINENO" "inet_pton" "ac_cv_func_inet_pton"
+else case e in #(
+  e) ac_fn_c_check_func "$LINENO" "inet_pton" "ac_cv_func_inet_pton"
 if test "x$ac_cv_func_inet_pton" = xyes
 then :
   printf "%s\n" "#define HAVE_INET_PTON 1" >>confdefs.h
@@ -36672,7 +37717,8 @@ fi
        if test $ac_cv_func_inet_pton = no; then
          HAVE_INET_PTON=0
        fi
-
+       ;;
+esac
 fi
 
     LIBS=$gl_save_LIBS
@@ -36692,8 +37738,9 @@ fi
 if test "x$ac_cv_have_decl_inet_pton" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_INET_PTON $ac_have_decl" >>confdefs.h
 
@@ -36749,8 +37796,8 @@ printf %s "checking whether byte orderin
 if test ${ac_cv_c_bigendian+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_cv_c_bigendian=unknown
+else case e in #(
+  e) ac_cv_c_bigendian=unknown
     # See if we're dealing with a universal compiler.
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -36796,8 +37843,8 @@ rm -f core conftest.err conftest.$ac_obj
 int
 main (void)
 {
-#if ! (defined BYTE_ORDER && defined BIG_ENDIAN \
-		     && defined LITTLE_ENDIAN && BYTE_ORDER && BIG_ENDIAN \
+#if ! (defined BYTE_ORDER && defined BIG_ENDIAN \\
+		     && defined LITTLE_ENDIAN && BYTE_ORDER && BIG_ENDIAN \\
 		     && LITTLE_ENDIAN)
 	      bogus endian macros
 	     #endif
@@ -36828,8 +37875,9 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_c_bigendian=yes
-else $as_nop
-  ac_cv_c_bigendian=no
+else case e in #(
+  e) ac_cv_c_bigendian=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
@@ -36873,8 +37921,9 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_c_bigendian=yes
-else $as_nop
-  ac_cv_c_bigendian=no
+else case e in #(
+  e) ac_cv_c_bigendian=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
@@ -36901,22 +37950,23 @@ unsigned short int ascii_mm[] =
 		int use_ebcdic (int i) {
 		  return ebcdic_mm[i] + ebcdic_ii[i];
 		}
-		extern int foo;
-
-int
-main (void)
-{
-return use_ascii (foo) == use_ebcdic (foo);
-  ;
-  return 0;
-}
+		int
+		main (int argc, char **argv)
+		{
+		  /* Intimidate the compiler so that it does not
+		     optimize the arrays away.  */
+		  char *p = argv[0];
+		  ascii_mm[1] = *p++; ebcdic_mm[1] = *p++;
+		  ascii_ii[1] = *p++; ebcdic_ii[1] = *p++;
+		  return use_ascii (argc) == use_ebcdic (*p);
+		}
 _ACEOF
-if ac_fn_c_try_compile "$LINENO"
+if ac_fn_c_try_link "$LINENO"
 then :
-  if grep BIGenDianSyS conftest.$ac_objext >/dev/null; then
+  if grep BIGenDianSyS conftest$ac_exeext >/dev/null; then
 	      ac_cv_c_bigendian=yes
 	    fi
-	    if grep LiTTleEnDian conftest.$ac_objext >/dev/null ; then
+	    if grep LiTTleEnDian conftest$ac_exeext >/dev/null ; then
 	      if test "$ac_cv_c_bigendian" = unknown; then
 		ac_cv_c_bigendian=no
 	      else
@@ -36925,9 +37975,10 @@ then :
 	      fi
 	    fi
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $ac_includes_default
 int
@@ -36950,14 +38001,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   ac_cv_c_bigendian=no
-else $as_nop
-  ac_cv_c_bigendian=yes
+else case e in #(
+  e) ac_cv_c_bigendian=yes ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-    fi
+    fi ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_bigendian" >&5
 printf "%s\n" "$ac_cv_c_bigendian" >&6; }
@@ -36996,8 +38050,8 @@ printf %s "checking for ioctl with POSIX
 if test ${gl_cv_func_ioctl_posix_signature+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/ioctl.h>
               /* On some platforms, ioctl() is declared in <unistd.h>.  */
@@ -37020,11 +38074,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_func_ioctl_posix_signature=yes
-else $as_nop
-  gl_cv_func_ioctl_posix_signature=no
+else case e in #(
+  e) gl_cv_func_ioctl_posix_signature=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_ioctl_posix_signature" >&5
 printf "%s\n" "$gl_cv_func_ioctl_posix_signature" >&6; }
@@ -37167,8 +38223,8 @@ printf %s "checking for newlocale... " >
 if test ${gl_cv_onwards_func_newlocale+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -37212,7 +38268,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_newlocale" >&5
 printf "%s\n" "$gl_cv_onwards_func_newlocale" >&6; }
@@ -37243,8 +38300,8 @@ printf %s "checking for newlocale... " >
 if test ${gl_cv_onwards_func_newlocale+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -37288,7 +38345,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_newlocale" >&5
 printf "%s\n" "$gl_cv_onwards_func_newlocale" >&6; }
@@ -37311,8 +38369,8 @@ printf %s "checking for duplocale... " >
 if test ${gl_cv_onwards_func_duplocale+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -37356,7 +38414,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_duplocale" >&5
 printf "%s\n" "$gl_cv_onwards_func_duplocale" >&6; }
@@ -37379,8 +38438,8 @@ printf %s "checking for freelocale... "
 if test ${gl_cv_onwards_func_freelocale+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -37424,7 +38483,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_freelocale" >&5
 printf "%s\n" "$gl_cv_onwards_func_freelocale" >&6; }
@@ -37507,8 +38567,8 @@ printf %s "checking for newlocale... " >
 if test ${gl_cv_onwards_func_newlocale+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -37552,7 +38612,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_newlocale" >&5
 printf "%s\n" "$gl_cv_onwards_func_newlocale" >&6; }
@@ -37579,8 +38640,8 @@ printf %s "checking for a traditional fr
 if test ${gt_cv_locale_fr+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -37707,7 +38768,8 @@ _ACEOF
       esac
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_fr" >&5
 printf "%s\n" "$gt_cv_locale_fr" >&6; }
@@ -37721,8 +38783,8 @@ printf %s "checking for a french Unicode
 if test ${gt_cv_locale_fr_utf8+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -37836,7 +38898,8 @@ _ACEOF
       esac
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_fr_utf8" >&5
 printf "%s\n" "$gt_cv_locale_fr_utf8" >&6; }
@@ -37851,8 +38914,8 @@ printf %s "checking for a traditional ja
 if test ${gt_cv_locale_ja+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -37985,7 +39048,8 @@ _ACEOF
       esac
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_ja" >&5
 printf "%s\n" "$gt_cv_locale_ja" >&6; }
@@ -38000,8 +39064,8 @@ printf %s "checking for a transitional c
 if test ${gt_cv_locale_zh_CN+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -38128,7 +39192,8 @@ _ACEOF
       gt_cv_locale_zh_CN=none
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_zh_CN" >&5
 printf "%s\n" "$gt_cv_locale_zh_CN" >&6; }
@@ -38142,8 +39207,8 @@ printf %s "checking for a french Unicode
 if test ${gt_cv_locale_fr_utf8+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -38257,7 +39322,8 @@ _ACEOF
       esac
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_fr_utf8" >&5
 printf "%s\n" "$gt_cv_locale_fr_utf8" >&6; }
@@ -38343,15 +39409,21 @@ printf %s "checking for library containi
 if test ${ac_cv_search_nanosleep+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_func_search_save_LIBS=$LIBS
+else case e in #(
+  e) ac_func_search_save_LIBS=$LIBS
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char nanosleep ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char nanosleep (void);
 int
 main (void)
 {
@@ -38382,11 +39454,13 @@ done
 if test ${ac_cv_search_nanosleep+y}
 then :
 
-else $as_nop
-  ac_cv_search_nanosleep=no
+else case e in #(
+  e) ac_cv_search_nanosleep=no ;;
+esac
 fi
 rm conftest.$ac_ext
-LIBS=$ac_func_search_save_LIBS
+LIBS=$ac_func_search_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_nanosleep" >&5
 printf "%s\n" "$ac_cv_search_nanosleep" >&6; }
@@ -38414,8 +39488,8 @@ printf %s "checking for working nanoslee
 if test ${gl_cv_func_nanosleep+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
      if test "$cross_compiling" = yes
 then :
   case "$host_os" in
@@ -38427,8 +39501,8 @@ then :
             gl_cv_func_nanosleep="$gl_cross_guess_normal" ;;
         esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
           #include <errno.h>
@@ -38497,18 +39571,21 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_nanosleep=yes
-else $as_nop
-  case $? in
+else case e in #(
+  e) case $? in
         4|5|6) gl_cv_func_nanosleep='no (mishandles large arguments)' ;;
         7)     gl_cv_func_nanosleep='no (mishandles negative tv_nsec)' ;;
         *)     gl_cv_func_nanosleep=no ;;
-        esac
+        esac ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_nanosleep" >&5
 printf "%s\n" "$gl_cv_func_nanosleep" >&6; }
@@ -38582,8 +39659,8 @@ printf %s "checking whether <netinet/in.
 if test ${gl_cv_header_netinet_in_h_selfcontained+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <netinet/in.h>
@@ -38598,11 +39675,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_header_netinet_in_h_selfcontained=yes
-else $as_nop
-  gl_cv_header_netinet_in_h_selfcontained=no
+else case e in #(
+  e) gl_cv_header_netinet_in_h_selfcontained=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_header_netinet_in_h_selfcontained" >&5
 printf "%s\n" "$gl_cv_header_netinet_in_h_selfcontained" >&6; }
@@ -38634,8 +39713,8 @@ printf %s "checking absolute name of <ne
 if test ${gl_cv_next_netinet_in_h+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
              if test $ac_cv_header_netinet_in_h = yes; then
 
 
@@ -38677,7 +39756,8 @@ _ACEOF
                gl_cv_next_netinet_in_h='<'netinet/in.h'>'
              fi
 
-
+          ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_next_netinet_in_h" >&5
 printf "%s\n" "$gl_cv_next_netinet_in_h" >&6; }
@@ -38745,8 +39825,8 @@ printf %s "checking for a traditional fr
 if test ${gt_cv_locale_fr+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -38873,7 +39953,8 @@ _ACEOF
       esac
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_fr" >&5
 printf "%s\n" "$gt_cv_locale_fr" >&6; }
@@ -38887,8 +39968,8 @@ printf %s "checking for a french Unicode
 if test ${gt_cv_locale_fr_utf8+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -39002,7 +40083,8 @@ _ACEOF
       esac
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_fr_utf8" >&5
 printf "%s\n" "$gt_cv_locale_fr_utf8" >&6; }
@@ -39020,8 +40102,8 @@ printf %s "checking for uselocale... " >
 if test ${gl_cv_onwards_func_uselocale+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -39065,7 +40147,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_uselocale" >&5
 printf "%s\n" "$gl_cv_onwards_func_uselocale" >&6; }
@@ -39089,8 +40172,8 @@ printf %s "checking whether uselocale wo
 if test ${gt_cv_func_uselocale_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   # Guess no on AIX and z/OS, yes otherwise.
           case "$host_os" in
@@ -39098,8 +40181,8 @@ then :
             *)                   gt_cv_func_uselocale_works="guessing yes" ;;
           esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -39117,14 +40200,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gt_cv_func_uselocale_works=yes
-else $as_nop
-  gt_cv_func_uselocale_works=no
+else case e in #(
+  e) gt_cv_func_uselocale_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_func_uselocale_works" >&5
 printf "%s\n" "$gt_cv_func_uselocale_works" >&6; }
@@ -39159,8 +40245,8 @@ printf %s "checking whether perror match
 if test ${gl_cv_func_perror_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
                                   # Guess yes on musl systems.
@@ -39171,8 +40257,8 @@ then :
               *)                  gl_cv_func_perror_works="$gl_cross_guess_normal" ;;
             esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <errno.h>
                 #include <stdio.h>
@@ -39203,14 +40289,17 @@ then :
               gl_cv_func_perror_works=no
             fi
             rm -rf conftest.txt1 conftest.txt2
-else $as_nop
-  gl_cv_func_perror_works=no
+else case e in #(
+  e) gl_cv_func_perror_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+         ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_perror_works" >&5
 printf "%s\n" "$gl_cv_func_perror_works" >&6; }
@@ -39340,8 +40429,8 @@ printf %s "checking whether signature of
 if test ${gl_cv_sig_pselect+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/select.h>
 
@@ -39359,11 +40448,13 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_sig_pselect=yes
-else $as_nop
-  gl_cv_sig_pselect=no
+else case e in #(
+  e) gl_cv_sig_pselect=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext
+    conftest$ac_exeext conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_sig_pselect" >&5
 printf "%s\n" "$gl_cv_sig_pselect" >&6; }
@@ -39373,8 +40464,8 @@ printf %s "checking whether pselect dete
 if test ${gl_cv_func_pselect_detects_ebadf+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
         if test "$cross_compiling" = yes
 then :
 
@@ -39389,8 +40480,8 @@ then :
             *)               gl_cv_func_pselect_detects_ebadf="$gl_cross_guess_normal" ;;
            esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <sys/types.h>
@@ -39425,14 +40516,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_pselect_detects_ebadf=yes
-else $as_nop
-  gl_cv_func_pselect_detects_ebadf=no
+else case e in #(
+  e) gl_cv_func_pselect_detects_ebadf=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_pselect_detects_ebadf" >&5
 printf "%s\n" "$gl_cv_func_pselect_detects_ebadf" >&6; }
@@ -39527,8 +40621,8 @@ printf %s "checking whether pthread_crea
 if test ${gl_cv_func_pthread_create+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  saved_LIBS="$LIBS"
+else case e in #(
+  e) saved_LIBS="$LIBS"
          LIBS="$LIBS $LIBPMULTITHREAD"
          cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -39546,13 +40640,15 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_func_pthread_create=yes
-else $as_nop
-  gl_cv_func_pthread_create=no
+else case e in #(
+  e) gl_cv_func_pthread_create=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
          LIBS="$saved_LIBS"
-
+         ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_pthread_create" >&5
 printf "%s\n" "$gl_cv_func_pthread_create" >&6; }
@@ -39615,8 +40711,8 @@ printf %s "checking whether pthread_sigm
 if test ${gl_cv_func_pthread_sigmask_macro+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <pthread.h>
@@ -39626,15 +40722,17 @@ else $as_nop
 #endif
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "headers_define_pthread_sigmask" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "headers_define_pthread_sigmask" >/dev/null 2>&1
 then :
   gl_cv_func_pthread_sigmask_macro=yes
-else $as_nop
-  gl_cv_func_pthread_sigmask_macro=no
+else case e in #(
+  e) gl_cv_func_pthread_sigmask_macro=no ;;
+esac
 fi
 rm -rf conftest*
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_pthread_sigmask_macro" >&5
 printf "%s\n" "$gl_cv_func_pthread_sigmask_macro" >&6; }
@@ -39658,8 +40756,8 @@ printf %s "checking for pthread_sigmask
 if test ${gl_cv_func_pthread_sigmask_in_LIBMULTITHREAD+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gl_save_LIBS="$LIBS"
+else case e in #(
+  e) gl_save_LIBS="$LIBS"
                LIBS="$LIBS $LIBMULTITHREAD"
                cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -39678,13 +40776,15 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_func_pthread_sigmask_in_LIBMULTITHREAD=yes
-else $as_nop
-  gl_cv_func_pthread_sigmask_in_LIBMULTITHREAD=no
+else case e in #(
+  e) gl_cv_func_pthread_sigmask_in_LIBMULTITHREAD=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
                LIBS="$gl_save_LIBS"
-
+               ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_pthread_sigmask_in_LIBMULTITHREAD" >&5
 printf "%s\n" "$gl_cv_func_pthread_sigmask_in_LIBMULTITHREAD" >&6; }
@@ -39724,8 +40824,8 @@ printf %s "checking whether pthread_sigm
 if test ${gl_cv_func_pthread_sigmask_in_libc_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
               if test "$cross_compiling" = yes
 then :
 
@@ -39736,8 +40836,8 @@ then :
                      gl_cv_func_pthread_sigmask_in_libc_works="guessing yes";;
                  esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
                    #include <pthread.h>
@@ -39753,14 +40853,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_pthread_sigmask_in_libc_works=no
-else $as_nop
-  gl_cv_func_pthread_sigmask_in_libc_works=yes
+else case e in #(
+  e) gl_cv_func_pthread_sigmask_in_libc_works=yes ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+             ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_pthread_sigmask_in_libc_works" >&5
 printf "%s\n" "$gl_cv_func_pthread_sigmask_in_libc_works" >&6; }
@@ -39780,8 +40883,8 @@ printf %s "checking whether pthread_sigm
 if test ${gl_cv_func_pthread_sigmask_return_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
         gl_save_LIBS="$LIBS"
         LIBS="$LIBS $PTHREAD_SIGMASK_LIB"
         if test "$cross_compiling" = yes
@@ -39793,8 +40896,8 @@ then :
                gl_cv_func_pthread_sigmask_return_works="guessing yes";;
            esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <pthread.h>
@@ -39812,15 +40915,18 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_pthread_sigmask_return_works=yes
-else $as_nop
-  gl_cv_func_pthread_sigmask_return_works=no
+else case e in #(
+  e) gl_cv_func_pthread_sigmask_return_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
         LIBS="$gl_save_LIBS"
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_pthread_sigmask_return_works" >&5
 printf "%s\n" "$gl_cv_func_pthread_sigmask_return_works" >&6; }
@@ -39838,8 +40944,8 @@ printf %s "checking whether pthread_sigm
 if test ${gl_cv_func_pthread_sigmask_unblock_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
         case "$host_os" in
           irix*)
             gl_cv_func_pthread_sigmask_unblock_works="guessing no";;
@@ -39851,8 +40957,8 @@ else $as_nop
         if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <limits.h>
@@ -39899,15 +41005,18 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   :
-else $as_nop
-  gl_cv_func_pthread_sigmask_unblock_works=no
+else case e in #(
+  e) gl_cv_func_pthread_sigmask_unblock_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
         LIBS=$gl_save_LIBS
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_pthread_sigmask_unblock_works" >&5
 printf "%s\n" "$gl_cv_func_pthread_sigmask_unblock_works" >&6; }
@@ -39978,8 +41087,8 @@ printf %s "checking for putenv compatibl
 if test ${gl_cv_func_svid_putenv+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
           case "$host_os" in
                               # Guess yes on glibc systems.
@@ -39992,8 +41101,8 @@ then :
           *)                  gl_cv_func_svid_putenv="$gl_cross_guess_normal" ;;
         esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $ac_includes_default
 
@@ -40025,14 +41134,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_svid_putenv=yes
-else $as_nop
-  gl_cv_func_svid_putenv=no
+else case e in #(
+  e) gl_cv_func_svid_putenv=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_svid_putenv" >&5
 printf "%s\n" "$gl_cv_func_svid_putenv" >&6; }
@@ -40064,8 +41176,9 @@ fi
 if test "x$ac_cv_have_decl__putenv" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL__PUTENV $ac_have_decl" >>confdefs.h
 
@@ -40207,8 +41320,9 @@ printf "%s\n" "#define GNULIB_TEST_RAISE
 if test "x$ac_cv_have_decl_sched_yield" = xyes
 then :
 
-else $as_nop
-  HAVE_SCHED_YIELD=0
+else case e in #(
+  e) HAVE_SCHED_YIELD=0 ;;
+esac
 fi
   fi
 
@@ -40264,8 +41378,8 @@ printf %s "checking whether select suppo
 if test ${gl_cv_func_select_supports0+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
         if test "$cross_compiling" = yes
 then :
 
@@ -40276,8 +41390,8 @@ then :
              *)        gl_cv_func_select_supports0="guessing yes";;
            esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <sys/types.h>
@@ -40296,14 +41410,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_select_supports0=yes
-else $as_nop
-  gl_cv_func_select_supports0=no
+else case e in #(
+  e) gl_cv_func_select_supports0=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_select_supports0" >&5
 printf "%s\n" "$gl_cv_func_select_supports0" >&6; }
@@ -40317,8 +41434,8 @@ printf %s "checking whether select detec
 if test ${gl_cv_func_select_detects_ebadf+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
         if test "$cross_compiling" = yes
 then :
 
@@ -40333,8 +41450,8 @@ then :
             *)               gl_cv_func_select_detects_ebadf="$gl_cross_guess_normal" ;;
            esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <sys/types.h>
@@ -40369,14 +41486,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_select_detects_ebadf=yes
-else $as_nop
-  gl_cv_func_select_detects_ebadf=no
+else case e in #(
+  e) gl_cv_func_select_detects_ebadf=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_select_detects_ebadf" >&5
 printf "%s\n" "$gl_cv_func_select_detects_ebadf" >&6; }
@@ -40405,8 +41525,9 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
 
-else $as_nop
-  SELECT_LIB="$SELECT_LIB -luser32"
+else case e in #(
+  e) SELECT_LIB="$SELECT_LIB -luser32" ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
@@ -40467,8 +41588,8 @@ printf %s "checking whether setenv valid
 if test ${gl_cv_func_setenv_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
                              # Guess yes on glibc systems.
@@ -40479,8 +41600,8 @@ then :
          *)                  gl_cv_func_setenv_works="$gl_cross_guess_normal" ;;
        esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
        #include <stdlib.h>
@@ -40513,13 +41634,16 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_setenv_works=yes
-else $as_nop
-  gl_cv_func_setenv_works=no
+else case e in #(
+  e) gl_cv_func_setenv_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_setenv_works" >&5
 printf "%s\n" "$gl_cv_func_setenv_works" >&6; }
@@ -40589,8 +41713,8 @@ printf %s "checking whether setlocale su
 if test ${gl_cv_func_setlocale_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
                                # Guess no on Android.
@@ -40599,8 +41723,8 @@ then :
               *)               gl_cv_func_setlocale_works="guessing yes";;
             esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -40612,14 +41736,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_setlocale_works=yes
-else $as_nop
-  gl_cv_func_setlocale_works=no
+else case e in #(
+  e) gl_cv_func_setlocale_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+         ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_setlocale_works" >&5
 printf "%s\n" "$gl_cv_func_setlocale_works" >&6; }
@@ -40708,8 +41835,8 @@ printf %s "checking for a traditional fr
 if test ${gt_cv_locale_fr+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -40836,7 +41963,8 @@ _ACEOF
       esac
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_fr" >&5
 printf "%s\n" "$gt_cv_locale_fr" >&6; }
@@ -40850,8 +41978,8 @@ printf %s "checking for a french Unicode
 if test ${gt_cv_locale_fr_utf8+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -40965,7 +42093,8 @@ _ACEOF
       esac
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_fr_utf8" >&5
 printf "%s\n" "$gt_cv_locale_fr_utf8" >&6; }
@@ -40980,8 +42109,8 @@ printf %s "checking for a traditional ja
 if test ${gt_cv_locale_ja+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -41114,7 +42243,8 @@ _ACEOF
       esac
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_ja" >&5
 printf "%s\n" "$gt_cv_locale_ja" >&6; }
@@ -41129,8 +42259,8 @@ printf %s "checking for a transitional c
 if test ${gt_cv_locale_zh_CN+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -41257,7 +42387,8 @@ _ACEOF
       gt_cv_locale_zh_CN=none
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_zh_CN" >&5
 printf "%s\n" "$gt_cv_locale_zh_CN" >&6; }
@@ -41443,14 +42574,14 @@ printf "%s\n" "#define GNULIB_TEST_SOCKE
 if test "x$ac_cv_type_socklen_t" = xyes
 then :
 
-else $as_nop
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for socklen_t equivalent" >&5
+else case e in #(
+  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for socklen_t equivalent" >&5
 printf %s "checking for socklen_t equivalent... " >&6; }
 if test ${gl_cv_socklen_t_equiv+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  # Systems have either "struct sockaddr *" or
+else case e in #(
+  e) # Systems have either "struct sockaddr *" or
          # "void *" as the second argument to getpeername
          gl_cv_socklen_t_equiv=
          for arg2 in "struct sockaddr" void; do
@@ -41482,13 +42613,15 @@ rm -f core conftest.err conftest.$ac_obj
          if test "$gl_cv_socklen_t_equiv" = ""; then
            as_fn_error $? "Cannot find a type to use in place of socklen_t" "$LINENO" 5
          fi
-
+         ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_socklen_t_equiv" >&5
 printf "%s\n" "$gl_cv_socklen_t_equiv" >&6; }
 
 printf "%s\n" "#define socklen_t $gl_cv_socklen_t_equiv" >>confdefs.h
-
+ ;;
+esac
 fi
 
 
@@ -41539,8 +42672,8 @@ printf %s "checking for catgets... " >&6
 if test ${gl_cv_onwards_func_catgets+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -41584,7 +42717,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_catgets" >&5
 printf "%s\n" "$gl_cv_onwards_func_catgets" >&6; }
@@ -41650,8 +42784,8 @@ printf %s "checking whether symlink hand
 if test ${gl_cv_func_symlink_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
                              # Guess yes on Linux systems.
@@ -41664,8 +42798,8 @@ then :
             *)               gl_cv_func_symlink_works="$gl_cross_guess_normal" ;;
           esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <unistd.h>
 
@@ -41688,14 +42822,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_symlink_works=yes
-else $as_nop
-  gl_cv_func_symlink_works=no
+else case e in #(
+  e) gl_cv_func_symlink_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-      rm -f conftest.f conftest.link conftest.lnk2
+      rm -f conftest.f conftest.link conftest.lnk2 ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_symlink_works" >&5
 printf "%s\n" "$gl_cv_func_symlink_works" >&6; }
@@ -41795,8 +42932,8 @@ printf %s "checking for pthread_atfork..
 if test ${gl_cv_onwards_func_pthread_atfork+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   exec 9>&6 6>/dev/null
 
        case "$host_os" in
@@ -41840,7 +42977,8 @@ fi
 
   exec 6>&9 9>&-
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_onwards_func_pthread_atfork" >&5
 printf "%s\n" "$gl_cv_onwards_func_pthread_atfork" >&6; }
@@ -41873,8 +43011,8 @@ printf %s "checking whether time() works
 if test ${gl_cv_func_time_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-                                case "$host_os" in
+else case e in #(
+  e)                               case "$host_os" in
        linux*-gnu*)
          cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -41888,11 +43026,12 @@ else $as_nop
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "Unlucky" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "Unlucky" >/dev/null 2>&1
 then :
   gl_cv_func_time_works="guessing no"
-else $as_nop
-  gl_cv_func_time_works="guessing yes"
+else case e in #(
+  e) gl_cv_func_time_works="guessing yes" ;;
+esac
 fi
 rm -rf conftest*
 
@@ -41901,7 +43040,8 @@ rm -rf conftest*
        mingw*) gl_cv_func_time_works="guessing no";;
        *) gl_cv_func_time_works="guessing yes";;
      esac
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_time_works" >&5
 printf "%s\n" "$gl_cv_func_time_works" >&6; }
@@ -41999,8 +43139,8 @@ printf %s "checking for unsetenv() retur
 if test ${gt_cv_func_unsetenv_ret+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #undef _BSD
@@ -42023,10 +43163,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gt_cv_func_unsetenv_ret='int'
-else $as_nop
-  gt_cv_func_unsetenv_ret='void'
+else case e in #(
+  e) gt_cv_func_unsetenv_ret='void' ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_func_unsetenv_ret" >&5
 printf "%s\n" "$gt_cv_func_unsetenv_ret" >&6; }
@@ -42042,8 +43184,8 @@ printf %s "checking whether unsetenv obe
 if test ${gl_cv_func_unsetenv_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test "$cross_compiling" = yes
+else case e in #(
+  e) if test "$cross_compiling" = yes
 then :
   case "$host_os" in
                     # Guess yes on glibc systems.
@@ -42052,8 +43194,8 @@ then :
             *)      gl_cv_func_unsetenv_works="$gl_cross_guess_normal" ;;
           esac
 
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
             #include <stdlib.h>
@@ -42090,14 +43232,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_unsetenv_works=yes
-else $as_nop
-  gl_cv_func_unsetenv_works=no
+else case e in #(
+  e) gl_cv_func_unsetenv_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_unsetenv_works" >&5
 printf "%s\n" "$gl_cv_func_unsetenv_works" >&6; }
@@ -42168,8 +43313,8 @@ printf %s "checking for a traditional fr
 if test ${gt_cv_locale_fr+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -42296,7 +43441,8 @@ _ACEOF
       esac
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_fr" >&5
 printf "%s\n" "$gt_cv_locale_fr" >&6; }
@@ -42310,8 +43456,8 @@ printf %s "checking for a french Unicode
 if test ${gt_cv_locale_fr_utf8+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -42425,7 +43571,8 @@ _ACEOF
       esac
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_fr_utf8" >&5
 printf "%s\n" "$gt_cv_locale_fr_utf8" >&6; }
@@ -42440,8 +43587,8 @@ printf %s "checking for a traditional ja
 if test ${gt_cv_locale_ja+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -42574,7 +43721,8 @@ _ACEOF
       esac
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_ja" >&5
 printf "%s\n" "$gt_cv_locale_ja" >&6; }
@@ -42589,8 +43737,8 @@ printf %s "checking for a transitional c
 if test ${gt_cv_locale_zh_CN+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -42717,7 +43865,8 @@ _ACEOF
       gt_cv_locale_zh_CN=none
     fi
     rm -fr conftest*
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_locale_zh_CN" >&5
 printf "%s\n" "$gt_cv_locale_zh_CN" >&6; }
@@ -42741,8 +43890,8 @@ printf %s "checking whether wctob works.
 if test ${gl_cv_func_wctob_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
                         case "$host_os" in
             # Guess no on Solaris <= 9 and Cygwin.
           solaris2.[1-9] | solaris2.[1-9].* | cygwin*)
@@ -42758,8 +43907,8 @@ else $as_nop
             if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -42782,11 +43931,13 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   :
-else $as_nop
-  gl_cv_func_wctob_works=no
+else case e in #(
+  e) gl_cv_func_wctob_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
             ;;
@@ -42795,8 +43946,8 @@ fi
           if test "$cross_compiling" = yes
 then :
   :
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <locale.h>
@@ -42818,15 +43969,18 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   gl_cv_func_wctob_works=yes
-else $as_nop
-  gl_cv_func_wctob_works=no
+else case e in #(
+  e) gl_cv_func_wctob_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
         fi
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_func_wctob_works" >&5
 printf "%s\n" "$gl_cv_func_wctob_works" >&6; }
@@ -42843,8 +43997,9 @@ printf "%s\n" "$gl_cv_func_wctob_works"
 if test "x$ac_cv_have_decl_wctob" = xyes
 then :
   ac_have_decl=1
-else $as_nop
-  ac_have_decl=0
+else case e in #(
+  e) ac_have_decl=0 ;;
+esac
 fi
 printf "%s\n" "#define HAVE_DECL_WCTOB $ac_have_decl" >>confdefs.h
 
@@ -43014,13 +44169,14 @@ then :
      *)      as_fn_error $? "bad value $enableval for gcc-warnings option" "$LINENO" 5 ;;
    esac
    gl_gcc_warnings=$enableval
-else $as_nop
-  if test -d "$srcdir"/.git; then
+else case e in #(
+  e) if test -d "$srcdir"/.git; then
      gl_gcc_warnings=yes
    else
      gl_gcc_warnings=no
    fi
-
+ ;;
+esac
 fi
 
 
@@ -43080,8 +44236,8 @@ printf %s "checking whether -Wno-missing
 if test ${gl_cv_cc_nomfi_supported+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gl_save_CFLAGS="$CFLAGS"
+else case e in #(
+  e) gl_save_CFLAGS="$CFLAGS"
        CFLAGS="$CFLAGS -Wextra -Werror -Wno-missing-field-initializers"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -43097,12 +44253,14 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_cc_nomfi_supported=yes
-else $as_nop
-  gl_cv_cc_nomfi_supported=no
+else case e in #(
+  e) gl_cv_cc_nomfi_supported=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
        CFLAGS="$gl_save_CFLAGS"
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_cc_nomfi_supported" >&5
 printf "%s\n" "$gl_cv_cc_nomfi_supported" >&6; }
@@ -43113,8 +44271,8 @@ printf %s "checking whether -Wno-missing
 if test ${gl_cv_cc_nomfi_needed+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gl_save_CFLAGS="$CFLAGS"
+else case e in #(
+  e) gl_save_CFLAGS="$CFLAGS"
          CFLAGS="$CFLAGS -Wextra -Werror"
          cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -43136,12 +44294,14 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_cc_nomfi_needed=no
-else $as_nop
-  gl_cv_cc_nomfi_needed=yes
+else case e in #(
+  e) gl_cv_cc_nomfi_needed=yes ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
          CFLAGS="$gl_save_CFLAGS"
-
+         ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_cc_nomfi_needed" >&5
 printf "%s\n" "$gl_cv_cc_nomfi_needed" >&6; }
@@ -43152,8 +44312,8 @@ printf %s "checking whether -Wuninitiali
 if test ${gl_cv_cc_uninitialized_supported+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gl_save_CFLAGS="$CFLAGS"
+else case e in #(
+  e) gl_save_CFLAGS="$CFLAGS"
        CFLAGS="$CFLAGS -Werror -Wuninitialized"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -43169,12 +44329,14 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_cc_uninitialized_supported=yes
-else $as_nop
-  gl_cv_cc_uninitialized_supported=no
+else case e in #(
+  e) gl_cv_cc_uninitialized_supported=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
        CFLAGS="$gl_save_CFLAGS"
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_cc_uninitialized_supported" >&5
 printf "%s\n" "$gl_cv_cc_uninitialized_supported" >&6; }
@@ -43318,8 +44480,8 @@ printf %s "checking whether C compiler h
 if test ${gl_cv_warn_c__Werror__Wunknown_warning_option+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   gl_save_compiler_FLAGS="$CFLAGS"
   as_fn_append CFLAGS " $gl_unknown_warnings_are_errors -Werror -Wunknown-warning-option"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -43336,21 +44498,24 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_warn_c__Werror__Wunknown_warning_option=yes
-else $as_nop
-  gl_cv_warn_c__Werror__Wunknown_warning_option=no
+else case e in #(
+  e) gl_cv_warn_c__Werror__Wunknown_warning_option=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
   CFLAGS="$gl_save_compiler_FLAGS"
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_warn_c__Werror__Wunknown_warning_option" >&5
 printf "%s\n" "$gl_cv_warn_c__Werror__Wunknown_warning_option" >&6; }
 if test "x$gl_cv_warn_c__Werror__Wunknown_warning_option" = xyes
 then :
   gl_unknown_warnings_are_errors='-Wunknown-warning-option -Werror'
-else $as_nop
-  gl_unknown_warnings_are_errors=
+else case e in #(
+  e) gl_unknown_warnings_are_errors= ;;
+esac
 fi
 
   ac_ext=c
@@ -43362,7 +44527,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu
 
 
 
-as_gl_Warn=`printf "%s\n" "gl_cv_warn_c_$w" | $as_tr_sh`
+as_gl_Warn=`printf "%s\n" "gl_cv_warn_c_$w" | sed "$as_sed_sh"`
 gl_positive="$w"
 case $gl_positive in
   -Wno-*) gl_positive=-W`expr "X$gl_positive" : 'X-Wno-\(.*\)'` ;;
@@ -43372,8 +44537,8 @@ printf %s "checking whether C compiler h
 if eval test \${$as_gl_Warn+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   gl_save_compiler_FLAGS="$CFLAGS"
   as_fn_append CFLAGS " $gl_unknown_warnings_are_errors $gl_positive"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -43390,13 +44555,15 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   eval "$as_gl_Warn=yes"
-else $as_nop
-  eval "$as_gl_Warn=no"
+else case e in #(
+  e) eval "$as_gl_Warn=no" ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
   CFLAGS="$gl_save_compiler_FLAGS"
-
+ ;;
+esac
 fi
 eval ac_res=\$$as_gl_Warn
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -43415,8 +44582,8 @@ printf %s "checking whether C compiler h
 if test ${gl_cv_warn_c__Wno_missing_field_initializers+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   gl_save_compiler_FLAGS="$CFLAGS"
   as_fn_append CFLAGS " $gl_unknown_warnings_are_errors -Wmissing-field-initializers"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -43433,13 +44600,15 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_warn_c__Wno_missing_field_initializers=yes
-else $as_nop
-  gl_cv_warn_c__Wno_missing_field_initializers=no
+else case e in #(
+  e) gl_cv_warn_c__Wno_missing_field_initializers=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
   CFLAGS="$gl_save_compiler_FLAGS"
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_warn_c__Wno_missing_field_initializers" >&5
 printf "%s\n" "$gl_cv_warn_c__Wno_missing_field_initializers" >&6; }
@@ -43456,8 +44625,8 @@ printf %s "checking whether C compiler h
 if test ${gl_cv_warn_c__Wno_sign_compare+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   gl_save_compiler_FLAGS="$CFLAGS"
   as_fn_append CFLAGS " $gl_unknown_warnings_are_errors -Wsign-compare"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -43474,13 +44643,15 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_warn_c__Wno_sign_compare=yes
-else $as_nop
-  gl_cv_warn_c__Wno_sign_compare=no
+else case e in #(
+  e) gl_cv_warn_c__Wno_sign_compare=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
   CFLAGS="$gl_save_compiler_FLAGS"
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_warn_c__Wno_sign_compare" >&5
 printf "%s\n" "$gl_cv_warn_c__Wno_sign_compare" >&6; }
@@ -43497,8 +44668,8 @@ printf %s "checking whether C compiler h
 if test ${gl_cv_warn_c__Wno_pointer_sign+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   gl_save_compiler_FLAGS="$CFLAGS"
   as_fn_append CFLAGS " $gl_unknown_warnings_are_errors -Wpointer-sign"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -43515,13 +44686,15 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_warn_c__Wno_pointer_sign=yes
-else $as_nop
-  gl_cv_warn_c__Wno_pointer_sign=no
+else case e in #(
+  e) gl_cv_warn_c__Wno_pointer_sign=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
   CFLAGS="$gl_save_compiler_FLAGS"
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_warn_c__Wno_pointer_sign" >&5
 printf "%s\n" "$gl_cv_warn_c__Wno_pointer_sign" >&6; }
@@ -43538,8 +44711,8 @@ printf %s "checking whether C compiler h
 if test ${gl_cv_warn_c__Wno_unused_parameter+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   gl_save_compiler_FLAGS="$CFLAGS"
   as_fn_append CFLAGS " $gl_unknown_warnings_are_errors -Wunused-parameter"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -43556,13 +44729,15 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_warn_c__Wno_unused_parameter=yes
-else $as_nop
-  gl_cv_warn_c__Wno_unused_parameter=no
+else case e in #(
+  e) gl_cv_warn_c__Wno_unused_parameter=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
   CFLAGS="$gl_save_compiler_FLAGS"
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_warn_c__Wno_unused_parameter" >&5
 printf "%s\n" "$gl_cv_warn_c__Wno_unused_parameter" >&6; }
@@ -43579,8 +44754,8 @@ printf %s "checking whether C compiler h
 if test ${gl_cv_warn_c__Wno_unused_macros+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   gl_save_compiler_FLAGS="$CFLAGS"
   as_fn_append CFLAGS " $gl_unknown_warnings_are_errors -Wunused-macros"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -43597,13 +44772,15 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_warn_c__Wno_unused_macros=yes
-else $as_nop
-  gl_cv_warn_c__Wno_unused_macros=no
+else case e in #(
+  e) gl_cv_warn_c__Wno_unused_macros=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
   CFLAGS="$gl_save_compiler_FLAGS"
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_warn_c__Wno_unused_macros" >&5
 printf "%s\n" "$gl_cv_warn_c__Wno_unused_macros" >&6; }
@@ -43620,8 +44797,8 @@ printf %s "checking whether C compiler h
 if test ${gl_cv_warn_c__Wno_format_nonliteral+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   gl_save_compiler_FLAGS="$CFLAGS"
   as_fn_append CFLAGS " $gl_unknown_warnings_are_errors -Wformat-nonliteral"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -43638,13 +44815,15 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_warn_c__Wno_format_nonliteral=yes
-else $as_nop
-  gl_cv_warn_c__Wno_format_nonliteral=no
+else case e in #(
+  e) gl_cv_warn_c__Wno_format_nonliteral=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
   CFLAGS="$gl_save_compiler_FLAGS"
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_warn_c__Wno_format_nonliteral" >&5
 printf "%s\n" "$gl_cv_warn_c__Wno_format_nonliteral" >&6; }
@@ -43661,8 +44840,8 @@ printf %s "checking whether C compiler h
 if test ${gl_cv_warn_c__Wabi_2+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   gl_save_compiler_FLAGS="$CFLAGS"
   as_fn_append CFLAGS " $gl_unknown_warnings_are_errors -Wabi=2"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -43679,13 +44858,15 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_warn_c__Wabi_2=yes
-else $as_nop
-  gl_cv_warn_c__Wabi_2=no
+else case e in #(
+  e) gl_cv_warn_c__Wabi_2=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
   CFLAGS="$gl_save_compiler_FLAGS"
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_warn_c__Wabi_2" >&5
 printf "%s\n" "$gl_cv_warn_c__Wabi_2" >&6; }
@@ -43704,8 +44885,8 @@ printf %s "checking whether C compiler h
 if test ${gl_cv_warn_c__Wno_jump_misses_init+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   gl_save_compiler_FLAGS="$CFLAGS"
   as_fn_append CFLAGS " $gl_unknown_warnings_are_errors -Wjump-misses-init"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -43722,13 +44903,15 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_warn_c__Wno_jump_misses_init=yes
-else $as_nop
-  gl_cv_warn_c__Wno_jump_misses_init=no
+else case e in #(
+  e) gl_cv_warn_c__Wno_jump_misses_init=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
   CFLAGS="$gl_save_compiler_FLAGS"
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_warn_c__Wno_jump_misses_init" >&5
 printf "%s\n" "$gl_cv_warn_c__Wno_jump_misses_init" >&6; }
@@ -43748,8 +44931,8 @@ printf %s "checking whether C compiler h
 if test ${gl_cv_warn_c__Wno_logical_op+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   gl_save_compiler_FLAGS="$CFLAGS"
   as_fn_append CFLAGS " $gl_unknown_warnings_are_errors -Wlogical-op"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -43766,13 +44949,15 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_warn_c__Wno_logical_op=yes
-else $as_nop
-  gl_cv_warn_c__Wno_logical_op=no
+else case e in #(
+  e) gl_cv_warn_c__Wno_logical_op=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
   CFLAGS="$gl_save_compiler_FLAGS"
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_warn_c__Wno_logical_op" >&5
 printf "%s\n" "$gl_cv_warn_c__Wno_logical_op" >&6; }
@@ -43790,8 +44975,8 @@ printf %s "checking whether C compiler h
 if test ${gl_cv_warn_c__fdiagnostics_show_option+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   gl_save_compiler_FLAGS="$CFLAGS"
   as_fn_append CFLAGS " $gl_unknown_warnings_are_errors -fdiagnostics-show-option"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -43808,13 +44993,15 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_warn_c__fdiagnostics_show_option=yes
-else $as_nop
-  gl_cv_warn_c__fdiagnostics_show_option=no
+else case e in #(
+  e) gl_cv_warn_c__fdiagnostics_show_option=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
   CFLAGS="$gl_save_compiler_FLAGS"
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_warn_c__fdiagnostics_show_option" >&5
 printf "%s\n" "$gl_cv_warn_c__fdiagnostics_show_option" >&6; }
@@ -43833,8 +45020,8 @@ printf %s "checking whether C compiler h
 if test ${gl_cv_warn_c__Wimplicit_fallthrough_3+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
   gl_save_compiler_FLAGS="$CFLAGS"
   as_fn_append CFLAGS " $gl_unknown_warnings_are_errors -Wimplicit-fallthrough=3"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -43851,13 +45038,15 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gl_cv_warn_c__Wimplicit_fallthrough_3=yes
-else $as_nop
-  gl_cv_warn_c__Wimplicit_fallthrough_3=no
+else case e in #(
+  e) gl_cv_warn_c__Wimplicit_fallthrough_3=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
   CFLAGS="$gl_save_compiler_FLAGS"
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_warn_c__Wimplicit_fallthrough_3" >&5
 printf "%s\n" "$gl_cv_warn_c__Wimplicit_fallthrough_3" >&6; }
@@ -43885,15 +45074,15 @@ fi
 
 # The cast to long int works around a bug in the HP C Compiler
 # version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
-# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
+# declarations like 'int a3[[(sizeof (unsigned char)) >= 0]];'.
 # This bug is HP SR number 8606223364.
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking size of off_t" >&5
 printf %s "checking size of off_t... " >&6; }
 if test ${ac_cv_sizeof_off_t+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (off_t))" "ac_cv_sizeof_off_t"        "
+else case e in #(
+  e) if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (off_t))" "ac_cv_sizeof_off_t"        "
 	#include <stdio.h>
 	#include <sys/types.h>
 	#include <unistd.h>
@@ -43901,17 +45090,19 @@ else $as_nop
 "
 then :
 
-else $as_nop
-  if test "$ac_cv_type_off_t" = yes; then
-     { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+else case e in #(
+  e) if test "$ac_cv_type_off_t" = yes; then
+     { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
 as_fn_error 77 "cannot compute sizeof (off_t)
-See \`config.log' for more details" "$LINENO" 5; }
+See 'config.log' for more details" "$LINENO" 5; }
    else
      ac_cv_sizeof_off_t=0
-   fi
+   fi ;;
+esac
 fi
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_off_t" >&5
 printf "%s\n" "$ac_cv_sizeof_off_t" >&6; }
@@ -43942,8 +45133,9 @@ then :
       IFS=$lt_save_ifs
       ;;
     esac
-else $as_nop
-  enable_shared=yes
+else case e in #(
+  e) enable_shared=yes ;;
+esac
 fi
 
 
@@ -43977,8 +45169,9 @@ then :
       IFS=$lt_save_ifs
       ;;
     esac
-else $as_nop
-  enable_shared=no
+else case e in #(
+  e) enable_shared=no ;;
+esac
 fi
 
 
@@ -44087,8 +45280,8 @@ printf %s "checking for a sed that does
 if test ${ac_cv_path_SED+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-            ac_script=s/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb/
+else case e in #(
+  e)           ac_script=s/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb/
      for ac_i in 1 2 3 4 5 6 7; do
        ac_script="$ac_script$as_nl$ac_script"
      done
@@ -44113,9 +45306,10 @@ do
       as_fn_executable_p "$ac_path_SED" || continue
 # Check for GNU ac_path_SED and select it if it is found.
   # Check for GNU $ac_path_SED
-case `"$ac_path_SED" --version 2>&1` in
+case `"$ac_path_SED" --version 2>&1` in #(
 *GNU*)
   ac_cv_path_SED="$ac_path_SED" ac_path_SED_found=:;;
+#(
 *)
   ac_count=0
   printf %s 0123456789 >"conftest.in"
@@ -44150,7 +45344,8 @@ IFS=$as_save_IFS
 else
   ac_cv_path_SED=$SED
 fi
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_SED" >&5
 printf "%s\n" "$ac_cv_path_SED" >&6; }
@@ -44170,13 +45365,90 @@ Xsed="$SED -e 1s/^X//"
 
 
 
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for egrep" >&5
+printf %s "checking for egrep... " >&6; }
+if test ${ac_cv_path_EGREP+y}
+then :
+  printf %s "(cached) " >&6
+else case e in #(
+  e) if echo a | $GREP -E '(a|b)' >/dev/null 2>&1
+   then ac_cv_path_EGREP="$GREP -E"
+   else
+     if test -z "$EGREP"; then
+  ac_path_EGREP_found=false
+  # Loop through the user's path and test for each of PROGNAME-LIST
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_prog in egrep
+   do
+    for ac_exec_ext in '' $ac_executable_extensions; do
+      ac_path_EGREP="$as_dir$ac_prog$ac_exec_ext"
+      as_fn_executable_p "$ac_path_EGREP" || continue
+# Check for GNU ac_path_EGREP and select it if it is found.
+  # Check for GNU $ac_path_EGREP
+case `"$ac_path_EGREP" --version 2>&1` in #(
+*GNU*)
+  ac_cv_path_EGREP="$ac_path_EGREP" ac_path_EGREP_found=:;;
+#(
+*)
+  ac_count=0
+  printf %s 0123456789 >"conftest.in"
+  while :
+  do
+    cat "conftest.in" "conftest.in" >"conftest.tmp"
+    mv "conftest.tmp" "conftest.in"
+    cp "conftest.in" "conftest.nl"
+    printf "%s\n" 'EGREP' >> "conftest.nl"
+    "$ac_path_EGREP" 'EGREP$' < "conftest.nl" >"conftest.out" 2>/dev/null || break
+    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
+    as_fn_arith $ac_count + 1 && ac_count=$as_val
+    if test $ac_count -gt ${ac_path_EGREP_max-0}; then
+      # Best one so far, save it but keep looking for a better one
+      ac_cv_path_EGREP="$ac_path_EGREP"
+      ac_path_EGREP_max=$ac_count
+    fi
+    # 10*(2^10) chars as input seems more than enough
+    test $ac_count -gt 10 && break
+  done
+  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
+esac
+
+      $ac_path_EGREP_found && break 3
+    done
+  done
+  done
+IFS=$as_save_IFS
+  if test -z "$ac_cv_path_EGREP"; then
+    as_fn_error $? "no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
+  fi
+else
+  ac_cv_path_EGREP=$EGREP
+fi
+
+   fi ;;
+esac
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP" >&5
+printf "%s\n" "$ac_cv_path_EGREP" >&6; }
+ EGREP="$ac_cv_path_EGREP"
+
+         EGREP_TRADITIONAL=$EGREP
+ ac_cv_path_EGREP_TRADITIONAL=$EGREP
+
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for fgrep" >&5
 printf %s "checking for fgrep... " >&6; }
 if test ${ac_cv_path_FGREP+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if echo 'ab*c' | $GREP -F 'ab*c' >/dev/null 2>&1
+else case e in #(
+  e) if echo 'ab*c' | $GREP -F 'ab*c' >/dev/null 2>&1
    then ac_cv_path_FGREP="$GREP -F"
    else
      if test -z "$FGREP"; then
@@ -44198,9 +45470,10 @@ do
       as_fn_executable_p "$ac_path_FGREP" || continue
 # Check for GNU ac_path_FGREP and select it if it is found.
   # Check for GNU $ac_path_FGREP
-case `"$ac_path_FGREP" --version 2>&1` in
+case `"$ac_path_FGREP" --version 2>&1` in #(
 *GNU*)
   ac_cv_path_FGREP="$ac_path_FGREP" ac_path_FGREP_found=:;;
+#(
 *)
   ac_count=0
   printf %s 0123456789 >"conftest.in"
@@ -44236,7 +45509,8 @@ else
   ac_cv_path_FGREP=$FGREP
 fi
 
-   fi
+   fi ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_FGREP" >&5
 printf "%s\n" "$ac_cv_path_FGREP" >&6; }
@@ -44267,8 +45541,9 @@ test -z "$GREP" && GREP=grep
 if test ${with_gnu_ld+y}
 then :
   withval=$with_gnu_ld; test no = "$withval" || with_gnu_ld=yes
-else $as_nop
-  with_gnu_ld=no
+else case e in #(
+  e) with_gnu_ld=no ;;
+esac
 fi
 
 ac_prog=ld
@@ -44313,8 +45588,8 @@ fi
 if test ${lt_cv_path_LD+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -z "$LD"; then
+else case e in #(
+  e) if test -z "$LD"; then
   lt_save_ifs=$IFS; IFS=$PATH_SEPARATOR
   for ac_dir in $PATH; do
     IFS=$lt_save_ifs
@@ -44337,7 +45612,8 @@ else $as_nop
   IFS=$lt_save_ifs
 else
   lt_cv_path_LD=$LD # Let the user override the test with a path.
-fi
+fi ;;
+esac
 fi
 
 LD=$lt_cv_path_LD
@@ -44354,8 +45630,8 @@ printf %s "checking if the linker ($LD)
 if test ${lt_cv_prog_gnu_ld+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  # I'd rather use --version here, but apparently some GNU lds only accept -v.
+else case e in #(
+  e) # I'd rather use --version here, but apparently some GNU lds only accept -v.
 case `$LD -v 2>&1 </dev/null` in
 *GNU* | *'with BFD'*)
   lt_cv_prog_gnu_ld=yes
@@ -44363,6 +45639,7 @@ case `$LD -v 2>&1 </dev/null` in
 *)
   lt_cv_prog_gnu_ld=no
   ;;
+esac ;;
 esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_gnu_ld" >&5
@@ -44382,8 +45659,8 @@ printf %s "checking for BSD- or MS-compa
 if test ${lt_cv_path_NM+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$NM"; then
+else case e in #(
+  e) if test -n "$NM"; then
   # Let the user override the test.
   lt_cv_path_NM=$NM
 else
@@ -44430,7 +45707,8 @@ else
     IFS=$lt_save_ifs
   done
   : ${lt_cv_path_NM=no}
-fi
+fi ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_path_NM" >&5
 printf "%s\n" "$lt_cv_path_NM" >&6; }
@@ -44451,8 +45729,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_DUMPBIN+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$DUMPBIN"; then
+else case e in #(
+  e) if test -n "$DUMPBIN"; then
   ac_cv_prog_DUMPBIN="$DUMPBIN" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -44474,7 +45752,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 DUMPBIN=$ac_cv_prog_DUMPBIN
 if test -n "$DUMPBIN"; then
@@ -44500,8 +45779,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_DUMPBIN+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_DUMPBIN"; then
+else case e in #(
+  e) if test -n "$ac_ct_DUMPBIN"; then
   ac_cv_prog_ac_ct_DUMPBIN="$ac_ct_DUMPBIN" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -44523,7 +45802,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_DUMPBIN=$ac_cv_prog_ac_ct_DUMPBIN
 if test -n "$ac_ct_DUMPBIN"; then
@@ -44577,8 +45857,8 @@ printf %s "checking the name lister ($NM
 if test ${lt_cv_nm_interface+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  lt_cv_nm_interface="BSD nm"
+else case e in #(
+  e) lt_cv_nm_interface="BSD nm"
   echo "int some_variable = 0;" > conftest.$ac_ext
   (eval echo "\"\$as_me:$LINENO: $ac_compile\"" >&5)
   (eval "$ac_compile" 2>conftest.err)
@@ -44591,7 +45871,8 @@ else $as_nop
   if $GREP 'External.*some_variable' conftest.out > /dev/null; then
     lt_cv_nm_interface="MS dumpbin"
   fi
-  rm -f conftest*
+  rm -f conftest* ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_nm_interface" >&5
 printf "%s\n" "$lt_cv_nm_interface" >&6; }
@@ -44613,8 +45894,8 @@ printf %s "checking the maximum length o
 if test ${lt_cv_sys_max_cmd_len+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-    i=0
+else case e in #(
+  e)   i=0
   teststring=ABCD
 
   case $build_os in
@@ -44736,7 +46017,8 @@ else $as_nop
     fi
     ;;
   esac
-
+ ;;
+esac
 fi
 
 if test -n "$lt_cv_sys_max_cmd_len"; then
@@ -44793,8 +46075,8 @@ printf %s "checking how to convert $buil
 if test ${lt_cv_to_host_file_cmd+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case $host in
+else case e in #(
+  e) case $host in
   *-*-mingw* )
     case $build in
       *-*-mingw* ) # actually msys
@@ -44825,7 +46107,8 @@ else $as_nop
     lt_cv_to_host_file_cmd=func_convert_file_noop
     ;;
 esac
-
+ ;;
+esac
 fi
 
 to_host_file_cmd=$lt_cv_to_host_file_cmd
@@ -44841,8 +46124,8 @@ printf %s "checking how to convert $buil
 if test ${lt_cv_to_tool_file_cmd+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  #assume ordinary cross tools, or native build.
+else case e in #(
+  e) #assume ordinary cross tools, or native build.
 lt_cv_to_tool_file_cmd=func_convert_file_noop
 case $host in
   *-*-mingw* )
@@ -44853,7 +46136,8 @@ case $host in
     esac
     ;;
 esac
-
+ ;;
+esac
 fi
 
 to_tool_file_cmd=$lt_cv_to_tool_file_cmd
@@ -44869,8 +46153,9 @@ printf %s "checking for $LD option to re
 if test ${lt_cv_ld_reload_flag+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  lt_cv_ld_reload_flag='-r'
+else case e in #(
+  e) lt_cv_ld_reload_flag='-r' ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_ld_reload_flag" >&5
 printf "%s\n" "$lt_cv_ld_reload_flag" >&6; }
@@ -44911,8 +46196,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_FILECMD+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$FILECMD"; then
+else case e in #(
+  e) if test -n "$FILECMD"; then
   ac_cv_prog_FILECMD="$FILECMD" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -44934,7 +46219,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 FILECMD=$ac_cv_prog_FILECMD
 if test -n "$FILECMD"; then
@@ -44956,8 +46242,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_FILECMD+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_FILECMD"; then
+else case e in #(
+  e) if test -n "$ac_ct_FILECMD"; then
   ac_cv_prog_ac_ct_FILECMD="$ac_ct_FILECMD" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -44979,7 +46265,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_FILECMD=$ac_cv_prog_ac_ct_FILECMD
 if test -n "$ac_ct_FILECMD"; then
@@ -45019,8 +46306,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_OBJDUMP+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$OBJDUMP"; then
+else case e in #(
+  e) if test -n "$OBJDUMP"; then
   ac_cv_prog_OBJDUMP="$OBJDUMP" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -45042,7 +46329,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 OBJDUMP=$ac_cv_prog_OBJDUMP
 if test -n "$OBJDUMP"; then
@@ -45064,8 +46352,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_OBJDUMP+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_OBJDUMP"; then
+else case e in #(
+  e) if test -n "$ac_ct_OBJDUMP"; then
   ac_cv_prog_ac_ct_OBJDUMP="$ac_ct_OBJDUMP" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -45087,7 +46375,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_OBJDUMP=$ac_cv_prog_ac_ct_OBJDUMP
 if test -n "$ac_ct_OBJDUMP"; then
@@ -45128,8 +46417,8 @@ printf %s "checking how to recognize dep
 if test ${lt_cv_deplibs_check_method+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  lt_cv_file_magic_cmd='$MAGIC_CMD'
+else case e in #(
+  e) lt_cv_file_magic_cmd='$MAGIC_CMD'
 lt_cv_file_magic_test_file=
 lt_cv_deplibs_check_method='unknown'
 # Need to set the preceding variable on all platforms that support
@@ -45322,7 +46611,8 @@ os2*)
   lt_cv_deplibs_check_method=pass_all
   ;;
 esac
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_deplibs_check_method" >&5
 printf "%s\n" "$lt_cv_deplibs_check_method" >&6; }
@@ -45374,8 +46664,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_DLLTOOL+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$DLLTOOL"; then
+else case e in #(
+  e) if test -n "$DLLTOOL"; then
   ac_cv_prog_DLLTOOL="$DLLTOOL" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -45397,7 +46687,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 DLLTOOL=$ac_cv_prog_DLLTOOL
 if test -n "$DLLTOOL"; then
@@ -45419,8 +46710,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_DLLTOOL+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_DLLTOOL"; then
+else case e in #(
+  e) if test -n "$ac_ct_DLLTOOL"; then
   ac_cv_prog_ac_ct_DLLTOOL="$ac_ct_DLLTOOL" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -45442,7 +46733,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_DLLTOOL=$ac_cv_prog_ac_ct_DLLTOOL
 if test -n "$ac_ct_DLLTOOL"; then
@@ -45484,8 +46776,8 @@ printf %s "checking how to associate run
 if test ${lt_cv_sharedlib_from_linklib_cmd+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  lt_cv_sharedlib_from_linklib_cmd='unknown'
+else case e in #(
+  e) lt_cv_sharedlib_from_linklib_cmd='unknown'
 
 case $host_os in
 cygwin* | mingw* | pw32* | cegcc*)
@@ -45505,7 +46797,8 @@ cygwin* | mingw* | pw32* | cegcc*)
   lt_cv_sharedlib_from_linklib_cmd=$ECHO
   ;;
 esac
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_sharedlib_from_linklib_cmd" >&5
 printf "%s\n" "$lt_cv_sharedlib_from_linklib_cmd" >&6; }
@@ -45528,8 +46821,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_AR+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$AR"; then
+else case e in #(
+  e) if test -n "$AR"; then
   ac_cv_prog_AR="$AR" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -45551,7 +46844,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 AR=$ac_cv_prog_AR
 if test -n "$AR"; then
@@ -45577,8 +46871,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_AR+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_AR"; then
+else case e in #(
+  e) if test -n "$ac_ct_AR"; then
   ac_cv_prog_ac_ct_AR="$ac_ct_AR" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -45600,7 +46894,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_AR=$ac_cv_prog_ac_ct_AR
 if test -n "$ac_ct_AR"; then
@@ -45662,8 +46957,8 @@ printf %s "checking for archiver @FILE s
 if test ${lt_cv_ar_at_file+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  lt_cv_ar_at_file=no
+else case e in #(
+  e) lt_cv_ar_at_file=no
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -45700,7 +46995,8 @@ then :
 
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_ar_at_file" >&5
 printf "%s\n" "$lt_cv_ar_at_file" >&6; }
@@ -45725,8 +47021,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_STRIP+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$STRIP"; then
+else case e in #(
+  e) if test -n "$STRIP"; then
   ac_cv_prog_STRIP="$STRIP" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -45748,7 +47044,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 STRIP=$ac_cv_prog_STRIP
 if test -n "$STRIP"; then
@@ -45770,8 +47067,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_STRIP+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_STRIP"; then
+else case e in #(
+  e) if test -n "$ac_ct_STRIP"; then
   ac_cv_prog_ac_ct_STRIP="$ac_ct_STRIP" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -45793,7 +47090,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_STRIP=$ac_cv_prog_ac_ct_STRIP
 if test -n "$ac_ct_STRIP"; then
@@ -45834,8 +47132,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_RANLIB+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$RANLIB"; then
+else case e in #(
+  e) if test -n "$RANLIB"; then
   ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -45857,7 +47155,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 RANLIB=$ac_cv_prog_RANLIB
 if test -n "$RANLIB"; then
@@ -45879,8 +47178,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_RANLIB+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_RANLIB"; then
+else case e in #(
+  e) if test -n "$ac_ct_RANLIB"; then
   ac_cv_prog_ac_ct_RANLIB="$ac_ct_RANLIB" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -45902,7 +47201,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
 if test -n "$ac_ct_RANLIB"; then
@@ -46013,8 +47313,8 @@ printf %s "checking command to parse $NM
 if test ${lt_cv_sys_global_symbol_pipe+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
 # These are sane defaults that work on at least a few old systems.
 # [They come from Ultrix.  What could be older than Ultrix?!! ;)]
 
@@ -46269,7 +47569,8 @@ _LT_EOF
     lt_cv_sys_global_symbol_pipe=
   fi
 done
-
+ ;;
+esac
 fi
 
 if test -z "$lt_cv_sys_global_symbol_pipe"; then
@@ -46333,8 +47634,9 @@ printf %s "checking for sysroot... " >&6
 if test ${with_sysroot+y}
 then :
   withval=$with_sysroot;
-else $as_nop
-  with_sysroot=no
+else case e in #(
+  e) with_sysroot=no ;;
+esac
 fi
 
 
@@ -46369,8 +47671,8 @@ printf %s "checking for a working dd...
 if test ${ac_cv_path_lt_DD+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  printf 0123456789abcdef0123456789abcdef >conftest.i
+else case e in #(
+  e) printf 0123456789abcdef0123456789abcdef >conftest.i
 cat conftest.i conftest.i >conftest2.i
 : ${lt_DD:=$DD}
 if test -z "$lt_DD"; then
@@ -46406,7 +47708,8 @@ else
   ac_cv_path_lt_DD=$lt_DD
 fi
 
-rm -f conftest.i conftest2.i conftest.out
+rm -f conftest.i conftest2.i conftest.out ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_lt_DD" >&5
 printf "%s\n" "$ac_cv_path_lt_DD" >&6; }
@@ -46417,8 +47720,8 @@ printf %s "checking how to truncate bina
 if test ${lt_cv_truncate_bin+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  printf 0123456789abcdef0123456789abcdef >conftest.i
+else case e in #(
+  e) printf 0123456789abcdef0123456789abcdef >conftest.i
 cat conftest.i conftest.i >conftest2.i
 lt_cv_truncate_bin=
 if "$ac_cv_path_lt_DD" bs=32 count=1 <conftest2.i >conftest.out 2>/dev/null; then
@@ -46426,7 +47729,8 @@ if "$ac_cv_path_lt_DD" bs=32 count=1 <co
   && lt_cv_truncate_bin="$ac_cv_path_lt_DD bs=4096 count=1"
 fi
 rm -f conftest.i conftest2.i conftest.out
-test -z "$lt_cv_truncate_bin" && lt_cv_truncate_bin="$SED -e 4q"
+test -z "$lt_cv_truncate_bin" && lt_cv_truncate_bin="$SED -e 4q" ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_truncate_bin" >&5
 printf "%s\n" "$lt_cv_truncate_bin" >&6; }
@@ -46636,8 +47940,8 @@ printf %s "checking whether the C compil
 if test ${lt_cv_cc_needs_belf+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_ext=c
+else case e in #(
+  e) ac_ext=c
 ac_cpp='$CPP $CPPFLAGS'
 ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
 ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
@@ -46657,8 +47961,9 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   lt_cv_cc_needs_belf=yes
-else $as_nop
-  lt_cv_cc_needs_belf=no
+else case e in #(
+  e) lt_cv_cc_needs_belf=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
@@ -46667,7 +47972,8 @@ ac_cpp='$CPP $CPPFLAGS'
 ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
 ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
 ac_compiler_gnu=$ac_cv_c_compiler_gnu
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_cc_needs_belf" >&5
 printf "%s\n" "$lt_cv_cc_needs_belf" >&6; }
@@ -46725,8 +48031,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_MANIFEST_TOOL+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$MANIFEST_TOOL"; then
+else case e in #(
+  e) if test -n "$MANIFEST_TOOL"; then
   ac_cv_prog_MANIFEST_TOOL="$MANIFEST_TOOL" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -46748,7 +48054,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 MANIFEST_TOOL=$ac_cv_prog_MANIFEST_TOOL
 if test -n "$MANIFEST_TOOL"; then
@@ -46770,8 +48077,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_MANIFEST_TOOL+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_MANIFEST_TOOL"; then
+else case e in #(
+  e) if test -n "$ac_ct_MANIFEST_TOOL"; then
   ac_cv_prog_ac_ct_MANIFEST_TOOL="$ac_ct_MANIFEST_TOOL" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -46793,7 +48100,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_MANIFEST_TOOL=$ac_cv_prog_ac_ct_MANIFEST_TOOL
 if test -n "$ac_ct_MANIFEST_TOOL"; then
@@ -46825,15 +48133,16 @@ printf %s "checking if $MANIFEST_TOOL is
 if test ${lt_cv_path_mainfest_tool+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  lt_cv_path_mainfest_tool=no
+else case e in #(
+  e) lt_cv_path_mainfest_tool=no
   echo "$as_me:$LINENO: $MANIFEST_TOOL '-?'" >&5
   $MANIFEST_TOOL '-?' 2>conftest.err > conftest.out
   cat conftest.err >&5
   if $GREP 'Manifest Tool' conftest.out > /dev/null; then
     lt_cv_path_mainfest_tool=yes
   fi
-  rm -f conftest*
+  rm -f conftest* ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_path_mainfest_tool" >&5
 printf "%s\n" "$lt_cv_path_mainfest_tool" >&6; }
@@ -46856,8 +48165,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_DSYMUTIL+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$DSYMUTIL"; then
+else case e in #(
+  e) if test -n "$DSYMUTIL"; then
   ac_cv_prog_DSYMUTIL="$DSYMUTIL" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -46879,7 +48188,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 DSYMUTIL=$ac_cv_prog_DSYMUTIL
 if test -n "$DSYMUTIL"; then
@@ -46901,8 +48211,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_DSYMUTIL+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_DSYMUTIL"; then
+else case e in #(
+  e) if test -n "$ac_ct_DSYMUTIL"; then
   ac_cv_prog_ac_ct_DSYMUTIL="$ac_ct_DSYMUTIL" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -46924,7 +48234,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_DSYMUTIL=$ac_cv_prog_ac_ct_DSYMUTIL
 if test -n "$ac_ct_DSYMUTIL"; then
@@ -46958,8 +48269,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_NMEDIT+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$NMEDIT"; then
+else case e in #(
+  e) if test -n "$NMEDIT"; then
   ac_cv_prog_NMEDIT="$NMEDIT" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -46981,7 +48292,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 NMEDIT=$ac_cv_prog_NMEDIT
 if test -n "$NMEDIT"; then
@@ -47003,8 +48315,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_NMEDIT+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_NMEDIT"; then
+else case e in #(
+  e) if test -n "$ac_ct_NMEDIT"; then
   ac_cv_prog_ac_ct_NMEDIT="$ac_ct_NMEDIT" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -47026,7 +48338,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_NMEDIT=$ac_cv_prog_ac_ct_NMEDIT
 if test -n "$ac_ct_NMEDIT"; then
@@ -47060,8 +48373,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_LIPO+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$LIPO"; then
+else case e in #(
+  e) if test -n "$LIPO"; then
   ac_cv_prog_LIPO="$LIPO" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -47083,7 +48396,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 LIPO=$ac_cv_prog_LIPO
 if test -n "$LIPO"; then
@@ -47105,8 +48419,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_LIPO+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_LIPO"; then
+else case e in #(
+  e) if test -n "$ac_ct_LIPO"; then
   ac_cv_prog_ac_ct_LIPO="$ac_ct_LIPO" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -47128,7 +48442,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_LIPO=$ac_cv_prog_ac_ct_LIPO
 if test -n "$ac_ct_LIPO"; then
@@ -47162,8 +48477,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_OTOOL+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$OTOOL"; then
+else case e in #(
+  e) if test -n "$OTOOL"; then
   ac_cv_prog_OTOOL="$OTOOL" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -47185,7 +48500,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 OTOOL=$ac_cv_prog_OTOOL
 if test -n "$OTOOL"; then
@@ -47207,8 +48523,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_OTOOL+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_OTOOL"; then
+else case e in #(
+  e) if test -n "$ac_ct_OTOOL"; then
   ac_cv_prog_ac_ct_OTOOL="$ac_ct_OTOOL" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -47230,7 +48546,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_OTOOL=$ac_cv_prog_ac_ct_OTOOL
 if test -n "$ac_ct_OTOOL"; then
@@ -47264,8 +48581,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_OTOOL64+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$OTOOL64"; then
+else case e in #(
+  e) if test -n "$OTOOL64"; then
   ac_cv_prog_OTOOL64="$OTOOL64" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -47287,7 +48604,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 OTOOL64=$ac_cv_prog_OTOOL64
 if test -n "$OTOOL64"; then
@@ -47309,8 +48627,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_prog_ac_ct_OTOOL64+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -n "$ac_ct_OTOOL64"; then
+else case e in #(
+  e) if test -n "$ac_ct_OTOOL64"; then
   ac_cv_prog_ac_ct_OTOOL64="$ac_ct_OTOOL64" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -47332,7 +48650,8 @@ done
   done
 IFS=$as_save_IFS
 
-fi
+fi ;;
+esac
 fi
 ac_ct_OTOOL64=$ac_cv_prog_ac_ct_OTOOL64
 if test -n "$ac_ct_OTOOL64"; then
@@ -47389,8 +48708,8 @@ printf %s "checking for -single_module l
 if test ${lt_cv_apple_cc_single_mod+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  lt_cv_apple_cc_single_mod=no
+else case e in #(
+  e) lt_cv_apple_cc_single_mod=no
       if test -z "$LT_MULTI_MODULE"; then
 	# By default we will add the -single_module flag. You can override
 	# by either setting the environment variable LT_MULTI_MODULE
@@ -47416,7 +48735,8 @@ else $as_nop
 	fi
 	rm -rf libconftest.dylib*
 	rm -f conftest.*
-      fi
+      fi ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_apple_cc_single_mod" >&5
 printf "%s\n" "$lt_cv_apple_cc_single_mod" >&6; }
@@ -47426,8 +48746,8 @@ printf %s "checking for -exported_symbol
 if test ${lt_cv_ld_exported_symbols_list+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  lt_cv_ld_exported_symbols_list=no
+else case e in #(
+  e) lt_cv_ld_exported_symbols_list=no
       save_LDFLAGS=$LDFLAGS
       echo "_main" > conftest.sym
       LDFLAGS="$LDFLAGS -Wl,-exported_symbols_list,conftest.sym"
@@ -47445,13 +48765,15 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   lt_cv_ld_exported_symbols_list=yes
-else $as_nop
-  lt_cv_ld_exported_symbols_list=no
+else case e in #(
+  e) lt_cv_ld_exported_symbols_list=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
 	LDFLAGS=$save_LDFLAGS
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_ld_exported_symbols_list" >&5
 printf "%s\n" "$lt_cv_ld_exported_symbols_list" >&6; }
@@ -47461,8 +48783,8 @@ printf %s "checking for -force_load link
 if test ${lt_cv_ld_force_load+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  lt_cv_ld_force_load=no
+else case e in #(
+  e) lt_cv_ld_force_load=no
       cat > conftest.c << _LT_EOF
 int forced_loaded() { return 2;}
 _LT_EOF
@@ -47487,7 +48809,8 @@ _LT_EOF
       fi
         rm -f conftest.err libconftest.a conftest conftest.c
         rm -rf conftest.dSYM
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_ld_force_load" >&5
 printf "%s\n" "$lt_cv_ld_force_load" >&6; }
@@ -47599,8 +48922,9 @@ then :
       IFS=$lt_save_ifs
       ;;
     esac
-else $as_nop
-  enable_static=yes
+else case e in #(
+  e) enable_static=yes ;;
+esac
 fi
 
 
@@ -47631,8 +48955,9 @@ then :
       IFS=$lt_save_ifs
       ;;
     esac
-else $as_nop
-  pic_mode=default
+else case e in #(
+  e) pic_mode=default ;;
+esac
 fi
 
 
@@ -47662,8 +48987,9 @@ then :
       IFS=$lt_save_ifs
       ;;
     esac
-else $as_nop
-  enable_fast_install=yes
+else case e in #(
+  e) enable_fast_install=yes ;;
+esac
 fi
 
 
@@ -47690,15 +49016,17 @@ then :
       ;;
     esac
     lt_cv_with_aix_soname=$with_aix_soname
-else $as_nop
-  if test ${lt_cv_with_aix_soname+y}
+else case e in #(
+  e) if test ${lt_cv_with_aix_soname+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  lt_cv_with_aix_soname=aix
+else case e in #(
+  e) lt_cv_with_aix_soname=aix ;;
+esac
 fi
 
-    with_aix_soname=$lt_cv_with_aix_soname
+    with_aix_soname=$lt_cv_with_aix_soname ;;
+esac
 fi
 
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $with_aix_soname" >&5
@@ -47789,8 +49117,8 @@ printf %s "checking for objdir... " >&6;
 if test ${lt_cv_objdir+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  rm -f .libs 2>/dev/null
+else case e in #(
+  e) rm -f .libs 2>/dev/null
 mkdir .libs 2>/dev/null
 if test -d .libs; then
   lt_cv_objdir=.libs
@@ -47798,7 +49126,8 @@ else
   # MS-DOS does not allow filenames that begin with a dot.
   lt_cv_objdir=_libs
 fi
-rmdir .libs 2>/dev/null
+rmdir .libs 2>/dev/null ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_objdir" >&5
 printf "%s\n" "$lt_cv_objdir" >&6; }
@@ -47859,8 +49188,8 @@ printf %s "checking for ${ac_tool_prefix
 if test ${lt_cv_path_MAGIC_CMD+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case $MAGIC_CMD in
+else case e in #(
+  e) case $MAGIC_CMD in
 [\\/*] |  ?:[\\/]*)
   lt_cv_path_MAGIC_CMD=$MAGIC_CMD # Let the user override the test with a path.
   ;;
@@ -47903,6 +49232,7 @@ _LT_EOF
   IFS=$lt_save_ifs
   MAGIC_CMD=$lt_save_MAGIC_CMD
   ;;
+esac ;;
 esac
 fi
 
@@ -47926,8 +49256,8 @@ printf %s "checking for file... " >&6; }
 if test ${lt_cv_path_MAGIC_CMD+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case $MAGIC_CMD in
+else case e in #(
+  e) case $MAGIC_CMD in
 [\\/*] |  ?:[\\/]*)
   lt_cv_path_MAGIC_CMD=$MAGIC_CMD # Let the user override the test with a path.
   ;;
@@ -47970,6 +49300,7 @@ _LT_EOF
   IFS=$lt_save_ifs
   MAGIC_CMD=$lt_save_MAGIC_CMD
   ;;
+esac ;;
 esac
 fi
 
@@ -48069,8 +49400,8 @@ printf %s "checking if $compiler support
 if test ${lt_cv_prog_compiler_rtti_exceptions+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  lt_cv_prog_compiler_rtti_exceptions=no
+else case e in #(
+  e) lt_cv_prog_compiler_rtti_exceptions=no
    ac_outfile=conftest.$ac_objext
    echo "$lt_simple_compile_test_code" > conftest.$ac_ext
    lt_compiler_flag="-fno-rtti -fno-exceptions"  ## exclude from sc_useless_quotes_in_assignment
@@ -48098,7 +49429,8 @@ else $as_nop
      fi
    fi
    $RM conftest*
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_rtti_exceptions" >&5
 printf "%s\n" "$lt_cv_prog_compiler_rtti_exceptions" >&6; }
@@ -48463,8 +49795,9 @@ printf %s "checking for $compiler option
 if test ${lt_cv_prog_compiler_pic+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  lt_cv_prog_compiler_pic=$lt_prog_compiler_pic
+else case e in #(
+  e) lt_cv_prog_compiler_pic=$lt_prog_compiler_pic ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_pic" >&5
 printf "%s\n" "$lt_cv_prog_compiler_pic" >&6; }
@@ -48479,8 +49812,8 @@ printf %s "checking if $compiler PIC fla
 if test ${lt_cv_prog_compiler_pic_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  lt_cv_prog_compiler_pic_works=no
+else case e in #(
+  e) lt_cv_prog_compiler_pic_works=no
    ac_outfile=conftest.$ac_objext
    echo "$lt_simple_compile_test_code" > conftest.$ac_ext
    lt_compiler_flag="$lt_prog_compiler_pic -DPIC"  ## exclude from sc_useless_quotes_in_assignment
@@ -48508,7 +49841,8 @@ else $as_nop
      fi
    fi
    $RM conftest*
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_pic_works" >&5
 printf "%s\n" "$lt_cv_prog_compiler_pic_works" >&6; }
@@ -48544,8 +49878,8 @@ printf %s "checking if $compiler static
 if test ${lt_cv_prog_compiler_static_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  lt_cv_prog_compiler_static_works=no
+else case e in #(
+  e) lt_cv_prog_compiler_static_works=no
    save_LDFLAGS=$LDFLAGS
    LDFLAGS="$LDFLAGS $lt_tmp_static_flag"
    echo "$lt_simple_link_test_code" > conftest.$ac_ext
@@ -48566,7 +49900,8 @@ else $as_nop
    fi
    $RM -r conftest*
    LDFLAGS=$save_LDFLAGS
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_static_works" >&5
 printf "%s\n" "$lt_cv_prog_compiler_static_works" >&6; }
@@ -48588,8 +49923,8 @@ printf %s "checking if $compiler support
 if test ${lt_cv_prog_compiler_c_o+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  lt_cv_prog_compiler_c_o=no
+else case e in #(
+  e) lt_cv_prog_compiler_c_o=no
    $RM -r conftest 2>/dev/null
    mkdir conftest
    cd conftest
@@ -48629,7 +49964,8 @@ else $as_nop
    cd ..
    $RM -r conftest
    $RM conftest*
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_c_o" >&5
 printf "%s\n" "$lt_cv_prog_compiler_c_o" >&6; }
@@ -48644,8 +49980,8 @@ printf %s "checking if $compiler support
 if test ${lt_cv_prog_compiler_c_o+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  lt_cv_prog_compiler_c_o=no
+else case e in #(
+  e) lt_cv_prog_compiler_c_o=no
    $RM -r conftest 2>/dev/null
    mkdir conftest
    cd conftest
@@ -48685,7 +50021,8 @@ else $as_nop
    cd ..
    $RM -r conftest
    $RM conftest*
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_c_o" >&5
 printf "%s\n" "$lt_cv_prog_compiler_c_o" >&6; }
@@ -49280,8 +50617,8 @@ else
   if test ${lt_cv_aix_libpath_+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 int
@@ -49313,7 +50650,8 @@ rm -f core conftest.err conftest.$ac_obj
   if test -z "$lt_cv_aix_libpath_"; then
     lt_cv_aix_libpath_=/usr/lib:/lib
   fi
-
+   ;;
+esac
 fi
 
   aix_libpath=$lt_cv_aix_libpath_
@@ -49335,8 +50673,8 @@ else
   if test ${lt_cv_aix_libpath_+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 int
@@ -49368,7 +50706,8 @@ rm -f core conftest.err conftest.$ac_obj
   if test -z "$lt_cv_aix_libpath_"; then
     lt_cv_aix_libpath_=/usr/lib:/lib
   fi
-
+   ;;
+esac
 fi
 
   aix_libpath=$lt_cv_aix_libpath_
@@ -49619,8 +50958,8 @@ printf %s "checking if $CC understands -
 if test ${lt_cv_prog_compiler__b+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  lt_cv_prog_compiler__b=no
+else case e in #(
+  e) lt_cv_prog_compiler__b=no
    save_LDFLAGS=$LDFLAGS
    LDFLAGS="$LDFLAGS -b"
    echo "$lt_simple_link_test_code" > conftest.$ac_ext
@@ -49641,7 +50980,8 @@ else $as_nop
    fi
    $RM -r conftest*
    LDFLAGS=$save_LDFLAGS
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler__b" >&5
 printf "%s\n" "$lt_cv_prog_compiler__b" >&6; }
@@ -49689,8 +51029,8 @@ printf %s "checking whether the $host_os
 if test ${lt_cv_irix_exported_symbol+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  save_LDFLAGS=$LDFLAGS
+else case e in #(
+  e) save_LDFLAGS=$LDFLAGS
 	   LDFLAGS="$LDFLAGS -shared $wl-exported_symbol ${wl}foo $wl-update_registry $wl/dev/null"
 	   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -49699,12 +51039,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   lt_cv_irix_exported_symbol=yes
-else $as_nop
-  lt_cv_irix_exported_symbol=no
+else case e in #(
+  e) lt_cv_irix_exported_symbol=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-           LDFLAGS=$save_LDFLAGS
+           LDFLAGS=$save_LDFLAGS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_irix_exported_symbol" >&5
 printf "%s\n" "$lt_cv_irix_exported_symbol" >&6; }
@@ -50030,8 +51372,8 @@ printf %s "checking whether -lc should b
 if test ${lt_cv_archive_cmds_need_lc+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  $RM conftest*
+else case e in #(
+  e) $RM conftest*
 	echo "$lt_simple_compile_test_code" > conftest.$ac_ext
 
 	if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ac_compile\""; } >&5
@@ -50067,7 +51409,8 @@ else $as_nop
 	  cat conftest.err 1>&5
 	fi
 	$RM conftest*
-
+	 ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_archive_cmds_need_lc" >&5
 printf "%s\n" "$lt_cv_archive_cmds_need_lc" >&6; }
@@ -50794,8 +52137,8 @@ linux* | k*bsd*-gnu | kopensolaris*-gnu
   if test ${lt_cv_shlibpath_overrides_runpath+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  lt_cv_shlibpath_overrides_runpath=no
+else case e in #(
+  e) lt_cv_shlibpath_overrides_runpath=no
     save_LDFLAGS=$LDFLAGS
     save_libdir=$libdir
     eval "libdir=/foo; wl=\"$lt_prog_compiler_wl\"; \
@@ -50822,7 +52165,8 @@ rm -f core conftest.err conftest.$ac_obj
     conftest$ac_exeext conftest.$ac_ext
     LDFLAGS=$save_LDFLAGS
     libdir=$save_libdir
-
+     ;;
+esac
 fi
 
   shlibpath_overrides_runpath=$lt_cv_shlibpath_overrides_runpath
@@ -51250,16 +52594,22 @@ printf %s "checking for dlopen in -ldl..
 if test ${ac_cv_lib_dl_dlopen+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-ldl  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char dlopen ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char dlopen (void);
 int
 main (void)
 {
@@ -51271,24 +52621,27 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_dl_dlopen=yes
-else $as_nop
-  ac_cv_lib_dl_dlopen=no
+else case e in #(
+  e) ac_cv_lib_dl_dlopen=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dl_dlopen" >&5
 printf "%s\n" "$ac_cv_lib_dl_dlopen" >&6; }
 if test "x$ac_cv_lib_dl_dlopen" = xyes
 then :
   lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl
-else $as_nop
-
+else case e in #(
+  e)
     lt_cv_dlopen=dyld
     lt_cv_dlopen_libs=
     lt_cv_dlopen_self=yes
-
+     ;;
+esac
 fi
 
     ;;
@@ -51306,22 +52659,28 @@ fi
 if test "x$ac_cv_func_shl_load" = xyes
 then :
   lt_cv_dlopen=shl_load
-else $as_nop
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for shl_load in -ldld" >&5
+else case e in #(
+  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for shl_load in -ldld" >&5
 printf %s "checking for shl_load in -ldld... " >&6; }
 if test ${ac_cv_lib_dld_shl_load+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-ldld  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char shl_load ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char shl_load (void);
 int
 main (void)
 {
@@ -51333,39 +52692,47 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_dld_shl_load=yes
-else $as_nop
-  ac_cv_lib_dld_shl_load=no
+else case e in #(
+  e) ac_cv_lib_dld_shl_load=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dld_shl_load" >&5
 printf "%s\n" "$ac_cv_lib_dld_shl_load" >&6; }
 if test "x$ac_cv_lib_dld_shl_load" = xyes
 then :
   lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld
-else $as_nop
-  ac_fn_c_check_func "$LINENO" "dlopen" "ac_cv_func_dlopen"
+else case e in #(
+  e) ac_fn_c_check_func "$LINENO" "dlopen" "ac_cv_func_dlopen"
 if test "x$ac_cv_func_dlopen" = xyes
 then :
   lt_cv_dlopen=dlopen
-else $as_nop
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for dlopen in -ldl" >&5
+else case e in #(
+  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for dlopen in -ldl" >&5
 printf %s "checking for dlopen in -ldl... " >&6; }
 if test ${ac_cv_lib_dl_dlopen+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-ldl  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char dlopen ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char dlopen (void);
 int
 main (void)
 {
@@ -51377,34 +52744,42 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_dl_dlopen=yes
-else $as_nop
-  ac_cv_lib_dl_dlopen=no
+else case e in #(
+  e) ac_cv_lib_dl_dlopen=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dl_dlopen" >&5
 printf "%s\n" "$ac_cv_lib_dl_dlopen" >&6; }
 if test "x$ac_cv_lib_dl_dlopen" = xyes
 then :
   lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl
-else $as_nop
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for dlopen in -lsvld" >&5
+else case e in #(
+  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for dlopen in -lsvld" >&5
 printf %s "checking for dlopen in -lsvld... " >&6; }
 if test ${ac_cv_lib_svld_dlopen+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lsvld  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char dlopen ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char dlopen (void);
 int
 main (void)
 {
@@ -51416,34 +52791,42 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_svld_dlopen=yes
-else $as_nop
-  ac_cv_lib_svld_dlopen=no
+else case e in #(
+  e) ac_cv_lib_svld_dlopen=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_svld_dlopen" >&5
 printf "%s\n" "$ac_cv_lib_svld_dlopen" >&6; }
 if test "x$ac_cv_lib_svld_dlopen" = xyes
 then :
   lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld
-else $as_nop
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for dld_link in -ldld" >&5
+else case e in #(
+  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for dld_link in -ldld" >&5
 printf %s "checking for dld_link in -ldld... " >&6; }
 if test ${ac_cv_lib_dld_dld_link+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-ldld  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char dld_link ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char dld_link (void);
 int
 main (void)
 {
@@ -51455,12 +52838,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_dld_dld_link=yes
-else $as_nop
-  ac_cv_lib_dld_dld_link=no
+else case e in #(
+  e) ac_cv_lib_dld_dld_link=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dld_dld_link" >&5
 printf "%s\n" "$ac_cv_lib_dld_dld_link" >&6; }
@@ -51469,19 +52854,24 @@ then :
   lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld
 fi
 
-
+	       ;;
+esac
 fi
 
-
+	     ;;
+esac
 fi
 
-
+	   ;;
+esac
 fi
 
-
+	 ;;
+esac
 fi
 
-
+       ;;
+esac
 fi
 
     ;;
@@ -51509,8 +52899,8 @@ printf %s "checking whether a program ca
 if test ${lt_cv_dlopen_self+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  	  if test yes = "$cross_compiling"; then :
+else case e in #(
+  e) 	  if test yes = "$cross_compiling"; then :
   lt_cv_dlopen_self=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
@@ -51604,7 +52994,8 @@ _LT_EOF
 fi
 rm -fr conftest*
 
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_dlopen_self" >&5
 printf "%s\n" "$lt_cv_dlopen_self" >&6; }
@@ -51616,8 +53007,8 @@ printf %s "checking whether a statically
 if test ${lt_cv_dlopen_self_static+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  	  if test yes = "$cross_compiling"; then :
+else case e in #(
+  e) 	  if test yes = "$cross_compiling"; then :
   lt_cv_dlopen_self_static=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
@@ -51711,7 +53102,8 @@ _LT_EOF
 fi
 rm -fr conftest*
 
-
+       ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_dlopen_self_static" >&5
 printf "%s\n" "$lt_cv_dlopen_self_static" >&6; }
@@ -51900,8 +53292,9 @@ CC=$lt_save_CC
 if test ${with_gnu_ld+y}
 then :
   withval=$with_gnu_ld; test "$withval" = no || with_gnu_ld=yes
-else $as_nop
-  with_gnu_ld=no
+else case e in #(
+  e) with_gnu_ld=no ;;
+esac
 fi
 
 # Prepare PATH_SEPARATOR.
@@ -51959,8 +53352,8 @@ fi
 if test ${acl_cv_path_LD+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -z "$LD"; then
+else case e in #(
+  e) if test -z "$LD"; then
   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}${PATH_SEPARATOR-:}"
   for ac_dir in $PATH; do
     test -z "$ac_dir" && ac_dir=.
@@ -51980,7 +53373,8 @@ else $as_nop
   IFS="$ac_save_ifs"
 else
   acl_cv_path_LD="$LD" # Let the user override the test with a path.
-fi
+fi ;;
+esac
 fi
 
 LD="$acl_cv_path_LD"
@@ -51997,13 +53391,14 @@ printf %s "checking if the linker ($LD)
 if test ${acl_cv_prog_gnu_ld+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  # I'd rather use --version here, but apparently some GNU ld's only accept -v.
+else case e in #(
+  e) # I'd rather use --version here, but apparently some GNU ld's only accept -v.
 case `$LD -v 2>&1 </dev/null` in
 *GNU* | *'with BFD'*)
   acl_cv_prog_gnu_ld=yes ;;
 *)
   acl_cv_prog_gnu_ld=no ;;
+esac ;;
 esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $acl_cv_prog_gnu_ld" >&5
@@ -52019,14 +53414,15 @@ printf %s "checking for shared library r
 if test ${acl_cv_rpath+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     CC="$CC" GCC="$GCC" LDFLAGS="$LDFLAGS" LD="$LD" with_gnu_ld="$with_gnu_ld" \
     ${CONFIG_SHELL-/bin/sh} "$ac_aux_dir/config.rpath" "$host" > conftest.sh
     . ./conftest.sh
     rm -f ./conftest.sh
     acl_cv_rpath=done
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $acl_cv_rpath" >&5
 printf "%s\n" "$acl_cv_rpath" >&6; }
@@ -52043,8 +53439,9 @@ printf "%s\n" "$acl_cv_rpath" >&6; }
 if test ${enable_rpath+y}
 then :
   enableval=$enable_rpath; :
-else $as_nop
-  enable_rpath=yes
+else case e in #(
+  e) enable_rpath=yes ;;
+esac
 fi
 
 
@@ -52059,8 +53456,8 @@ printf %s "checking for 64-bit host... "
 if test ${gl_cv_solaris_64bit+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #ifdef _LP64
@@ -52069,15 +53466,17 @@ sixtyfour bits
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "sixtyfour bits" >/dev/null 2>&1
+  $EGREP_TRADITIONAL "sixtyfour bits" >/dev/null 2>&1
 then :
   gl_cv_solaris_64bit=yes
-else $as_nop
-  gl_cv_solaris_64bit=no
+else case e in #(
+  e) gl_cv_solaris_64bit=no ;;
+esac
 fi
 rm -rf conftest*
 
-
+         ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_solaris_64bit" >&5
 printf "%s\n" "$gl_cv_solaris_64bit" >&6; }
@@ -52615,8 +54014,8 @@ printf %s "checking for iconv... " >&6;
 if test ${am_cv_func_iconv+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     am_cv_func_iconv="no, consider installing GNU libiconv"
     am_cv_lib_iconv=no
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -52665,7 +54064,8 @@ rm -f core conftest.err conftest.$ac_obj
     conftest$ac_exeext conftest.$ac_ext
       LIBS="$am_save_LIBS"
     fi
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_func_iconv" >&5
 printf "%s\n" "$am_cv_func_iconv" >&6; }
@@ -52675,8 +54075,8 @@ printf %s "checking for working iconv...
 if test ${am_cv_func_iconv_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
             am_save_LIBS="$LIBS"
       if test $am_cv_lib_iconv = yes; then
         LIBS="$LIBS $LIBICONV"
@@ -52687,8 +54087,8 @@ then :
            aix* | hpux*) am_cv_func_iconv_works="guessing no" ;;
            *)            am_cv_func_iconv_works="guessing yes" ;;
          esac
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <iconv.h>
@@ -52770,15 +54170,18 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   am_cv_func_iconv_works=yes
-else $as_nop
-  am_cv_func_iconv_works=no
+else case e in #(
+  e) am_cv_func_iconv_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
       LIBS="$am_save_LIBS"
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_func_iconv_works" >&5
 printf "%s\n" "$am_cv_func_iconv_works" >&6; }
@@ -52813,8 +54216,8 @@ printf %s "checking for iconv declaratio
     if test ${am_cv_proto_iconv+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -52841,11 +54244,13 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   am_cv_proto_iconv_arg1=""
-else $as_nop
-  am_cv_proto_iconv_arg1="const"
+else case e in #(
+  e) am_cv_proto_iconv_arg1="const" ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-      am_cv_proto_iconv="extern size_t iconv (iconv_t cd, $am_cv_proto_iconv_arg1 char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);"
+      am_cv_proto_iconv="extern size_t iconv (iconv_t cd, $am_cv_proto_iconv_arg1 char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);" ;;
+esac
 fi
 
     am_cv_proto_iconv=`echo "$am_cv_proto_iconv" | tr -s ' ' | sed -e 's/( /(/'`
@@ -52874,8 +54279,9 @@ printf %s "checking whether NLS is reque
 if test ${enable_nls+y}
 then :
   enableval=$enable_nls; USE_NLS=$enableval
-else $as_nop
-  USE_NLS=yes
+else case e in #(
+  e) USE_NLS=yes ;;
+esac
 fi
 
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $USE_NLS" >&5
@@ -52924,8 +54330,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_path_MSGFMT+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case "$MSGFMT" in
+else case e in #(
+  e) case "$MSGFMT" in
   [\\/]* | ?:[\\/]*)
     ac_cv_path_MSGFMT="$MSGFMT" # Let the user override the test with a path.
     ;;
@@ -52948,6 +54354,7 @@ else $as_nop
     IFS="$ac_save_IFS"
   test -z "$ac_cv_path_MSGFMT" && ac_cv_path_MSGFMT=":"
     ;;
+esac ;;
 esac
 fi
 MSGFMT="$ac_cv_path_MSGFMT"
@@ -52966,8 +54373,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_path_GMSGFMT+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case $GMSGFMT in
+else case e in #(
+  e) case $GMSGFMT in
   [\\/]* | ?:[\\/]*)
   ac_cv_path_GMSGFMT="$GMSGFMT" # Let the user override the test with a path.
   ;;
@@ -52993,6 +54400,7 @@ IFS=$as_save_IFS
 
   test -z "$ac_cv_path_GMSGFMT" && ac_cv_path_GMSGFMT="$MSGFMT"
   ;;
+esac ;;
 esac
 fi
 GMSGFMT=$ac_cv_path_GMSGFMT
@@ -53053,8 +54461,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_path_XGETTEXT+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case "$XGETTEXT" in
+else case e in #(
+  e) case "$XGETTEXT" in
   [\\/]* | ?:[\\/]*)
     ac_cv_path_XGETTEXT="$XGETTEXT" # Let the user override the test with a path.
     ;;
@@ -53077,6 +54485,7 @@ else $as_nop
     IFS="$ac_save_IFS"
   test -z "$ac_cv_path_XGETTEXT" && ac_cv_path_XGETTEXT=":"
     ;;
+esac ;;
 esac
 fi
 XGETTEXT="$ac_cv_path_XGETTEXT"
@@ -53132,8 +54541,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_path_MSGMERGE+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case "$MSGMERGE" in
+else case e in #(
+  e) case "$MSGMERGE" in
   [\\/]* | ?:[\\/]*)
     ac_cv_path_MSGMERGE="$MSGMERGE" # Let the user override the test with a path.
     ;;
@@ -53155,6 +54564,7 @@ else $as_nop
     IFS="$ac_save_IFS"
   test -z "$ac_cv_path_MSGMERGE" && ac_cv_path_MSGMERGE=":"
     ;;
+esac ;;
 esac
 fi
 MSGMERGE="$ac_cv_path_MSGMERGE"
@@ -53205,8 +54615,8 @@ printf %s "checking for CFPreferencesCop
 if test ${gt_cv_func_CFPreferencesCopyAppValue+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gt_save_LIBS="$LIBS"
+else case e in #(
+  e) gt_save_LIBS="$LIBS"
      LIBS="$LIBS -Wl,-framework -Wl,CoreFoundation"
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -53222,12 +54632,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gt_cv_func_CFPreferencesCopyAppValue=yes
-else $as_nop
-  gt_cv_func_CFPreferencesCopyAppValue=no
+else case e in #(
+  e) gt_cv_func_CFPreferencesCopyAppValue=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-     LIBS="$gt_save_LIBS"
+     LIBS="$gt_save_LIBS" ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_func_CFPreferencesCopyAppValue" >&5
 printf "%s\n" "$gt_cv_func_CFPreferencesCopyAppValue" >&6; }
@@ -53241,8 +54653,8 @@ printf %s "checking for CFLocaleCopyPref
 if test ${gt_cv_func_CFLocaleCopyPreferredLanguages+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gt_save_LIBS="$LIBS"
+else case e in #(
+  e) gt_save_LIBS="$LIBS"
      LIBS="$LIBS -Wl,-framework -Wl,CoreFoundation"
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -53258,12 +54670,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   gt_cv_func_CFLocaleCopyPreferredLanguages=yes
-else $as_nop
-  gt_cv_func_CFLocaleCopyPreferredLanguages=no
+else case e in #(
+  e) gt_cv_func_CFLocaleCopyPreferredLanguages=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-     LIBS="$gt_save_LIBS"
+     LIBS="$gt_save_LIBS" ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_func_CFLocaleCopyPreferredLanguages" >&5
 printf "%s\n" "$gt_cv_func_CFLocaleCopyPreferredLanguages" >&6; }
@@ -53320,8 +54734,8 @@ printf %s "checking for GNU gettext in l
 if eval test \${$gt_func_gnugettext_libc+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <libintl.h>
 $gt_revision_test_code
@@ -53339,11 +54753,13 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   eval "$gt_func_gnugettext_libc=yes"
-else $as_nop
-  eval "$gt_func_gnugettext_libc=no"
+else case e in #(
+  e) eval "$gt_func_gnugettext_libc=no" ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext
+    conftest$ac_exeext conftest.$ac_ext ;;
+esac
 fi
 eval ac_res=\$$gt_func_gnugettext_libc
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -53385,8 +54801,8 @@ printf %s "checking for iconv... " >&6;
 if test ${am_cv_func_iconv+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
     am_cv_func_iconv="no, consider installing GNU libiconv"
     am_cv_lib_iconv=no
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -53435,7 +54851,8 @@ rm -f core conftest.err conftest.$ac_obj
     conftest$ac_exeext conftest.$ac_ext
       LIBS="$am_save_LIBS"
     fi
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_func_iconv" >&5
 printf "%s\n" "$am_cv_func_iconv" >&6; }
@@ -53445,8 +54862,8 @@ printf %s "checking for working iconv...
 if test ${am_cv_func_iconv_works+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-
+else case e in #(
+  e)
             am_save_LIBS="$LIBS"
       if test $am_cv_lib_iconv = yes; then
         LIBS="$LIBS $LIBICONV"
@@ -53457,8 +54874,8 @@ then :
            aix* | hpux*) am_cv_func_iconv_works="guessing no" ;;
            *)            am_cv_func_iconv_works="guessing yes" ;;
          esac
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <iconv.h>
@@ -53540,15 +54957,18 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   am_cv_func_iconv_works=yes
-else $as_nop
-  am_cv_func_iconv_works=no
+else case e in #(
+  e) am_cv_func_iconv_works=no ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
       LIBS="$am_save_LIBS"
-
+     ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_func_iconv_works" >&5
 printf "%s\n" "$am_cv_func_iconv_works" >&6; }
@@ -54045,8 +55465,8 @@ printf %s "checking for GNU gettext in l
 if eval test \${$gt_func_gnugettext_libintl+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  gt_save_CPPFLAGS="$CPPFLAGS"
+else case e in #(
+  e) gt_save_CPPFLAGS="$CPPFLAGS"
             CPPFLAGS="$CPPFLAGS $INCINTL"
             gt_save_LIBS="$LIBS"
             LIBS="$LIBS $LIBINTL"
@@ -54072,8 +55492,9 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   eval "$gt_func_gnugettext_libintl=yes"
-else $as_nop
-  eval "$gt_func_gnugettext_libintl=no"
+else case e in #(
+  e) eval "$gt_func_gnugettext_libintl=no" ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
@@ -54109,7 +55530,8 @@ rm -f core conftest.err conftest.$ac_obj
     conftest$ac_exeext conftest.$ac_ext
             fi
             CPPFLAGS="$gt_save_CPPFLAGS"
-            LIBS="$gt_save_LIBS"
+            LIBS="$gt_save_LIBS" ;;
+esac
 fi
 eval ac_res=\$$gt_func_gnugettext_libintl
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -54237,16 +55659,22 @@ printf %s "checking for uuid_generate in
 if test ${ac_cv_lib_uuid_uuid_generate+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-luuid  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char uuid_generate ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char uuid_generate (void);
 int
 main (void)
 {
@@ -54258,25 +55686,28 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_uuid_uuid_generate=yes
-else $as_nop
-  ac_cv_lib_uuid_uuid_generate=no
+else case e in #(
+  e) ac_cv_lib_uuid_uuid_generate=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_uuid_uuid_generate" >&5
 printf "%s\n" "$ac_cv_lib_uuid_uuid_generate" >&6; }
 if test "x$ac_cv_lib_uuid_uuid_generate" = xyes
 then :
   UUID_LIBS="-luuid"
-else $as_nop
-  as_fn_error $? "GNU Parted requires libuuid - a part of the util-linux-ng package (but
+else case e in #(
+  e) as_fn_error $? "GNU Parted requires libuuid - a part of the util-linux-ng package (but
 usually distributed separately in libuuid-devel, uuid-dev or similar)
 This can probably be found on your distribution's CD or FTP site or at:
     http://userweb.kernel.org/~kzak/util-linux-ng/
 Note: originally, libuuid was part of the e2fsprogs package.  Later, it
-moved to util-linux-ng-2.16, and that package is now the preferred source." "$LINENO" 5
+moved to util-linux-ng-2.16, and that package is now the preferred source." "$LINENO" 5 ;;
+esac
 fi
 
 
@@ -54288,16 +55719,22 @@ printf %s "checking for dm_task_create i
 if test ${ac_cv_lib_devmapper_dm_task_create+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-ldevmapper  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char dm_task_create ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char dm_task_create (void);
 int
 main (void)
 {
@@ -54309,20 +55746,22 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_devmapper_dm_task_create=yes
-else $as_nop
-  ac_cv_lib_devmapper_dm_task_create=no
+else case e in #(
+  e) ac_cv_lib_devmapper_dm_task_create=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_devmapper_dm_task_create" >&5
 printf "%s\n" "$ac_cv_lib_devmapper_dm_task_create" >&6; }
 if test "x$ac_cv_lib_devmapper_dm_task_create" = xyes
 then :
   DM_LIBS=-ldevmapper
-else $as_nop
-  as_fn_error $? "libdevmapper could not be found, but is required for the
+else case e in #(
+  e) as_fn_error $? "libdevmapper could not be found, but is required for the
 --enable-device-mapper option, which is enabled by default.  Either disable
 device-mapper support with --disable-device-mapper or download and install
 device-mapper from:
@@ -54330,7 +55769,8 @@ device-mapper from:
 Note: if you are using precompiled packages you will need the development
 package as well (it may be called device-mapper-devel or something similar).
     " "$LINENO" 5
-
+   ;;
+esac
 fi
 
 fi
@@ -54344,15 +55784,21 @@ printf %s "checking for library containi
 if test ${ac_cv_search_tgetent+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_func_search_save_LIBS=$LIBS
+else case e in #(
+  e) ac_func_search_save_LIBS=$LIBS
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char tgetent ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char tgetent (void);
 int
 main (void)
 {
@@ -54383,11 +55829,13 @@ done
 if test ${ac_cv_search_tgetent+y}
 then :
 
-else $as_nop
-  ac_cv_search_tgetent=no
+else case e in #(
+  e) ac_cv_search_tgetent=no ;;
+esac
 fi
 rm conftest.$ac_ext
-LIBS=$ac_func_search_save_LIBS
+LIBS=$ac_func_search_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_tgetent" >&5
 printf "%s\n" "$ac_cv_search_tgetent" >&6; }
@@ -54396,15 +55844,16 @@ if test "$ac_res" != no
 then :
   test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
   PARTED_LIBS="$PARTED_LIBS $LIBS"
-else $as_nop
-  as_fn_error $? "termcap could not be found which is required for the
+else case e in #(
+  e) as_fn_error $? "termcap could not be found which is required for the
 --with-readline option (which is enabled by default).  Either disable readline
 support with --without-readline or download and install termcap from:
 	ftp.gnu.org/gnu/termcap
 Note: if you are using precompiled packages you will also need the development
   package as well (which may be called termcap-devel or something similar).
 Note: (n)curses also seems to work as a substitute for termcap.  This was
-  not found either - but you could try installing that as well." "$LINENO" 5
+  not found either - but you could try installing that as well." "$LINENO" 5 ;;
+esac
 fi
 
 	LIBS="$OLD_LIBS"
@@ -54419,8 +55868,8 @@ printf %s "checking for readline in -lre
 if test ${ac_cv_lib_readline_readline+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lreadline $PARTED_LIBS
 	 $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -54428,8 +55877,14 @@ cat confdefs.h - <<_ACEOF >conftest.$ac_
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char readline ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char readline (void);
 int
 main (void)
 {
@@ -54441,27 +55896,30 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_readline_readline=yes
-else $as_nop
-  ac_cv_lib_readline_readline=no
+else case e in #(
+  e) ac_cv_lib_readline_readline=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_readline_readline" >&5
 printf "%s\n" "$ac_cv_lib_readline_readline" >&6; }
 if test "x$ac_cv_lib_readline_readline" = xyes
 then :
   found_working_libreadline=yes
-else $as_nop
-  as_fn_error $? "GNU Readline could not be found which is required for the
+else case e in #(
+  e) as_fn_error $? "GNU Readline could not be found which is required for the
 --with-readline (which is enabled by default).  Either disable readline support with
 --without-readline or downloaded and install it from:
         ftp.gnu.org/gnu/readline
 Note: if you are using precompiled packages you will also need the development
 package as well (which may be called readline-devel or something similar).
 " "$LINENO" 5
-
+		 ;;
+esac
 fi
 
 	LIBS="$OLD_LIBS $PARTED_LIBS"
@@ -54491,16 +55949,22 @@ printf %s "checking for rl_variable_valu
 if test ${ac_cv_lib_readline_rl_variable_value+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lreadline $PARTED_LIBS $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char rl_variable_value ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char rl_variable_value (void);
 int
 main (void)
 {
@@ -54512,12 +55976,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_readline_rl_variable_value=yes
-else $as_nop
-  ac_cv_lib_readline_rl_variable_value=no
+else case e in #(
+  e) ac_cv_lib_readline_rl_variable_value=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_readline_rl_variable_value" >&5
 printf "%s\n" "$ac_cv_lib_readline_rl_variable_value" >&6; }
@@ -54527,10 +55993,11 @@ then :
 
   LIBS="-lreadline $LIBS"
 
-else $as_nop
-  as_fn_error $? "Your version of libreadline is too old to be used.
+else case e in #(
+  e) as_fn_error $? "Your version of libreadline is too old to be used.
 Consider upgrading to version 5.2 or newer." "$LINENO" 5
-		     found_working_libreadline=no
+		     found_working_libreadline=no ;;
+esac
 fi
 
 
@@ -54552,16 +56019,22 @@ printf %s "checking for vm_deallocate in
 if test ${ac_cv_lib_shouldbeinlibc_vm_deallocate+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lshouldbeinlibc  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char vm_deallocate ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char vm_deallocate (void);
 int
 main (void)
 {
@@ -54573,23 +56046,26 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_shouldbeinlibc_vm_deallocate=yes
-else $as_nop
-  ac_cv_lib_shouldbeinlibc_vm_deallocate=no
+else case e in #(
+  e) ac_cv_lib_shouldbeinlibc_vm_deallocate=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_shouldbeinlibc_vm_deallocate" >&5
 printf "%s\n" "$ac_cv_lib_shouldbeinlibc_vm_deallocate" >&6; }
 if test "x$ac_cv_lib_shouldbeinlibc_vm_deallocate" = xyes
 then :
   OS_LIBS="$OS_LIBS -lshouldbeinlibc"
-else $as_nop
-  as_fn_error $? "GNU Parted requires libshouldbeinlibc when running on
+else case e in #(
+  e) as_fn_error $? "GNU Parted requires libshouldbeinlibc when running on
 GNU/Hurd systems.  It is a standard part of a GNU/Hurd system.
 		" "$LINENO" 5
-
+	 ;;
+esac
 fi
 
 
@@ -54601,16 +56077,22 @@ printf %s "checking for ped_device_read
 if test ${ac_cv_lib_parted_ped_device_read+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lparted  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char ped_device_read ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char ped_device_read (void);
 int
 main (void)
 {
@@ -54622,12 +56104,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_parted_ped_device_read=yes
-else $as_nop
-  ac_cv_lib_parted_ped_device_read=no
+else case e in #(
+  e) ac_cv_lib_parted_ped_device_read=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_parted_ped_device_read" >&5
 printf "%s\n" "$ac_cv_lib_parted_ped_device_read" >&6; }
@@ -54645,8 +56129,8 @@ printf %s "checking for store_open in -l
 if test ${ac_cv_lib_store_store_open+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lstore $OS_LIBS $UUID_LIBS $DM_LIBS $LIBS
 	 $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -54654,8 +56138,14 @@ cat confdefs.h - <<_ACEOF >conftest.$ac_
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char store_open ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char store_open (void);
 int
 main (void)
 {
@@ -54667,23 +56157,26 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_store_store_open=yes
-else $as_nop
-  ac_cv_lib_store_store_open=no
+else case e in #(
+  e) ac_cv_lib_store_store_open=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_store_store_open" >&5
 printf "%s\n" "$ac_cv_lib_store_store_open" >&6; }
 if test "x$ac_cv_lib_store_store_open" = xyes
 then :
   OS_LIBS="$OS_LIBS -lstore"
-else $as_nop
-  as_fn_error $? "GNU Parted requires libstore when running on GNU/Hurd
+else case e in #(
+  e) as_fn_error $? "GNU Parted requires libstore when running on GNU/Hurd
 systems.  It is a standard part of a GNU/Hurd system.
 		" "$LINENO" 5
-
+		 ;;
+esac
 fi
 
 	LIBS="$OLD_LIBS"
@@ -54703,13 +56196,14 @@ ac_fn_c_check_header_compile "$LINENO" "
 if test "x$ac_cv_header_uuid_uuid_h" = xyes
 then :
 
-else $as_nop
-  as_fn_error $? "GNU Parted requires libuuid - a part of the e2fsprogs package.
+else case e in #(
+  e) as_fn_error $? "GNU Parted requires libuuid - a part of the e2fsprogs package.
 You seem to have the library installed but not the headers.  These are usually
 found in a corresponding development package (usually called e2fsprogs-devel).
 If you can't find one try:
         http://web.mit.edu/tytso/www/linux/e2fsprogs.html" "$LINENO" 5
-
+ ;;
+esac
 fi
 
 
@@ -54740,23 +56234,24 @@ fi
 if test "$with_readline" = yes; then
 	       for ac_header in readline/readline.h readline/history.h
 do :
-  as_ac_Header=`printf "%s\n" "ac_cv_header_$ac_header" | $as_tr_sh`
+  as_ac_Header=`printf "%s\n" "ac_cv_header_$ac_header" | sed "$as_sed_sh"`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
 if eval test \"x\$"$as_ac_Header"\" = x"yes"
 then :
   cat >>confdefs.h <<_ACEOF
-#define `printf "%s\n" "HAVE_$ac_header" | $as_tr_cpp` 1
+#define `printf "%s\n" "HAVE_$ac_header" | sed "$as_sed_cpp"` 1
 _ACEOF
 
-else $as_nop
-  as_fn_error $? "The headers for GNU Readline could not be found which
+else case e in #(
+  e) as_fn_error $? "The headers for GNU Readline could not be found which
 are required for the --with-readline option.  You seem to have the GNU readline
 library installed but not the headers.  These are usually found in a
 corresponding development package (usually called readline-devel).  If you can't
 find one try:
         ftp.gnu.org/gnu/readline
 Alternatively you can disable readline support with --without-readline" "$LINENO" 5
-
+	 ;;
+esac
 fi
 
 done
@@ -54778,13 +56273,14 @@ if test "x$ac_cv_header_wctype_h" = xyes
 then :
   printf "%s\n" "#define HAVE_WCTYPE_H 1" >>confdefs.h
 
-else $as_nop
-  as_fn_error $? "One or more of the header files that are required for
+else case e in #(
+  e) as_fn_error $? "One or more of the header files that are required for
 native language support (wctype.h) could not be found.  Either get a newer
 version of GNU libc and its headers - which can be obtained from:
 	ftp.gnu.org/gnu/glibc
 Or disable native language support with the --disable-nls option" "$LINENO" 5
-
+	 ;;
+esac
 fi
 
 done
@@ -54799,16 +56295,22 @@ printf %s "checking for backtrace in -lc
 if test ${ac_cv_lib_c_backtrace+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_check_lib_save_LIBS=$LIBS
+else case e in #(
+  e) ac_check_lib_save_LIBS=$LIBS
 LIBS="-lc  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char backtrace ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char backtrace (void);
 int
 main (void)
 {
@@ -54820,12 +56322,14 @@ _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_c_backtrace=yes
-else $as_nop
-  ac_cv_lib_c_backtrace=no
+else case e in #(
+  e) ac_cv_lib_c_backtrace=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+LIBS=$ac_check_lib_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_c_backtrace" >&5
 printf "%s\n" "$ac_cv_lib_c_backtrace" >&6; }
@@ -54868,8 +56372,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_path_PKG_CONFIG+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case $PKG_CONFIG in
+else case e in #(
+  e) case $PKG_CONFIG in
   [\\/]* | ?:[\\/]*)
   ac_cv_path_PKG_CONFIG="$PKG_CONFIG" # Let the user override the test with a path.
   ;;
@@ -54894,6 +56398,7 @@ done
 IFS=$as_save_IFS
 
   ;;
+esac ;;
 esac
 fi
 PKG_CONFIG=$ac_cv_path_PKG_CONFIG
@@ -54916,8 +56421,8 @@ printf %s "checking for $ac_word... " >&
 if test ${ac_cv_path_ac_pt_PKG_CONFIG+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  case $ac_pt_PKG_CONFIG in
+else case e in #(
+  e) case $ac_pt_PKG_CONFIG in
   [\\/]* | ?:[\\/]*)
   ac_cv_path_ac_pt_PKG_CONFIG="$ac_pt_PKG_CONFIG" # Let the user override the test with a path.
   ;;
@@ -54942,6 +56447,7 @@ done
 IFS=$as_save_IFS
 
   ;;
+esac ;;
 esac
 fi
 ac_pt_PKG_CONFIG=$ac_cv_path_ac_pt_PKG_CONFIG
@@ -54984,8 +56490,8 @@ printf "%s\n" "no" >&6; }
 fi
 
 pkg_failed=no
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for CHECK" >&5
-printf %s "checking for CHECK... " >&6; }
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for check >= 0.9.3" >&5
+printf %s "checking for check >= 0.9.3... " >&6; }
 
 if test -n "$CHECK_CFLAGS"; then
     pkg_cv_CHECK_CFLAGS="$CHECK_CFLAGS"
@@ -55025,7 +56531,7 @@ fi
 
 
 if test $pkg_failed = yes; then
-   	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
 printf "%s\n" "no" >&6; }
 
 if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
@@ -55034,24 +56540,24 @@ else
         _pkg_short_errors_supported=no
 fi
         if test $_pkg_short_errors_supported = yes; then
-	        CHECK_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "check >= 0.9.3" 2>&1`
+                CHECK_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "check >= 0.9.3" 2>&1`
         else
-	        CHECK_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "check >= 0.9.3" 2>&1`
+                CHECK_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "check >= 0.9.3" 2>&1`
         fi
-	# Put the nasty error message in config.log where it belongs
-	echo "$CHECK_PKG_ERRORS" >&5
+        # Put the nasty error message in config.log where it belongs
+        echo "$CHECK_PKG_ERRORS" >&5
 
-	have_check=no
+        have_check=no
 elif test $pkg_failed = untried; then
-     	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
 printf "%s\n" "no" >&6; }
-	have_check=no
+        have_check=no
 else
-	CHECK_CFLAGS=$pkg_cv_CHECK_CFLAGS
-	CHECK_LIBS=$pkg_cv_CHECK_LIBS
+        CHECK_CFLAGS=$pkg_cv_CHECK_CFLAGS
+        CHECK_LIBS=$pkg_cv_CHECK_LIBS
         { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 printf "%s\n" "yes" >&6; }
-	have_check=yes
+        have_check=yes
 fi
 if test "$have_check" != "yes"; then
     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Unable to locate check version 0.9.3 or higher: not building" >&5
@@ -55072,8 +56578,9 @@ fi
 if test ${with_gnu_ld+y}
 then :
   withval=$with_gnu_ld; test no = "$withval" || with_gnu_ld=yes
-else $as_nop
-  with_gnu_ld=no
+else case e in #(
+  e) with_gnu_ld=no ;;
+esac
 fi
 
 ac_prog=ld
@@ -55118,8 +56625,8 @@ fi
 if test ${lt_cv_path_LD+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  if test -z "$LD"; then
+else case e in #(
+  e) if test -z "$LD"; then
   lt_save_ifs=$IFS; IFS=$PATH_SEPARATOR
   for ac_dir in $PATH; do
     IFS=$lt_save_ifs
@@ -55142,7 +56649,8 @@ else $as_nop
   IFS=$lt_save_ifs
 else
   lt_cv_path_LD=$LD # Let the user override the test with a path.
-fi
+fi ;;
+esac
 fi
 
 LD=$lt_cv_path_LD
@@ -55159,8 +56667,8 @@ printf %s "checking if the linker ($LD)
 if test ${lt_cv_prog_gnu_ld+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  # I'd rather use --version here, but apparently some GNU lds only accept -v.
+else case e in #(
+  e) # I'd rather use --version here, but apparently some GNU lds only accept -v.
 case `$LD -v 2>&1 </dev/null` in
 *GNU* | *'with BFD'*)
   lt_cv_prog_gnu_ld=yes
@@ -55168,6 +56676,7 @@ case `$LD -v 2>&1 </dev/null` in
 *)
   lt_cv_prog_gnu_ld=no
   ;;
+esac ;;
 esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_gnu_ld" >&5
@@ -55185,8 +56694,8 @@ printf %s "checking whether byte orderin
 if test ${ac_cv_c_bigendian+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_cv_c_bigendian=unknown
+else case e in #(
+  e) ac_cv_c_bigendian=unknown
     # See if we're dealing with a universal compiler.
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -55232,8 +56741,8 @@ rm -f core conftest.err conftest.$ac_obj
 int
 main (void)
 {
-#if ! (defined BYTE_ORDER && defined BIG_ENDIAN \
-		     && defined LITTLE_ENDIAN && BYTE_ORDER && BIG_ENDIAN \
+#if ! (defined BYTE_ORDER && defined BIG_ENDIAN \\
+		     && defined LITTLE_ENDIAN && BYTE_ORDER && BIG_ENDIAN \\
 		     && LITTLE_ENDIAN)
 	      bogus endian macros
 	     #endif
@@ -55264,8 +56773,9 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_c_bigendian=yes
-else $as_nop
-  ac_cv_c_bigendian=no
+else case e in #(
+  e) ac_cv_c_bigendian=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
@@ -55309,8 +56819,9 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_c_bigendian=yes
-else $as_nop
-  ac_cv_c_bigendian=no
+else case e in #(
+  e) ac_cv_c_bigendian=no ;;
+esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
@@ -55337,22 +56848,23 @@ unsigned short int ascii_mm[] =
 		int use_ebcdic (int i) {
 		  return ebcdic_mm[i] + ebcdic_ii[i];
 		}
-		extern int foo;
-
-int
-main (void)
-{
-return use_ascii (foo) == use_ebcdic (foo);
-  ;
-  return 0;
-}
+		int
+		main (int argc, char **argv)
+		{
+		  /* Intimidate the compiler so that it does not
+		     optimize the arrays away.  */
+		  char *p = argv[0];
+		  ascii_mm[1] = *p++; ebcdic_mm[1] = *p++;
+		  ascii_ii[1] = *p++; ebcdic_ii[1] = *p++;
+		  return use_ascii (argc) == use_ebcdic (*p);
+		}
 _ACEOF
-if ac_fn_c_try_compile "$LINENO"
+if ac_fn_c_try_link "$LINENO"
 then :
-  if grep BIGenDianSyS conftest.$ac_objext >/dev/null; then
+  if grep BIGenDianSyS conftest$ac_exeext >/dev/null; then
 	      ac_cv_c_bigendian=yes
 	    fi
-	    if grep LiTTleEnDian conftest.$ac_objext >/dev/null ; then
+	    if grep LiTTleEnDian conftest$ac_exeext >/dev/null ; then
 	      if test "$ac_cv_c_bigendian" = unknown; then
 		ac_cv_c_bigendian=no
 	      else
@@ -55361,9 +56873,10 @@ then :
 	      fi
 	    fi
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $ac_includes_default
 int
@@ -55386,14 +56899,17 @@ _ACEOF
 if ac_fn_c_try_run "$LINENO"
 then :
   ac_cv_c_bigendian=no
-else $as_nop
-  ac_cv_c_bigendian=yes
+else case e in #(
+  e) ac_cv_c_bigendian=yes ;;
+esac
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
+  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 
-    fi
+    fi ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_bigendian" >&5
 printf "%s\n" "$ac_cv_c_bigendian" >&6; }
@@ -55418,8 +56934,8 @@ printf %s "checking for inline... " >&6;
 if test ${ac_cv_c_inline+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_cv_c_inline=no
+else case e in #(
+  e) ac_cv_c_inline=no
 for ac_kw in inline __inline__ __inline; do
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -55437,7 +56953,8 @@ fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
   test "$ac_cv_c_inline" != no && break
 done
-
+ ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_inline" >&5
 printf "%s\n" "$ac_cv_c_inline" >&6; }
@@ -55462,8 +56979,8 @@ printf %s "checking for an ANSI C-confor
 if test ${ac_cv_c_const+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else case e in #(
+  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 int
@@ -55527,10 +57044,12 @@ _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_c_const=yes
-else $as_nop
-  ac_cv_c_const=no
+else case e in #(
+  e) ac_cv_c_const=no ;;
+esac
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_const" >&5
 printf "%s\n" "$ac_cv_c_const" >&6; }
@@ -55545,8 +57064,8 @@ printf %s "checking for C/C++ restrict k
 if test ${ac_cv_c_restrict+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_cv_c_restrict=no
+else case e in #(
+  e) ac_cv_c_restrict=no
    # Put '__restrict__' first, to avoid problems with glibc and non-GCC; see:
    # https://lists.gnu.org/archive/html/bug-autoconf/2016-02/msg00006.html
    # Put 'restrict' last, because C++ lacks it.
@@ -55577,7 +57096,8 @@ fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
      test "$ac_cv_c_restrict" != no && break
    done
-
+   ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_restrict" >&5
 printf "%s\n" "$ac_cv_c_restrict" >&6; }
@@ -55641,15 +57161,21 @@ printf %s "checking for library containi
 if test ${ac_cv_search_blkid_probe_get_topology+y}
 then :
   printf %s "(cached) " >&6
-else $as_nop
-  ac_func_search_save_LIBS=$LIBS
+else case e in #(
+  e) ac_func_search_save_LIBS=$LIBS
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-char blkid_probe_get_topology ();
+   builtin and then its argument prototype would still apply.
+   The 'extern "C"' is for builds by C++ compilers;
+   although this is not generally supported in C code supporting it here
+   has little cost and some practical benefit (sr 110532).  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char blkid_probe_get_topology (void);
 int
 main (void)
 {
@@ -55680,11 +57206,13 @@ done
 if test ${ac_cv_search_blkid_probe_get_topology+y}
 then :
 
-else $as_nop
-  ac_cv_search_blkid_probe_get_topology=no
+else case e in #(
+  e) ac_cv_search_blkid_probe_get_topology=no ;;
+esac
 fi
 rm conftest.$ac_ext
-LIBS=$ac_func_search_save_LIBS
+LIBS=$ac_func_search_save_LIBS ;;
+esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_blkid_probe_get_topology" >&5
 printf "%s\n" "$ac_cv_search_blkid_probe_get_topology" >&6; }
@@ -55700,8 +57228,9 @@ fi
 if test "x$ac_cv_func_blkid_probe_get_topology" = xyes
 then :
   use_blkid=1
-else $as_nop
-  use_blkid=0
+else case e in #(
+  e) use_blkid=0 ;;
+esac
 fi
 
 LIBS=$pe_saved_libs
@@ -55723,8 +57252,8 @@ cat >confcache <<\_ACEOF
 # config.status only pays attention to the cache file if you give it
 # the --recheck option to rerun configure.
 #
-# `ac_cv_env_foo' variables (set or unset) will be overridden when
-# loading this file, other *unset* `ac_cv_foo' will be assigned the
+# 'ac_cv_env_foo' variables (set or unset) will be overridden when
+# loading this file, other *unset* 'ac_cv_foo' will be assigned the
 # following values.
 
 _ACEOF
@@ -55754,14 +57283,14 @@ printf "%s\n" "$as_me: WARNING: cache va
   (set) 2>&1 |
     case $as_nl`(ac_space=' '; set) 2>&1` in #(
     *${as_nl}ac_space=\ *)
-      # `set' does not quote correctly, so add quotes: double-quote
+      # 'set' does not quote correctly, so add quotes: double-quote
       # substitution turns \\\\ into \\, and sed turns \\ into \.
       sed -n \
 	"s/'/'\\\\''/g;
 	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
       ;; #(
     *)
-      # `set' quotes correctly as required by POSIX, so do not add quotes.
+      # 'set' quotes correctly as required by POSIX, so do not add quotes.
       sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
       ;;
     esac |
@@ -55856,10 +57385,10 @@ then :
   enableval=$enable_year2038;
 fi
 
-# Check whether --enable-largefile was given.
-if test ${enable_largefile+y}
+# Check whether --enable-year2038 was given.
+if test ${enable_year2038+y}
 then :
-  enableval=$enable_largefile;
+  enableval=$enable_year2038;
 fi
 
 if test -z "${GL_COND_LIBTOOL_TRUE}" && test -z "${GL_COND_LIBTOOL_FALSE}"; then
@@ -55962,7 +57491,6 @@ cat >>$CONFIG_STATUS <<\_ASEOF || as_wri
 
 # Be more Bourne compatible
 DUALCASE=1; export DUALCASE # for MKS sh
-as_nop=:
 if test ${ZSH_VERSION+y} && (emulate sh) >/dev/null 2>&1
 then :
   emulate sh
@@ -55971,12 +57499,13 @@ then :
   # is contrary to our usage.  Disable this feature.
   alias -g '${1+"$@"}'='"$@"'
   setopt NO_GLOB_SUBST
-else $as_nop
-  case `(set -o) 2>/dev/null` in #(
+else case e in #(
+  e) case `(set -o) 2>/dev/null` in #(
   *posix*) :
     set -o posix ;; #(
   *) :
      ;;
+esac ;;
 esac
 fi
 
@@ -56048,7 +57577,7 @@ IFS=$as_save_IFS
 
      ;;
 esac
-# We did not find ourselves, most probably we were run as `sh COMMAND'
+# We did not find ourselves, most probably we were run as 'sh COMMAND'
 # in which case we are not to be found in the path.
 if test "x$as_myself" = x; then
   as_myself=$0
@@ -56077,7 +57606,6 @@ as_fn_error ()
 } # as_fn_error
 
 
-
 # as_fn_set_status STATUS
 # -----------------------
 # Set $? to STATUS, without forking.
@@ -56117,11 +57645,12 @@ then :
   {
     eval $1+=\$2
   }'
-else $as_nop
-  as_fn_append ()
+else case e in #(
+  e) as_fn_append ()
   {
     eval $1=\$$1\$2
-  }
+  } ;;
+esac
 fi # as_fn_append
 
 # as_fn_arith ARG...
@@ -56135,11 +57664,12 @@ then :
   {
     as_val=$(( $* ))
   }'
-else $as_nop
-  as_fn_arith ()
+else case e in #(
+  e) as_fn_arith ()
   {
     as_val=`expr "$@" || test $? -eq 1`
-  }
+  } ;;
+esac
 fi # as_fn_arith
 
 
@@ -56222,9 +57752,9 @@ if (echo >conf$$.file) 2>/dev/null; then
   if ln -s conf$$.file conf$$ 2>/dev/null; then
     as_ln_s='ln -s'
     # ... but there are two gotchas:
-    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
-    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
-    # In both cases, we have to default to `cp -pR'.
+    # 1) On MSYS, both 'ln -s file dir' and 'ln file dir' fail.
+    # 2) DJGPP < 2.04 has no symlinks; 'ln -s' creates a wrapper executable.
+    # In both cases, we have to default to 'cp -pR'.
     ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
       as_ln_s='cp -pR'
   elif ln conf$$.file conf$$ 2>/dev/null; then
@@ -56305,10 +57835,12 @@ as_test_x='test -x'
 as_executable_p=as_fn_executable_p
 
 # Sed expression to map a string onto a valid CPP name.
-as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
+as_sed_cpp="y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g"
+as_tr_cpp="eval sed '$as_sed_cpp'" # deprecated
 
 # Sed expression to map a string onto a valid variable name.
-as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
+as_sed_sh="y%*+%pp%;s%[^_$as_cr_alnum]%_%g"
+as_tr_sh="eval sed '$as_sed_sh'" # deprecated
 
 
 exec 6>&1
@@ -56324,7 +57856,7 @@ cat >>$CONFIG_STATUS <<\_ACEOF || ac_wri
 # values after options handling.
 ac_log="
 This file was extended by GNU parted $as_me 3.6, which was
-generated by GNU Autoconf 2.71.  Invocation command line was
+generated by GNU Autoconf 2.72.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
@@ -56357,7 +57889,7 @@ _ACEOF
 
 cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
 ac_cs_usage="\
-\`$as_me' instantiates files and other configuration actions
+'$as_me' instantiates files and other configuration actions
 from templates according to the current configuration.  Unless the files
 and actions are specified as TAGs, all are instantiated by default.
 
@@ -56398,10 +57930,10 @@ cat >>$CONFIG_STATUS <<_ACEOF || ac_writ
 ac_cs_config='$ac_cs_config_escaped'
 ac_cs_version="\\
 GNU parted config.status 3.6
-configured by $0, generated by GNU Autoconf 2.71,
+configured by $0, generated by GNU Autoconf 2.72,
   with options \\"\$ac_cs_config\\"
 
-Copyright (C) 2021 Free Software Foundation, Inc.
+Copyright (C) 2023 Free Software Foundation, Inc.
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it."
 
@@ -56463,8 +57995,8 @@ do
     ac_need_defaults=false;;
   --he | --h)
     # Conflict between --help and --header
-    as_fn_error $? "ambiguous option: \`$1'
-Try \`$0 --help' for more information.";;
+    as_fn_error $? "ambiguous option: '$1'
+Try '$0 --help' for more information.";;
   --help | --hel | -h )
     printf "%s\n" "$ac_cs_usage"; exit ;;
   -q | -quiet | --quiet | --quie | --qui | --qu | --q \
@@ -56472,8 +58004,8 @@ Try \`$0 --help' for more information.";
     ac_cs_silent=: ;;
 
   # This is an error.
-  -*) as_fn_error $? "unrecognized option: \`$1'
-Try \`$0 --help' for more information." ;;
+  -*) as_fn_error $? "unrecognized option: '$1'
+Try '$0 --help' for more information." ;;
 
   *) as_fn_append ac_config_targets " $1"
      ac_need_defaults=false ;;
@@ -56844,7 +58376,7 @@ do
     "tests/Makefile") CONFIG_FILES="$CONFIG_FILES tests/Makefile" ;;
     "po/Makefile.in") CONFIG_FILES="$CONFIG_FILES po/Makefile.in" ;;
 
-  *) as_fn_error $? "invalid argument: \`$ac_config_target'" "$LINENO" 5;;
+  *) as_fn_error $? "invalid argument: '$ac_config_target'" "$LINENO" 5;;
   esac
 done
 
@@ -56865,7 +58397,7 @@ fi
 # creating and moving files from /tmp can sometimes cause problems.
 # Hook for its removal unless debugging.
 # Note that there is a small window in which the directory will not be cleaned:
-# after its creation but before its name has been assigned to `$tmp'.
+# after its creation but before its name has been assigned to '$tmp'.
 $debug ||
 {
   tmp= ac_tmp=
@@ -56889,7 +58421,7 @@ ac_tmp=$tmp
 
 # Set up the scripts for CONFIG_FILES section.
 # No need to generate them if there are no CONFIG_FILES.
-# This happens for instance with `./config.status config.h'.
+# This happens for instance with './config.status config.h'.
 if test -n "$CONFIG_FILES"; then
 
 
@@ -57047,13 +58579,13 @@ fi # test -n "$CONFIG_FILES"
 
 # Set up the scripts for CONFIG_HEADERS section.
 # No need to generate them if there are no CONFIG_HEADERS.
-# This happens for instance with `./config.status Makefile'.
+# This happens for instance with './config.status Makefile'.
 if test -n "$CONFIG_HEADERS"; then
 cat >"$ac_tmp/defines.awk" <<\_ACAWK ||
 BEGIN {
 _ACEOF
 
-# Transform confdefs.h into an awk script `defines.awk', embedded as
+# Transform confdefs.h into an awk script 'defines.awk', embedded as
 # here-document in config.status, that substitutes the proper values into
 # config.h.in to produce config.h.
 
@@ -57163,7 +58695,7 @@ do
   esac
   case $ac_mode$ac_tag in
   :[FHL]*:*);;
-  :L* | :C*:*) as_fn_error $? "invalid tag \`$ac_tag'" "$LINENO" 5;;
+  :L* | :C*:*) as_fn_error $? "invalid tag '$ac_tag'" "$LINENO" 5;;
   :[FH]-) ac_tag=-:-;;
   :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;
   esac
@@ -57185,19 +58717,19 @@ do
       -) ac_f="$ac_tmp/stdin";;
       *) # Look for the file first in the build tree, then in the source tree
 	 # (if the path is not absolute).  The absolute path cannot be DOS-style,
-	 # because $ac_f cannot contain `:'.
+	 # because $ac_f cannot contain ':'.
 	 test -f "$ac_f" ||
 	   case $ac_f in
 	   [\\/$]*) false;;
 	   *) test -f "$srcdir/$ac_f" && ac_f="$srcdir/$ac_f";;
 	   esac ||
-	   as_fn_error 1 "cannot find input file: \`$ac_f'" "$LINENO" 5;;
+	   as_fn_error 1 "cannot find input file: '$ac_f'" "$LINENO" 5;;
       esac
       case $ac_f in *\'*) ac_f=`printf "%s\n" "$ac_f" | sed "s/'/'\\\\\\\\''/g"`;; esac
       as_fn_append ac_file_inputs " '$ac_f'"
     done
 
-    # Let's still pretend it is `configure' which instantiates (i.e., don't
+    # Let's still pretend it is 'configure' which instantiates (i.e., don't
     # use $as_me), people would be surprised to read:
     #    /* config.h.  Generated by config.status.  */
     configure_input='Generated from '`
@@ -57330,7 +58862,7 @@ cat >>$CONFIG_STATUS <<_ACEOF || ac_writ
 esac
 _ACEOF
 
-# Neutralize VPATH when `$srcdir' = `.'.
+# Neutralize VPATH when '$srcdir' = '.'.
 # Shell code in configure.ac might set extrasub.
 # FIXME: do we really want to maintain this feature?
 cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
@@ -57361,9 +58893,9 @@ test -z "$ac_datarootdir_hack$ac_dataroo
   { ac_out=`sed -n '/\${datarootdir}/p' "$ac_tmp/out"`; test -n "$ac_out"; } &&
   { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' \
       "$ac_tmp/out"`; test -z "$ac_out"; } &&
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: $ac_file contains a reference to the variable \`datarootdir'
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: $ac_file contains a reference to the variable 'datarootdir'
 which seems to be undefined.  Please make sure it is defined" >&5
-printf "%s\n" "$as_me: WARNING: $ac_file contains a reference to the variable \`datarootdir'
+printf "%s\n" "$as_me: WARNING: $ac_file contains a reference to the variable 'datarootdir'
 which seems to be undefined.  Please make sure it is defined" >&2;}
 
   rm -f "$ac_tmp/stdin"
@@ -57549,15 +59081,15 @@ printf "%s\n" X/"$am_mf" |
    (exit $ac_status); } || am_rc=$?
   done
   if test $am_rc -ne 0; then
-    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
 as_fn_error $? "Something went wrong bootstrapping makefile fragments
     for automatic dependency tracking.  If GNU make was not used, consider
     re-running the configure script with MAKE=\"gmake\" (or whatever is
     necessary).  You can also try re-running configure with the
     '--disable-dependency-tracking' option to at least be able to build
     the package (albeit without support for automatic dependency tracking).
-See \`config.log' for more details" "$LINENO" 5; }
+See 'config.log' for more details" "$LINENO" 5; }
   fi
   { am_dirpart=; unset am_dirpart;}
   { am_filepart=; unset am_filepart;}
Index: parted/parted-3.6/libparted/Makefile.in
===================================================================
--- parted.orig/parted-3.6/libparted/Makefile.in
+++ parted/parted-3.6/libparted/Makefile.in
@@ -275,8 +275,8 @@ am__depfiles_remade = ./$(DEPDIR)/archit
 	./$(DEPDIR)/timer.Plo ./$(DEPDIR)/unit.Plo \
 	arch/$(DEPDIR)/$(OS).Plo arch/$(DEPDIR)/beos.Plo \
 	arch/$(DEPDIR)/gnu.Plo arch/$(DEPDIR)/linux.Plo \
-	cs/$(DEPDIR)/constraint.Plo cs/$(DEPDIR)/geom.Plo \
-	cs/$(DEPDIR)/natmath.Plo
+	arch/$(DEPDIR)/onyx.Plo cs/$(DEPDIR)/constraint.Plo \
+	cs/$(DEPDIR)/geom.Plo cs/$(DEPDIR)/natmath.Plo
 am__mv = mv -f
 COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
 	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
@@ -1770,7 +1770,8 @@ libparted_la_SOURCES = debug.c			\
 EXTRA_libparted_la_SOURCES = arch/linux.c	\
 				arch/linux.h	\
 				arch/gnu.c	\
-				arch/beos.c
+				arch/beos.c     \
+				arch/onyx.c
 
 libparted_la_LIBADD = \
   fs/libfs.la		\
@@ -1871,6 +1872,7 @@ arch/$(OS).lo: arch/$(am__dirstamp) arch
 arch/linux.lo: arch/$(am__dirstamp) arch/$(DEPDIR)/$(am__dirstamp)
 arch/gnu.lo: arch/$(am__dirstamp) arch/$(DEPDIR)/$(am__dirstamp)
 arch/beos.lo: arch/$(am__dirstamp) arch/$(DEPDIR)/$(am__dirstamp)
+arch/onyx.lo: arch/$(am__dirstamp) arch/$(DEPDIR)/$(am__dirstamp)
 
 libparted.la: $(libparted_la_OBJECTS) $(libparted_la_DEPENDENCIES) $(EXTRA_libparted_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(libparted_la_LINK) -rpath $(libdir) $(libparted_la_OBJECTS) $(libparted_la_LIBADD) $(LIBS)
@@ -1898,6 +1900,7 @@ distclean-compile:
 @AMDEP_TRUE@@am__include@ @am__quote@arch/$(DEPDIR)/beos.Plo@am__quote@ # am--include-marker
 @AMDEP_TRUE@@am__include@ @am__quote@arch/$(DEPDIR)/gnu.Plo@am__quote@ # am--include-marker
 @AMDEP_TRUE@@am__include@ @am__quote@arch/$(DEPDIR)/linux.Plo@am__quote@ # am--include-marker
+@AMDEP_TRUE@@am__include@ @am__quote@arch/$(DEPDIR)/onyx.Plo@am__quote@ # am--include-marker
 @AMDEP_TRUE@@am__include@ @am__quote@cs/$(DEPDIR)/constraint.Plo@am__quote@ # am--include-marker
 @AMDEP_TRUE@@am__include@ @am__quote@cs/$(DEPDIR)/geom.Plo@am__quote@ # am--include-marker
 @AMDEP_TRUE@@am__include@ @am__quote@cs/$(DEPDIR)/natmath.Plo@am__quote@ # am--include-marker
@@ -2157,6 +2160,7 @@ distclean: distclean-recursive
 	-rm -f arch/$(DEPDIR)/beos.Plo
 	-rm -f arch/$(DEPDIR)/gnu.Plo
 	-rm -f arch/$(DEPDIR)/linux.Plo
+	-rm -f arch/$(DEPDIR)/onyx.Plo
 	-rm -f cs/$(DEPDIR)/constraint.Plo
 	-rm -f cs/$(DEPDIR)/geom.Plo
 	-rm -f cs/$(DEPDIR)/natmath.Plo
@@ -2218,6 +2222,7 @@ maintainer-clean: maintainer-clean-recur
 	-rm -f arch/$(DEPDIR)/beos.Plo
 	-rm -f arch/$(DEPDIR)/gnu.Plo
 	-rm -f arch/$(DEPDIR)/linux.Plo
+	-rm -f arch/$(DEPDIR)/onyx.Plo
 	-rm -f cs/$(DEPDIR)/constraint.Plo
 	-rm -f cs/$(DEPDIR)/geom.Plo
 	-rm -f cs/$(DEPDIR)/natmath.Plo
Index: parted/parted-3.6/aclocal.m4
===================================================================
--- parted.orig/parted-3.6/aclocal.m4
+++ parted/parted-3.6/aclocal.m4
@@ -14,14 +14,14 @@
 m4_ifndef([AC_CONFIG_MACRO_DIRS], [m4_defun([_AM_CONFIG_MACRO_DIRS], [])m4_defun([AC_CONFIG_MACRO_DIRS], [_AM_CONFIG_MACRO_DIRS($@)])])
 m4_ifndef([AC_AUTOCONF_VERSION],
   [m4_copy([m4_PACKAGE_VERSION], [AC_AUTOCONF_VERSION])])dnl
-m4_if(m4_defn([AC_AUTOCONF_VERSION]), [2.71],,
-[m4_warning([this file was generated for autoconf 2.71.
+m4_if(m4_defn([AC_AUTOCONF_VERSION]), [2.72],,
+[m4_warning([this file was generated for autoconf 2.72.
 You have another version of autoconf.  It may work, but is not guaranteed to.
 If you have problems, you may need to regenerate the build system entirely.
 To do so, use the procedure documented by the package, typically 'autoreconf'.])])
 
-# pkg.m4 - Macros to locate and utilise pkg-config.   -*- Autoconf -*-
-# serial 11 (pkg-config-0.29.1)
+# pkg.m4 - Macros to locate and use pkg-config.   -*- Autoconf -*-
+# serial 12 (pkg-config-0.29.2)
 
 dnl Copyright © 2004 Scott James Remnant <scott@netsplit.com>.
 dnl Copyright © 2012-2015 Dan Nicholson <dbn.lists@gmail.com>
@@ -63,7 +63,7 @@ dnl
 dnl See the "Since" comment for each macro you use to see what version
 dnl of the macros you require.
 m4_defun([PKG_PREREQ],
-[m4_define([PKG_MACROS_VERSION], [0.29.1])
+[m4_define([PKG_MACROS_VERSION], [0.29.2])
 m4_if(m4_version_compare(PKG_MACROS_VERSION, [$1]), -1,
     [m4_fatal([pkg.m4 version $1 or higher is required but ]PKG_MACROS_VERSION[ found])])
 ])dnl PKG_PREREQ
@@ -108,7 +108,7 @@ dnl Check to see whether a particular se
 dnl PKG_CHECK_MODULES(), but does not set variables or print errors.
 dnl
 dnl Please remember that m4 expands AC_REQUIRE([PKG_PROG_PKG_CONFIG])
-dnl only at the first occurence in configure.ac, so if the first place
+dnl only at the first occurrence in configure.ac, so if the first place
 dnl it's called might be skipped (such as if it is within an "if", you
 dnl have to call PKG_CHECK_EXISTS manually
 AC_DEFUN([PKG_CHECK_EXISTS],
@@ -164,7 +164,7 @@ AC_ARG_VAR([$1][_CFLAGS], [C compiler fl
 AC_ARG_VAR([$1][_LIBS], [linker flags for $1, overriding pkg-config])dnl
 
 pkg_failed=no
-AC_MSG_CHECKING([for $1])
+AC_MSG_CHECKING([for $2])
 
 _PKG_CONFIG([$1][_CFLAGS], [cflags], [$2])
 _PKG_CONFIG([$1][_LIBS], [libs], [$2])
@@ -174,17 +174,17 @@ and $1[]_LIBS to avoid the need to call
 See the pkg-config man page for more details.])
 
 if test $pkg_failed = yes; then
-   	AC_MSG_RESULT([no])
+        AC_MSG_RESULT([no])
         _PKG_SHORT_ERRORS_SUPPORTED
         if test $_pkg_short_errors_supported = yes; then
-	        $1[]_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "$2" 2>&1`
-        else 
-	        $1[]_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "$2" 2>&1`
+                $1[]_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "$2" 2>&1`
+        else
+                $1[]_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "$2" 2>&1`
         fi
-	# Put the nasty error message in config.log where it belongs
-	echo "$$1[]_PKG_ERRORS" >&AS_MESSAGE_LOG_FD
+        # Put the nasty error message in config.log where it belongs
+        echo "$$1[]_PKG_ERRORS" >&AS_MESSAGE_LOG_FD
 
-	m4_default([$4], [AC_MSG_ERROR(
+        m4_default([$4], [AC_MSG_ERROR(
 [Package requirements ($2) were not met:
 
 $$1_PKG_ERRORS
@@ -195,8 +195,8 @@ installed software in a non-standard pre
 _PKG_TEXT])[]dnl
         ])
 elif test $pkg_failed = untried; then
-     	AC_MSG_RESULT([no])
-	m4_default([$4], [AC_MSG_FAILURE(
+        AC_MSG_RESULT([no])
+        m4_default([$4], [AC_MSG_FAILURE(
 [The pkg-config script could not be found or is too old.  Make sure it
 is in your PATH or set the PKG_CONFIG environment variable to the full
 path to pkg-config.
@@ -206,10 +206,10 @@ _PKG_TEXT
 To get pkg-config, see <http://pkg-config.freedesktop.org/>.])[]dnl
         ])
 else
-	$1[]_CFLAGS=$pkg_cv_[]$1[]_CFLAGS
-	$1[]_LIBS=$pkg_cv_[]$1[]_LIBS
+        $1[]_CFLAGS=$pkg_cv_[]$1[]_CFLAGS
+        $1[]_LIBS=$pkg_cv_[]$1[]_LIBS
         AC_MSG_RESULT([yes])
-	$3
+        $3
 fi[]dnl
 ])dnl PKG_CHECK_MODULES
 
